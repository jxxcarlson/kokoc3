if("undefined"==typeof Opal&&"object"==typeof module&&module.exports&&(Opal=require("opal-runtime").Opal),"undefined"==typeof Opal){var GLOBAL_COUNTER={};(function(i){var r,s,l,a,o,c,t=this;if("undefined"!=typeof global&&(t=global),"undefined"!=typeof window&&(t=window),"log"in(r="object"==typeof t.console?t.console:null==t.console?t.console={}:{})||(r.log=function(){}),"warn"in r||(r.warn=r.log),void 0!==this.Opal)return r.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;function u(){}function e(){}function n(){}function $(){}function _(){}var d=this.Opal={},f={},p=function(){};(p.prototype=d).constructor=p,d.constants=[],((d.global=t).Opal=d).config={missing_require_severity:"error",unsupported_features_severity:"warning"};var h=d.hasOwnProperty,g=(d.slice=Array.prototype.slice,4);function b(t,e,n){var $=[t],r=t.base;if(n||r==d.Object)for(var o=r.$$super;o!==d.BasicObject&&o!==d.Object;)$.push(o.$$scope),o=o.$$super;for(var i=0,s=$.length;i<s;i++)if($[i].hasOwnProperty(e))return $[i][e]}function m(t,e){var n,$,r=e.$instance_methods();for(n=r.length-1;0<=n;n--)$="$"+r[n],d.bridge_method(t,e,$,e.$$proto[$])}d.uid=function(){return g+=2},d.id=function(t){return t.$$id||(t.$$id=d.uid())},d.cvars={},d.gvars={},d.exit=function(t){d.gvars.DEBUG&&r.log("Exited with status "+t)},d.exceptions=[],d.pop_exception=function(){d.gvars["!"]=d.exceptions.pop()||s},d.get=function(t){return d.const_get([this],t,!0,!0)},d.counter_count=function(t){void 0===GLOBAL_COUNTER[t]&&(GLOBAL_COUNTER[t]=0),GLOBAL_COUNTER[t]+=1},d.const_get=function(t,e,n,$){var r=function(t,e,n){var $,r,o,i=t.length,s=t[i-1];for($=i-1;0<=$;$--){var l=t[$];if(l.$$is_singleton?(r=l.$$scope,n=l===s):r=l,r.hasOwnProperty(e)&&(o=r[e]),null!=o)return o;if(null!=(o=b(r,e,n)))return o}}(t,e,n);if(null!=r)return r;if(n&&(r=function(t){var e=d.Object.$$scope;if(e.hasOwnProperty(t))return e[t]}(e)),null!=r)return r;if($){var o=t[t.length-1].base;if(o.$$is_a_module)return o.$const_missing(e)}},d.create_scope=function(t,e,n){var $=function(){},r=$.prototype=new t.constructor;e.$$scope=r,e.$$base_module=t.base,r.base=e,r.constructor=$,r.constants=[],n&&(d.cdecl(t,n,e),$.displayName=n+"_scope_alloc")},d.casgn=function(t,e,n){var $=t.$$scope;if((n.$$is_class||n.$$is_module)&&((n.$$is_class||n.$$base_module===a)&&(n.$$base_module=t),n.$$name===s&&n.$$base_module.$$name!==s&&function t(e,n){for(n in e.$$name=n,e.$$scope){var $=e.$$scope[n];$.$$name===s&&($.$$is_class||$.$$is_module)&&t($,n)}}(n,e)),$.constants.push(e),$[e]=n,t.$$is_module&&t.$$included_in)for(var r=0;r<t.$$included_in.length;r++){var o=t.$$included_in[r];d.casgn(o,e,n)}return n},d.cdecl=function(t,e,n){return(n.$$is_class||n.$$is_module)&&null==n.$$orig_scope&&(n.$$name=e,n.$$orig_scope=t,n.$$base_module=t.base,t.constructor[e]=n),t.constants.push(e),t[e]=n},d.klass=function(t,e,n,$){var r,o,i;if(t.$$is_class||t.$$is_module||(t=t.$$class),"function"==typeof e&&(o=e,e=a),(r=t.$$scope[n])&&r.$$orig_scope===t.$$scope){if(!r.$$is_class)throw d.TypeError.$new(n+" is not a class");if(e&&r.$$super!==e)throw d.TypeError.$new("superclass mismatch for class "+n);return r}return null==e&&(e=a),i=o||d.boot_class_alloc(n,$,e),(r=d.setup_class_object(n,i,e.$$name,e.constructor)).$$super=e,r.$$parent=e,d.create_scope(t.$$scope,r,n),t[n]=r,o?d.bridge(r,i):(e!==a&&e!==l&&d.donate_constants(e,r),e.$inherited&&e.$inherited(r)),r},d.boot_class_alloc=function(t,e,n){if(n){var $=function(){};$.prototype=n.$$proto||n.prototype,e.prototype=new $}return t&&(e.displayName=t+"_alloc"),e.prototype.constructor=e},d.setup_module_or_class=function(t){t.$$id=d.uid(),t.$$is_a_module=!0,t.$$inc=[],t.$$name=s,t.$$cvars=Object.create(null)},d.setup_class_object=function(t,e,n,$){var r=function(){};r.prototype=$.prototype,r.displayName=n;var o=function(){};o.prototype=new r;var i=new o;return d.setup_module_or_class(i),i.$$alloc=e,i.$$name=t||s,o.displayName="#<Class:"+(t||"#<Class:"+i.$$id+">")+">",i.$$proto=e.prototype,(i.$$proto.$$class=i).constructor=o,i.$$is_class=!0,i.$$class=c,i},d.module=function(t,e){var n;if(t.$$is_class||t.$$is_module||(t=t.$$class),h.call(t.$$scope,e)){if(!(n=t.$$scope[e]).$$is_module&&n!==a)throw d.TypeError.$new(e+" is not a module")}else n=d.module_allocate(o),d.create_scope(t.$$scope,n,e);return n},d.module_initialize=function(t,e){if(e!==s){var n=e.$$s;e.$$s=null,e.call(t),e.$$s=n}return s},d.module_allocate=function(t){var e=function(){};function n(){}e.prototype=t.$$alloc.prototype,n.prototype=new e;var $=new n;return d.setup_module_or_class($),$.$$included_in=[],n.displayName="#<Class:#<Module:"+$.$$id+">>",$.$$proto={},$.constructor=n,$.$$is_module=!0,$.$$class=o,$.$$super=t,$.$$parent=t,$},d.get_singleton_class=function(t){return t.$$meta?t.$$meta:t.$$is_class||t.$$is_module?d.build_class_singleton_class(t):d.build_object_singleton_class(t)},d.build_class_singleton_class=function(t){var e,n,$;return t.$$meta?t.$$meta:(e=t.constructor,n=t===l?c:d.build_class_singleton_class(t.$$super),($=d.setup_class_object(null,e,n.$$name,n.constructor)).$$super=n,$.$$parent=n,d.create_scope(t.$$scope,$),$.$$is_singleton=!0,($.$$singleton_of=t).$$meta=$)},d.build_object_singleton_class=function(t){var e=t.$$class,n="#<Class:#<"+e.$$name+":"+e.$$id+">>",$=d.boot_class_alloc(n,function(){},e),r=d.setup_class_object(n,$,e.$$name,e.constructor);return r.$$super=e,r.$$parent=e,r.$$class=e.$$class,r.$$scope=e.$$scope,r.$$proto=t,r.$$is_singleton=!0,(r.$$singleton_of=t).$$meta=r},d.class_variables=function(t){var e,n=d.ancestors(t),$={};for(e=n.length-1;0<=e;e--){var r=n[e];for(var o in r.$$cvars)$[o]=r.$$cvars[o]}return $},d.class_variable_set=function(t,e,n){var $,r=d.ancestors(t);for($=r.length-2;0<=$;$--){var o=r[$];if(h.call(o.$$cvars,e))return o.$$cvars[e]=n}return t.$$cvars[e]=n},d.bridge_method=function(t,e,n,$){var r,o,i,s;for(o=0,s=(r=t.$$bridge.$ancestors()).length;o<s&&(i=r[o],!h.call(i.$$proto,n)||!i.$$proto[n]||i.$$proto[n].$$donated||i.$$proto[n].$$stub||i===e);o++)if(i===e){t.prototype[n]=$;break}},d.bridge_methods=function(t,e){var n,$=f[t.$__id__()],r=e.$__id__();if($)for(f[r]=$.slice(),n=$.length-1;0<=n;n--)m($[n],e)},d.has_cyclic_dep=function t(e,n,$,r){var o,i,s;for(o=n.length-1;0<=o;o--)if(!r[i=(s=n[o]).$$id]){if(r[i]=!0,i===e)return!0;if(t(e,s[$],$,r))return!0}return!1},d.append_features=function(t,e){var n,$,r;for(r=e.$$inc.length-1;0<=r;r--)if(e.$$inc[r]===t)return;if(!e.$$is_class&&d.has_cyclic_dep(e.$$id,[t],"$$inc",{}))throw d.ArgumentError.$new("cyclic include detected");for(e.$$inc.push(t),t.$$included_in.push(e),d.bridge_methods(e,t),n={$$name:t.$$name,$$proto:t.$$proto,$$parent:e.$$parent,$$module:t,$$iclass:!0},e.$$parent=n,r=($=t.$instance_methods()).length-1;0<=r;r--)d.update_includer(t,e,"$"+$[r]);d.donate_constants(t,e)},d.stubs={},d.bridge=function(t,e){if(e.$$bridge)throw d.ArgumentError.$new("already bridged");for(var n in d.stub_subscribers.push(e.prototype),d.stubs)n in e.prototype||(e.prototype[n]=d.stub_for(n));e.prototype.$$class=t;for(var $,r,o,i=(e.$$bridge=t).$ancestors(),s=i.length-1;0<=s;s--)$=e,r=i[s],void 0,o=r.$__id__(),f[o]||(f[o]=[]),f[o].push($),m(e,i[s]);for(var l in u.prototype){var a=u.prototype[a];!a||!a.$$stub||l in e.prototype||(e.prototype[l]=a)}return t},d.donate_constants=function(t,e){for(var n=t.$$scope.constants,$=e.$$scope,r=$.constants,o=0,i=n.length;o<i;o++)r.push(n[o]),$[n[o]]=t.$$scope[n[o]]},d.update_includer=function(t,e,n){var $,r,o,i,s,l,a,c;if(o=t.$$proto[n],r=($=e.$$proto)[n],!$.hasOwnProperty(n)||r.$$donated||r.$$stub)if($.hasOwnProperty(n)&&!r.$$stub){for(s=0,l=(i=e.$$inc).length;s<l;s++)i[s]===r.$$donated&&(a=s),i[s]===t&&(c=s);a<=c&&($[n]=o,$[n].$$donated=t)}else $[n]=o,$[n].$$donated=t;else;e.$$included_in&&d.update_includers(e,n)},d.update_includers=function(t,e){var n,$,r,o;if(o=t.$$included_in)for(n=0,$=o.length;n<$;n++)r=o[n],d.update_includer(t,r,e)},d.ancestors=function(t){for(var e,n=t,$=[];n;){$.push(n);for(var r=0;r<n.$$inc.length;r++){e=d.ancestors(n.$$inc[r]);for(var o=0;o<e.length;o++)$.push(e[o])}n=n.$$is_singleton&&n.$$singleton_of.$$is_module?n.$$singleton_of.$$super:n.$$is_class?n.$$super:null}return $},d.add_stubs=function(t){var e,n,$,r,o,i=d.stub_subscribers,s=t.length,l=i.length,a=d.stubs;for(n=0;n<s;n++)if(r=t[n],!a.hasOwnProperty(r))for(a[r]=!0,o=d.stub_for(r),$=0;$<l;$++)r in(e=i[$])||(e[r]=o)},d.stub_subscribers=[u.prototype],d.add_stub_for=function(t,e){var n=d.stub_for(e);t[e]=n},d.stub_for=function($){function r(){this.$method_missing.$$p=r.$$p,r.$$p=null;for(var t=new Array(arguments.length),e=0,n=t.length;e<n;e++)t[e]=arguments[e];return this.$method_missing.apply(this,[$.slice(1)].concat(t))}return r.$$stub=!0,r},d.ac=function(t,e,n,$){var r="";throw n.$$is_class||n.$$is_module?r+=n.$$name+".":r+=n.$$class.$$name+"#",r+=$,d.ArgumentError.$new("["+r+"] wrong number of arguments("+t+" for "+e+")")},d.block_ac=function(t,e,n){var $="`block in "+n+"'";throw d.ArgumentError.$new($+": wrong number of arguments ("+t+" for "+e+")")},d.find_super_dispatcher=function(t,e,n,$,r){var o;if(o=(r?t.$$is_class||t.$$is_module?r.$$super:t.$$class.$$proto:d.find_obj_super_dispatcher(t,e,n))["$"+e],!$&&o.$$stub&&d.Kernel.$method_missing===t.$method_missing)throw d.NoMethodError.$new("super: no superclass method `"+e+"' for "+t,e);return o},d.find_iter_super_dispatcher=function(t,e,n,$,r){var o=e;if(!n)throw d.RuntimeError.$new("super called outside of method");if(r&&n.$$define_meth)throw d.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");return n.$$def&&(o=n.$$jsid),d.find_super_dispatcher(t,o,n,$)},d.find_obj_super_dispatcher=function(t,e,n){var $=t.$$meta||t.$$class;if(!($=d.find_owning_class($,n)))throw new Error("could not find current class for super()");return d.find_super_func($,"$"+e,n)},d.find_owning_class=function(t,e){for(var n=e.$$owner;t&&(!t.$$iclass||t.$$module!==e.$$donated)&&(!t.$$iclass||t.$$module!==n)&&(!n.$$is_singleton||t!==n.$$singleton_of.$$class)&&t!==n;)t=t.$$parent;return t},d.find_super_func=function(t,e,n){for(var $=t.$$parent;$;){var r=$.$$proto[e];if(r&&r!==n)break;$=$.$$parent}return $.$$proto},d.ret=function(t){throw d.returner.$v=t,d.returner},d.brk=function(t,e){throw e.$v=t,e},d.new_brk=function(){return new Error("unexpected break")},d.yield1=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");var n=t.$$has_top_level_mlhs_arg,$=t.$$has_trailing_comma_in_args;return(1<t.length||(n||$)&&1===t.length)&&(e=d.to_ary(e)),(1<t.length||$&&1===t.length)&&e.$$is_array?t.apply(null,e):t(e)},d.yieldX=function(t,e){if("function"!=typeof t)throw d.LocalJumpError.$new("no block given");if(1<t.length&&1===e.length&&e[0].$$is_array)return t.apply(null,e[0]);if(!e.$$is_array){for(var n=new Array(e.length),$=0,r=n.length;$<r;$++)n[$]=e[$];return t.apply(null,n)}return t.apply(null,e)},d.rescue=function(t,e){for(var n=0;n<e.length;n++){var $=e[n];if($.$$is_array){var r=d.rescue(t,$);if(r)return r}else{if($===d.JS.Error)return $;if($["$==="](t))return $}}return null},d.is_a=function(t,e){if(t.$$meta===e||t.$$class===e)return!0;if(t.$$is_number&&e.$$is_number_class)return!0;var n,$,r=d.ancestors(t.$$is_class?d.get_singleton_class(t):t.$$meta||t.$$class);for(n=0,$=r.length;n<$;n++)if(r[n]===e)return!0;return!1},d.to_hash=function(t){if(t.$$is_hash)return t;if(t["$respond_to?"]("to_hash",!0)){var e=t.$to_hash();if(e.$$is_hash)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Hash ("+t.$$class+"#to_hash gives "+e.$$class+")")}throw d.TypeError.$new("no implicit conversion of "+t.$$class+" into Hash")},d.to_ary=function(t){if(t.$$is_array)return t;if(t["$respond_to?"]("to_ary",!0)){var e=t.$to_ary();if(e===s)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_ary gives "+e.$$class+")")}return[t]},d.to_a=function(t){if(t.$$is_array)return t.slice();if(t["$respond_to?"]("to_a",!0)){var e=t.$to_a();if(e===s)return[t];if(e.$$is_array)return e;throw d.TypeError.$new("Can't convert "+t.$$class+" to Array ("+t.$$class+"#to_a gives "+e.$$class+")")}return[t]},d.extract_kwargs=function(t){var e=t[t.length-1];return null!=e&&e["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(t,t.length-1,1),e.$to_hash()):d.hash2([],{})},d.kwrestargs=function(t,e){var n=[],$={},r=null,o=t.$$smap;for(r in o)e[r]||(n.push(r),$[r]=o[r]);return d.hash2(n,$)},d.send=function(t,e,n,$){if("string"==typeof e){var r=e;return(e=t["$"+r])?(e.$$p=$,e.apply(t,n)):t.$method_missing.apply(t,[r].concat(n))}if("function"==typeof e)return e.$$p=$,e.apply(t,n)},d.def=function(t,e,n){t.$$eval||!t.$$is_class&&!t.$$is_module?d.defs(t,e,n):d.defn(t,e,n)},d.defn=function(t,e,n){((t.$$proto[e]=n).$$owner=t).$$is_module&&(d.update_includers(t,e),t.$$module_function&&d.defs(t,e,n));var $=t.$__id__&&!t.$__id__.$$stub&&f[t.$__id__()];if($)for(var r=$.length-1;0<=r;r--)d.bridge_method($[r],t,e,n);var o=t.$$singleton_of;return!t.$method_added||t.$method_added.$$stub||o?o&&o.$singleton_method_added&&!o.$singleton_method_added.$$stub&&o.$singleton_method_added(e.substr(1)):t.$method_added(e.substr(1)),s},d.defs=function(t,e,n){d.defn(d.get_singleton_class(t),e,n)},d.rdef=function(t,e){if(!h.call(t.$$proto,e))throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());delete t.$$proto[e],t.$$is_singleton?t.$$proto.$singleton_method_removed&&!t.$$proto.$singleton_method_removed.$$stub&&t.$$proto.$singleton_method_removed(e.substr(1)):t.$method_removed&&!t.$method_removed.$$stub&&t.$method_removed(e.substr(1))},d.udef=function(t,e){if(!t.$$proto[e]||t.$$proto[e].$$stub)throw d.NameError.$new("method '"+e.substr(1)+"' not defined in "+t.$name());d.add_stub_for(t.$$proto,e),t.$$is_singleton?t.$$proto.$singleton_method_undefined&&!t.$$proto.$singleton_method_undefined.$$stub&&t.$$proto.$singleton_method_undefined(e.substr(1)):t.$method_undefined&&!t.$method_undefined.$$stub&&t.$method_undefined(e.substr(1))},d.alias=function(t,e,n){var $,r="$"+e,o="$"+n,i=t.$$proto["$"+n];if(t.$$eval)return d.alias(d.get_singleton_class(t),e,n);if("function"!=typeof i||i.$$stub){for(var s=t.$$super;"function"!=typeof i&&s;)i=s[o],s=s.$$super;if("function"!=typeof i||i.$$stub)throw d.NameError.$new("undefined method `"+n+"' for class `"+t.$name()+"'")}return i.$$alias_of&&(i=i.$$alias_of),($=function(){for(var t=$.$$p,e=new Array(arguments.length),n=0;n<arguments.length;n++)e[n]=arguments[n];return t&&($.$$p=null),d.send(this,i,e,t)}).length=i.length,$.$$arity=i.$$arity,$.$$parameters=i.$$parameters,$.$$source_location=i.$$source_location,$.$$alias_of=i,$.$$alias_name=e,d.defn(t,r,$),t},d.alias_native=function(t,e,n){var $="$"+e,r=t.$$proto[n];if("function"!=typeof r||r.$$stub)throw d.NameError.$new("undefined native method `"+n+"' for class `"+t.$name()+"'");return d.defn(t,$,r),t},d.hash_init=function(t){t.$$smap=Object.create(null),t.$$map=Object.create(null),t.$$keys=[]},d.hash_clone=function(t,e){e.$$none=t.$$none,e.$$proc=t.$$proc;for(var n,$,r=0,o=t.$$keys.length;r<o;r++)(n=t.$$keys[r]).$$is_string?$=t.$$smap[n]:($=n.value,n=n.key),d.hash_put(e,n,$)},d.hash_put=function(t,e,n){if(e.$$is_string)return h.call(t.$$smap,e)||t.$$keys.push(e),void(t.$$smap[e]=n);var $,r,o=e.$hash();if(!h.call(t.$$map,o))return $={key:e,key_hash:o,value:n},t.$$keys.push($),void(t.$$map[o]=$);for($=t.$$map[o];$;){if(e===$.key||e["$eql?"]($.key)){r=i,$.value=n;break}$=(r=$).next}r&&($={key:e,key_hash:o,value:n},t.$$keys.push($),r.next=$)},d.hash_get=function(t,e){if(e.$$is_string)return h.call(t.$$smap,e)?t.$$smap[e]:void 0;var n,$=e.$hash();if(h.call(t.$$map,$))for(n=t.$$map[$];n;){if(e===n.key||e["$eql?"](n.key))return n.value;n=n.next}},d.hash_delete=function(t,e){var n,$,r=t.$$keys,o=r.length;if(e.$$is_string){if(!h.call(t.$$smap,e))return;for(n=0;n<o;n++)if(r[n]===e){r.splice(n,1);break}return $=t.$$smap[e],delete t.$$smap[e],$}var i=e.$hash();if(h.call(t.$$map,i))for(var s,l=t.$$map[i];l;){if(e===l.key||e["$eql?"](l.key)){for($=l.value,n=0;n<o;n++)if(r[n]===l){r.splice(n,1);break}return s&&l.next?s.next=l.next:s?delete s.next:l.next?t.$$map[i]=l.next:delete t.$$map[i],$}l=(s=l).next}},d.hash_rehash=function(t){for(var e,n,$,r=0,o=t.$$keys.length;r<o;r++)if(!t.$$keys[r].$$is_string&&(e=t.$$keys[r].key.$hash())!==t.$$keys[r].key_hash){for(n=t.$$map[t.$$keys[r].key_hash],$=i;n;){if(n===t.$$keys[r]){$&&n.next?$.next=n.next:$?delete $.next:n.next?t.$$map[t.$$keys[r].key_hash]=n.next:delete t.$$map[t.$$keys[r].key_hash];break}n=($=n).next}if(t.$$keys[r].key_hash=e,h.call(t.$$map,e)){for(n=t.$$map[e],$=i;n;){if(n===t.$$keys[r]){$=i;break}n=($=n).next}$&&($.next=t.$$keys[r])}else t.$$map[e]=t.$$keys[r]}},d.hash=function(){var t,e,n,$,r,o,i=arguments.length;if(1===i&&arguments[0].$$is_hash)return arguments[0];if(e=new d.Hash.$$alloc,d.hash_init(e),1===i&&arguments[0].$$is_array){for($=(t=arguments[0]).length,n=0;n<$;n++){if(2!==t[n].length)throw d.ArgumentError.$new("value not of length 2: "+t[n].$inspect());r=t[n][0],o=t[n][1],d.hash_put(e,r,o)}return e}if(1===i){for(r in t=arguments[0])t.hasOwnProperty(r)&&(o=t[r],d.hash_put(e,r,o));return e}if(i%2!=0)throw d.ArgumentError.$new("odd number of arguments for Hash");for(n=0;n<i;n+=2)r=arguments[n],o=arguments[n+1],d.hash_put(e,r,o);return e},d.hash2=function(t,e){var n=new d.Hash.$$alloc;return n.$$smap=e,n.$$map=Object.create(null),n.$$keys=t,n},d.getGLOBAL_COUNTER=function(){return GLOBAL_COUNTER},d.range=function(t,e,n){var $=new d.Range.$$alloc;return $.begin=t,$.end=e,$.exclude=n,$},d.ivar=function(t){return"constructor"===t||"displayName"===t||"__count__"===t||"__noSuchMethod__"===t||"__parent__"===t||"__proto__"===t||"hasOwnProperty"===t||"valueOf"===t?t+"$":t},d.escape_regexp=function(t){return t.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},d.modules={},d.loaded_features=["corelib/runtime"],d.current_dir=".",d.require_table={"corelib/runtime":!0},d.normalize=function(t){var e,n,$=[];"."!==d.current_dir&&(t=d.current_dir.replace(/\/*$/,"/")+t);for(var r=0,o=(e=(t=t.replace(/\.(rb|opal|js)$/,"")).split("/")).length;r<o;r++)""!==(n=e[r])&&(".."===n?$.pop():$.push(n));return $.join("/")},d.loaded=function(t){var e,n,$;for(e=0,n=t.length;e<n;e++){if($=d.normalize(t[e]),d.require_table[$])return;d.loaded_features.push($),d.require_table[$]=!0}},d.load=function(t){t=d.normalize(t),d.loaded([t]);var e=d.modules[t];if(e)e(d);else{var n=d.config.missing_require_severity,$="cannot load such file -- "+t;"error"===n?d.LoadError?d.LoadError.$new($):function(){throw $}():"warning"===n&&r.warn("WARNING: LoadError: "+$)}return!0},d.require=function(t){return t=d.normalize(t),!d.require_table[t]&&d.load(t)},d.boot_class_alloc("BasicObject",u),d.boot_class_alloc("Object",e,u),d.boot_class_alloc("Module",$,e),d.boot_class_alloc("Class",n,$),d.BasicObject=l=d.setup_class_object("BasicObject",u,"Class",n),d.Object=a=d.setup_class_object("Object",e,"BasicObject",l.constructor),d.Module=o=d.setup_class_object("Module",$,"Object",a.constructor),d.Class=c=d.setup_class_object("Class",n,"Module",o.constructor),d.constants.push("BasicObject"),d.constants.push("Object"),d.constants.push("Module"),d.constants.push("Class"),l.$$class=c,a.$$class=c,(o.$$class=c).$$class=c,l.$$super=null,a.$$super=l,o.$$super=a,c.$$super=o,l.$$parent=null,a.$$parent=l,o.$$parent=a,c.$$parent=o,d.base=a,l.$$scope=a.$$scope=d,l.$$orig_scope=a.$$orig_scope=d,o.$$scope=a.$$scope,o.$$orig_scope=a.$$orig_scope,c.$$scope=a.$$scope,c.$$orig_scope=a.$$orig_scope,a.$$proto.toString=function(){return this.$to_s()},a.$$proto.$require=d.require,d.top=new a.$$alloc,d.klass(a,a,"NilClass",_),(s=d.nil=new _).$$id=4,s.call=s.apply=function(){throw d.LocalJumpError.$new("no block given")},d.breaker=new Error("unexpected break (old)"),d.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(o){o.top;var t,e,n,$,r,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y=o,v=[o],w=o.nil,x=(o.breaker,o.slice,o.module);return o.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!","$!=","$[]","$upcase"]),t=y.base,e=v,(g=x(t,"Opal")).$$proto,b=g.$$scope,m=e.slice().concat(b),o.defs(g,"$bridge",n=function(t,e){return o.bridge(t,e)},n.$$arity=2),o.defs(g,"$type_error",$=function(t,e,n,$){var r;return null==n&&(n=w),null==$&&($=w),(r=!1!==n&&n!==w&&null!=n?$:n)===w||null==r||r.$$is_boolean&&1!=r?o.const_get(m,"TypeError",!0,!0).$new("no implicit conversion of "+t.$class()+" into "+e):o.const_get(m,"TypeError",!0,!0).$new("can't convert "+t.$class()+" into "+e+" ("+t.$class()+"#"+n+" gives "+$.$class())},$.$$arity=-3),o.defs(g,"$coerce_to",r=function(t,e,n){var $;return($=e["$==="](t))===w||null==$||$.$$is_boolean&&1!=$?((($=t["$respond_to?"](n))===w||null==$||$.$$is_boolean&&1!=$)&&this.$raise(this.$type_error(t,e)),t.$__send__(n)):t},r.$$arity=3),o.defs(g,"$coerce_to!",i=function(t,e,n){var $,r;return r=this.$coerce_to(t,e,n),(($=e["$==="](r))===w||null==$||$.$$is_boolean&&1!=$)&&this.$raise(this.$type_error(t,e,n,r)),r},i.$$arity=3),o.defs(g,"$coerce_to?",s=function(t,e,n){var $,r=w;return($=t["$respond_to?"](n))===w||null==$||$.$$is_boolean&&1!=$?w:($=(r=this.$coerce_to(t,e,n))["$nil?"]())===w||null==$||$.$$is_boolean&&1!=$?((($=e["$==="](r))===w||null==$||$.$$is_boolean&&1!=$)&&this.$raise(this.$type_error(t,e,n,r)),r):w},s.$$arity=3),o.defs(g,"$try_convert",l=function(t,e,n){var $;return($=e["$==="](t))===w||null==$||$.$$is_boolean&&1!=$?($=t["$respond_to?"](n))===w||null==$||$.$$is_boolean&&1!=$?w:t.$__send__(n):t},l.$$arity=3),o.defs(g,"$compare",a=function(t,e){var n,$;return(n=($=t["$<=>"](e))===w)===w||null==n||n.$$is_boolean&&1!=n||this.$raise(o.const_get(m,"ArgumentError",!0,!0),"comparison of "+t.$class()+" with "+e.$class()+" failed"),$},a.$$arity=2),o.defs(g,"$destructure",c=function(t){if(1==t.length)return t[0];if(t.$$is_array)return t;for(var e=new Array(t.length),n=0,$=e.length;n<$;n++)e[n]=t[n];return e},c.$$arity=1),o.defs(g,"$respond_to?",u=function(t,e){return!(null==t||!t.$$class)&&t["$respond_to?"](e)},u.$$arity=2),o.defs(g,"$inspect",_=function(t){return void 0===t?"undefined":null===t?"null":t.$$class?t.$inspect():t.toString()},_.$$arity=1),o.defs(g,"$instance_variable_name!",d=function(t){var e;return t=o.Opal["$coerce_to!"](t,o.String,"to_str"),((e=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(t))===w||null==e||e.$$is_boolean&&1!=e)&&this.$raise(o.const_get(m,"NameError",!0,!0).$new("'"+t+"' is not allowed as an instance variable name",t)),t},d.$$arity=1),o.defs(g,"$class_variable_name!",f=function(t){var e;return(e=(t=o.Opal["$coerce_to!"](t,o.String,"to_str")).length<3||"@@"!==t.slice(0,2))===w||null==e||e.$$is_boolean&&1!=e||this.$raise(o.const_get(m,"NameError",!0,!0).$new("`"+t+"' is not allowed as a class variable name",t)),t},f.$$arity=1),o.defs(g,"$const_name!",p=function(t){var e;return(e=(t=o.Opal["$coerce_to!"](t,o.String,"to_str"))["$[]"](0)["$!="](t["$[]"](0).$upcase()))===w||null==e||e.$$is_boolean&&1!=e||this.$raise(o.const_get(m,"NameError",!0,!0),"wrong constant name "+t),t},p.$$arity=1),void o.defs(g,"$pristine",h=function(t,e){var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];for(var s=n.length-1;0<=s;s--)$=n[s],t.$$proto["$"+$].$$pristine=!0;return w},h.$$arity=-2)},Opal.modules["corelib/module"]=function(Opal){function $rb_lt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function $rb_plus(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$send=Opal.send,$range=Opal.range,$hash2=Opal.hash2;return Opal.add_stubs(["$===","$raise","$equal?","$<","$>","$nil?","$attr_reader","$attr_writer","$class_variable_name!","$new","$const_name!","$=~","$inject","$split","$const_get","$==","$!","$start_with?","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$cover?","$size","$merge","$compile","$proc","$+","$to_s","$__id__","$constants","$include?","$copy_class_variables","$copy_constants"]),function($base,$super,$visibility_scopes){function $Module(){}var self=$Module=$klass($base,$super,"Module",$Module),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_Module_allocate_1,TMP_Module_initialize_2,TMP_Module_$eq$eq$eq_3,TMP_Module_$lt_4,TMP_Module_$lt$eq_5,TMP_Module_$gt_6,TMP_Module_$gt$eq_7,TMP_Module_$lt$eq$gt_8,TMP_Module_alias_method_9,TMP_Module_alias_native_10,TMP_Module_ancestors_11,TMP_Module_append_features_12,TMP_Module_attr_accessor_13,TMP_Module_attr_reader_14,TMP_Module_attr_writer_15,TMP_Module_autoload_16,TMP_Module_class_variables_17,TMP_Module_class_variable_get_18,TMP_Module_class_variable_set_19,TMP_Module_class_variable_defined$q_20,TMP_Module_remove_class_variable_21,TMP_Module_constants_22,TMP_Module_const_defined$q_23,TMP_Module_const_get_25,TMP_Module_const_missing_26,TMP_Module_const_set_27,TMP_Module_public_constant_28,TMP_Module_define_method_29,TMP_Module_remove_method_31,TMP_Module_singleton_class$q_32,TMP_Module_include_33,TMP_Module_included_modules_34,TMP_Module_include$q_35,TMP_Module_instance_method_36,TMP_Module_instance_methods_37,TMP_Module_included_38,TMP_Module_extended_39,TMP_Module_method_added_40,TMP_Module_method_removed_41,TMP_Module_method_undefined_42,TMP_Module_module_eval_43,TMP_Module_module_exec_45,TMP_Module_method_defined$q_46,TMP_Module_module_function_47,TMP_Module_name_48,TMP_Module_remove_const_49,TMP_Module_to_s_50,TMP_Module_undef_method_51,TMP_Module_instance_variables_52,TMP_Module_dup_53,TMP_Module_copy_class_variables_54,TMP_Module_copy_constants_55;return Opal.defs(self,"$allocate",TMP_Module_allocate_1=function(){var t;return t=Opal.module_allocate(this),Opal.create_scope(Opal.Module.$$scope,t,null),t},TMP_Module_allocate_1.$$arity=0),Opal.defn(self,"$initialize",TMP_Module_initialize_2=function(){var t=TMP_Module_initialize_2.$$p,e=t||nil;return t&&(TMP_Module_initialize_2.$$p=null),Opal.module_initialize(this,e)},TMP_Module_initialize_2.$$arity=0),Opal.defn(self,"$===",TMP_Module_$eq$eq$eq_3=function(t){var e;return!!((e=null==t)===nil||null==e||e.$$is_boolean&&1!=e)&&Opal.is_a(t,this)},TMP_Module_$eq$eq$eq_3.$$arity=1),Opal.defn(self,"$<",TMP_Module_$lt_4=function(t){var e;((e=Opal.const_get($scopes,"Module",!0,!0)["$==="](t))===nil||null==e||e.$$is_boolean&&1!=e)&&this.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module");var n,$,r;if(this===t)return!1;for($=0,r=(n=Opal.ancestors(this)).length;$<r;$++)if(n[$]===t)return!0;for($=0,r=(n=Opal.ancestors(t)).length;$<r;$++)if(n[$]===this)return!1;return nil},TMP_Module_$lt_4.$$arity=1),Opal.defn(self,"$<=",TMP_Module_$lt$eq_5=function(t){var e;return!1!==(e=this["$equal?"](t))&&e!==nil&&null!=e?e:$rb_lt(this,t)},TMP_Module_$lt$eq_5.$$arity=1),Opal.defn(self,"$>",TMP_Module_$gt_6=function(t){var e;return((e=Opal.const_get($scopes,"Module",!0,!0)["$==="](t))===nil||null==e||e.$$is_boolean&&1!=e)&&this.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"compared with non class/module"),$rb_lt(t,this)},TMP_Module_$gt_6.$$arity=1),Opal.defn(self,"$>=",TMP_Module_$gt$eq_7=function(t){var e;return!1!==(e=this["$equal?"](t))&&e!==nil&&null!=e?e:$rb_gt(this,t)},TMP_Module_$gt$eq_7.$$arity=1),Opal.defn(self,"$<=>",TMP_Module_$lt$eq$gt_8=function(t){var e,n=nil;return this===t?0:(e=Opal.const_get($scopes,"Module",!0,!0)["$==="](t))===nil||null==e||e.$$is_boolean&&1!=e?nil:(e=(n=$rb_lt(this,t))["$nil?"]())===nil||null==e||e.$$is_boolean&&1!=e?!1!==n&&n!==nil&&null!=n?-1:1:nil},TMP_Module_$lt$eq$gt_8.$$arity=1),Opal.defn(self,"$alias_method",TMP_Module_alias_method_9=function(t,e){return Opal.alias(this,t,e),this},TMP_Module_alias_method_9.$$arity=2),Opal.defn(self,"$alias_native",TMP_Module_alias_native_10=function(t,e){return null==e&&(e=t),Opal.alias_native(this,t,e),this},TMP_Module_alias_native_10.$$arity=-2),Opal.defn(self,"$ancestors",TMP_Module_ancestors_11=function(){return Opal.ancestors(this)},TMP_Module_ancestors_11.$$arity=0),Opal.defn(self,"$append_features",TMP_Module_append_features_12=function(t){return Opal.append_features(this,t),this},TMP_Module_append_features_12.$$arity=1),Opal.defn(self,"$attr_accessor",TMP_Module_attr_accessor_13=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return $send(this,"attr_reader",Opal.to_a(e)),$send(this,"attr_writer",Opal.to_a(e))},TMP_Module_attr_accessor_13.$$arity=-1),Opal.alias(self,"attr","attr_accessor"),Opal.defn(self,"$attr_reader",TMP_Module_attr_reader_14=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=this.$$proto,i=e.length-1;0<=i;i--){var s=e[i],l="$"+s,a=Opal.ivar(s),c=function(t){return function(){return null==this[t]?nil:this[t]}}(a);o[a]=nil,c.$$parameters=[],c.$$arity=0,this.$$is_singleton?o.constructor.prototype[l]=c:Opal.defn(this,l,c)}return nil},TMP_Module_attr_reader_14.$$arity=-1),Opal.defn(self,"$attr_writer",TMP_Module_attr_writer_15=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=this.$$proto,i=e.length-1;0<=i;i--){var s=e[i],l="$"+s+"=",a=Opal.ivar(s),c=function(e){return function(t){return this[e]=t}}(a);c.$$parameters=[["req"]],c.$$arity=1,o[a]=nil,this.$$is_singleton?o.constructor.prototype[l]=c:Opal.defn(this,l,c)}return nil},TMP_Module_attr_writer_15.$$arity=-1),Opal.defn(self,"$autoload",TMP_Module_autoload_16=function(t,e){var n;return(n=this.$$autoload)||(n=this.$$autoload={}),n[t]=e,nil},TMP_Module_autoload_16.$$arity=2),Opal.defn(self,"$class_variables",TMP_Module_class_variables_17=function(){return Object.keys(Opal.class_variables(this))},TMP_Module_class_variables_17.$$arity=0),Opal.defn(self,"$class_variable_get",TMP_Module_class_variable_get_18=function(t){t=Opal.Opal["$class_variable_name!"](t);var e=Opal.class_variables(this)[t];return null==e&&this.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized class variable "+t+" in "+this,t)),e},TMP_Module_class_variable_get_18.$$arity=1),Opal.defn(self,"$class_variable_set",TMP_Module_class_variable_set_19=function(t,e){return t=Opal.Opal["$class_variable_name!"](t),Opal.class_variable_set(this,t,e)},TMP_Module_class_variable_set_19.$$arity=2),Opal.defn(self,"$class_variable_defined?",TMP_Module_class_variable_defined$q_20=function(t){return t=Opal.Opal["$class_variable_name!"](t),Opal.class_variables(this).hasOwnProperty(t)},TMP_Module_class_variable_defined$q_20.$$arity=1),Opal.defn(self,"$remove_class_variable",TMP_Module_remove_class_variable_21=function(t){var e=this;if(t=Opal.Opal["$class_variable_name!"](t),Opal.hasOwnProperty.call(e.$$cvars,t)){var n=e.$$cvars[t];return delete e.$$cvars[t],n}e.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("cannot remove "+t+" for "+e))},TMP_Module_remove_class_variable_21.$$arity=1),Opal.defn(self,"$constants",TMP_Module_constants_22=function(){return this.$$scope.constants.slice(0)},TMP_Module_constants_22.$$arity=0),Opal.defn(self,"$const_defined?",TMP_Module_const_defined$q_23=function(t,e){var n;null==e&&(e=!0),((n=(t=Opal.Opal["$const_name!"](t))["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&this.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+t,t));var $=[this.$$scope];if(e||this===Opal.Object)for(var r=this.$$super;r!==Opal.BasicObject;)$.push(r.$$scope),r=r.$$super;for(var o=0,i=$.length;o<i;o++)if($[o].hasOwnProperty(t))return!0;return!1},TMP_Module_const_defined$q_23.$$arity=-2),Opal.defn(self,"$const_get",TMP_Module_const_get_25=function(t,e){var n,$;return null==e&&(e=!0),0===(t=Opal.Opal["$const_name!"](t)).indexOf("::")&&"::"!==t&&(t=t.slice(2)),(n=-1!=t.indexOf("::")&&"::"!=t)===nil||null==n||n.$$is_boolean&&1!=n?(((n=t["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===nil||null==n||n.$$is_boolean&&1!=n)&&this.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+t,t)),Opal.const_get([this.$$scope],t,e,!0)):$send(t.$split("::"),"inject",[this],(($=function(t,e){$.$$s;return null==t&&(t=nil),null==e&&(e=nil),t.$const_get(e)}).$$s=this,$.$$arity=2,$))},TMP_Module_const_get_25.$$arity=-2),Opal.defn(self,"$const_missing",TMP_Module_const_missing_26=function(t){var e,n=this;if(n.$$autoload){var $=n.$$autoload[t];if($)return n.$require($),n.$const_get(t)}return e=n["$=="](Opal.const_get($scopes,"Object",!0,!0))?t:n+"::"+t,n.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("uninitialized constant "+e,t))},TMP_Module_const_missing_26.$$arity=1),Opal.defn(self,"$const_set",TMP_Module_const_set_27=function(t,e){var n,$;return(n=!1!==($=(t=Opal.Opal["$const_name!"](t))["$=~"](Opal.const_get([Opal.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0))["$!"]())&&$!==nil&&null!=$?$:t["$start_with?"]("::"))===nil||null==n||n.$$is_boolean&&1!=n||this.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("wrong constant name "+t,t)),Opal.casgn(this,t,e),e},TMP_Module_const_set_27.$$arity=2),Opal.defn(self,"$public_constant",TMP_Module_public_constant_28=function(t){return nil},TMP_Module_public_constant_28.$$arity=1),Opal.defn(self,"$define_method",TMP_Module_define_method_29=function(t,s){var e,l,n=this,$=TMP_Module_define_method_29.$$p,r=$||nil,o=nil;$&&(TMP_Module_define_method_29.$$p=null),(e=void 0===s&&r===nil)===nil||null==e||e.$$is_boolean&&1!=e||n.$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),!1!==(e=r)&&e!==nil&&null!=e||(o=s,r=Opal.const_get($scopes,"Proc",!0,!0)["$==="](o)?s:Opal.const_get($scopes,"Method",!0,!0)["$==="](o)?s.$to_proc().$$unbound:Opal.const_get($scopes,"UnboundMethod",!0,!0)["$==="](o)?$send(n,"lambda",[],((l=function(t){var e,n,$=l.$$s||this,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n=s.$bind($),$send(n,"call",Opal.to_a(e))}).$$s=n,l.$$arity=-1,l)):n.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+r.$class()+" (expected Proc/Method)"));var i="$"+t;return r.$$jsid=t,r.$$s=null,(r.$$def=r).$$define_meth=!0,Opal.defn(n,i,r),t},TMP_Module_define_method_29.$$arity=-2),Opal.defn(self,"$remove_method",TMP_Module_remove_method_31=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=0,i=e.length;o<i;o++)Opal.rdef(this,"$"+e[o]);return this},TMP_Module_remove_method_31.$$arity=-1),Opal.defn(self,"$singleton_class?",TMP_Module_singleton_class$q_32=function(){return!!this.$$is_singleton},TMP_Module_singleton_class$q_32.$$arity=0),Opal.defn(self,"$include",TMP_Module_include_33=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=e.length-1;0<=o;o--){var i=e[o];i.$$is_module||this.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+i.$class()+" (expected Module)"),i.$append_features(this),i.$included(this)}return this},TMP_Module_include_33.$$arity=-1),Opal.defn(self,"$included_modules",TMP_Module_included_modules_34=function(){var t,r=function(t){for(var e=[],n=0;n!=t.$$inc.length;n++){var $=t.$$inc[n];e.push($),e=e.concat(r($))}return e};if(t=r(this),this.$$is_class)for(var e=this;e;e=e.$$super)t=t.concat(r(e));return t},TMP_Module_included_modules_34.$$arity=0),Opal.defn(self,"$include?",TMP_Module_include$q_35=function(t){t.$$is_module||this.$raise(Opal.const_get($scopes,"TypeError",!0,!0),"wrong argument type "+t.$class()+" (expected Module)");var e,n,$,r=Opal.ancestors(this);for(e=0,n=r.length;e<n;e++)if(($=r[e])===t&&$!==this)return!0;return!1},TMP_Module_include$q_35.$$arity=1),Opal.defn(self,"$instance_method",TMP_Module_instance_method_36=function(t){var e=this,n=e.$$proto["$"+t];return n&&!n.$$stub||e.$raise(Opal.const_get($scopes,"NameError",!0,!0).$new("undefined method `"+t+"' for class `"+e.$name()+"'",t)),Opal.const_get($scopes,"UnboundMethod",!0,!0).$new(e,n.$$owner||e,n,t)},TMP_Module_instance_method_36.$$arity=1),Opal.defn(self,"$instance_methods",TMP_Module_instance_methods_37=function(t){null==t&&(t=!0);var e,n=[],$=this.$$proto;for(var r in $)if("$"===r.charAt(0)&&"$"!==r.charAt(1)&&"function"==typeof(e=$[r])&&!e.$$stub){if(!this.$$is_module){if(this!==Opal.BasicObject&&e===Opal.BasicObject.$$proto[r])continue;if(!t&&!$.hasOwnProperty(r))continue;if(!t&&e.$$donated)continue}n.push(r.substr(1))}return n},TMP_Module_instance_methods_37.$$arity=-1),Opal.defn(self,"$included",TMP_Module_included_38=function(t){return nil},TMP_Module_included_38.$$arity=1),Opal.defn(self,"$extended",TMP_Module_extended_39=function(t){return nil},TMP_Module_extended_39.$$arity=1),Opal.defn(self,"$method_added",TMP_Module_method_added_40=function(t){return nil},TMP_Module_method_added_40.$$arity=-1),Opal.defn(self,"$method_removed",TMP_Module_method_removed_41=function(t){return nil},TMP_Module_method_removed_41.$$arity=-1),Opal.defn(self,"$method_undefined",TMP_Module_method_undefined_42=function(t){return nil},TMP_Module_method_undefined_42.$$arity=-1),Opal.defn(self,"$module_eval",TMP_Module_module_eval_43=function $$module_eval($a_rest){var $b,$c,TMP_44,self=this,args,$iter=TMP_Module_module_eval_43.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_Module_module_eval_43.$$p=null),$c=block["$nil?"](),($b=!1!==$c&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),$rb_plus("wrong number of arguments ("+args.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n")):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:!1!==($b=file)&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_44=function(){var self=TMP_44.$$s||this;return function(self){return eval(compiled)}(self)},TMP_44.$$s=self,TMP_44.$$arity=0,TMP_44)));var old=block.$$s,result;return block.$$s=null,result=block.apply(self,[self]),block.$$s=old,result},TMP_Module_module_eval_43.$$arity=-1),Opal.alias(self,"class_eval","module_eval"),Opal.defn(self,"$module_exec",TMP_Module_module_exec_45=function(t){var e,n=TMP_Module_module_exec_45.$$p,$=n||nil,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];n&&(TMP_Module_module_exec_45.$$p=null),$===nil&&this.$raise(Opal.const_get($scopes,"LocalJumpError",!0,!0),"no block given");var s,l=$.$$s;return $.$$s=null,s=$.apply(this,e),$.$$s=l,s},TMP_Module_module_exec_45.$$arity=-1),Opal.alias(self,"class_exec","module_exec"),Opal.defn(self,"$method_defined?",TMP_Module_method_defined$q_46=function(t){var e=this.$$proto["$"+t];return!!e&&!e.$$stub},TMP_Module_method_defined$q_46.$$arity=1),Opal.defn(self,"$module_function",TMP_Module_module_function_47=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];if(0===e.length)this.$$module_function=!0;else for(var o=0,i=e.length;o<i;o++){var s="$"+e[o],l=this.$$proto[s];Opal.defs(this,s,l)}return this},TMP_Module_module_function_47.$$arity=-1),Opal.defn(self,"$name",TMP_Module_name_48=function(){if(this.$$full_name)return this.$$full_name;for(var t=[],e=this;e;){if(e.$$name===nil)return 0===t.length?nil:t.join("::");if(t.unshift(e.$$name),(e=e.$$base_module)===Opal.Object)break}return 0===t.length?nil:this.$$full_name=t.join("::")},TMP_Module_name_48.$$arity=0),Opal.defn(self,"$remove_const",TMP_Module_remove_const_49=function(t){var e=this.$$scope[t];return delete this.$$scope[t],e},TMP_Module_remove_const_49.$$arity=1),Opal.defn(self,"$to_s",TMP_Module_to_s_50=function(){var t;return!1!==(t=Opal.Module.$name.call(this))&&t!==nil&&null!=t?t:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},TMP_Module_to_s_50.$$arity=0),Opal.defn(self,"$undef_method",TMP_Module_undef_method_51=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=0,i=e.length;o<i;o++)Opal.udef(this,"$"+e[o]);return this},TMP_Module_undef_method_51.$$arity=-1),Opal.defn(self,"$instance_variables",TMP_Module_instance_variables_52=function(){var t=nil;t=this.$constants();var e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&"constructor"!==n&&!t["$include?"](n)&&e.push("@"+n);return e},TMP_Module_instance_variables_52.$$arity=0),Opal.defn(self,"$dup",TMP_Module_dup_53=function(){var t,e=TMP_Module_dup_53.$$p,n=nil,$=nil,r=nil;for(e&&(TMP_Module_dup_53.$$p=null),r=0,t=arguments.length,$=new Array(t);r<t;r++)$[r]=arguments[r];return(n=$send(this,Opal.find_super_dispatcher(this,"dup",TMP_Module_dup_53,!1),$,e)).$copy_class_variables(this),n.$copy_constants(this),n},TMP_Module_dup_53.$$arity=0),Opal.defn(self,"$copy_class_variables",TMP_Module_copy_class_variables_54=function(t){for(var e in t.$$cvars)this.$$cvars[e]=t.$$cvars[e]},TMP_Module_copy_class_variables_54.$$arity=1),Opal.defn(self,"$copy_constants",TMP_Module_copy_constants_55=function(t){for(var e=t.$$scope.constants,n=e.length,$=0;$<n;$++){var r=e[$];Opal.casgn(this,r,t.$$scope[r])}},TMP_Module_copy_constants_55.$$arity=1),nil&&"copy_constants"}($scope.base,null,$scopes)},Opal.modules["corelib/class"]=function(d){var t=d.top,e=d,n=[d],f=d.nil,p=(d.breaker,d.slice,d.klass),h=d.send;return d.add_stubs(["$require","$allocate","$name","$to_s"]),t.$require("corelib/module"),function(t,e,n){function $(){}var o,r,i,l,s,a,c=$=p(t,null,"Class",$),u=(c.$$proto,c.$$scope),_=n.slice().concat(u);return d.defs(c,"$new",o=function(t){var e=o.$$p,n=e||f;if(null==t&&(t=d.const_get(_,"Object",!0,!0)),e&&(o.$$p=null),!t.$$is_class)throw d.TypeError.$new("superclass must be a Class");var $=d.boot_class_alloc(null,function(){},t),r=d.setup_class_object(null,$,t.$$name,t.constructor);return r.$$super=t,r.$$parent=t,d.create_scope(t.$$scope,r),t.$inherited(r),d.module_initialize(r,n),r},o.$$arity=-1),d.defn(c,"$allocate",r=function(){var t=new this.$$alloc;return t.$$id=d.uid(),t},r.$$arity=0),d.defn(c,"$inherited",i=function(t){return f},i.$$arity=1),d.defn(c,"$new",l=function(t){var e,n=l.$$p,$=n||f,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];n&&(l.$$p=null);var s=this.$allocate();return d.send(s,s.$initialize,e,$),s},l.$$arity=-1),d.defn(c,"$superclass",s=function(){return this.$$super||f},s.$$arity=0),d.defn(c,"$to_s",a=function(){var t=a.$$p;t&&(a.$$p=null);var e=this.$$singleton_of;return e&&(e.$$is_class||e.$$is_module)?"#<Class:"+e.$name()+">":e?"#<Class:#<"+e.$$class.$name()+":0x"+d.id(e).$to_s(16)+">>":h(this,d.find_super_dispatcher(this,"to_s",a,!1),[],null)},a.$$arity=0),f&&"to_s"}(e.base,0,n)},Opal.modules["corelib/basic_object"]=function(Opal){function $rb_gt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var self=Opal.top,$scope=Opal,$scopes=[Opal],nil=Opal.nil,$breaker=Opal.breaker,$slice=Opal.slice,$klass=Opal.klass,$range=Opal.range,$hash2=Opal.hash2,$send=Opal.send;return Opal.add_stubs(["$==","$!","$nil?","$cover?","$size","$raise","$merge","$compile","$proc","$>","$new","$inspect"]),function($base,$super,$visibility_scopes){function $BasicObject(){}var self=$BasicObject=$klass($base,$super,"BasicObject",$BasicObject),def=self.$$proto,$scope=self.$$scope,$scopes=$visibility_scopes.slice().concat($scope),TMP_BasicObject_initialize_1,TMP_BasicObject_$eq$eq_2,TMP_BasicObject_eql$q_3,TMP_BasicObject___id___4,TMP_BasicObject___send___5,TMP_BasicObject_$B_6,TMP_BasicObject_$B$eq_7,TMP_BasicObject_instance_eval_8,TMP_BasicObject_instance_exec_10,TMP_BasicObject_singleton_method_added_11,TMP_BasicObject_singleton_method_removed_12,TMP_BasicObject_singleton_method_undefined_13,TMP_BasicObject_method_missing_14;return Opal.defn(self,"$initialize",TMP_BasicObject_initialize_1=function(t){return nil},TMP_BasicObject_initialize_1.$$arity=-1),Opal.defn(self,"$==",TMP_BasicObject_$eq$eq_2=function(t){return this===t},TMP_BasicObject_$eq$eq_2.$$arity=1),Opal.defn(self,"$eql?",TMP_BasicObject_eql$q_3=function(t){return this["$=="](t)},TMP_BasicObject_eql$q_3.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$__id__",TMP_BasicObject___id___4=function(){return this.$$id||(this.$$id=Opal.uid())},TMP_BasicObject___id___4.$$arity=0),Opal.defn(self,"$__send__",TMP_BasicObject___send___5=function(t,e){var n,$=this,r=TMP_BasicObject___send___5.$$p,o=r||nil,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];r&&(TMP_BasicObject___send___5.$$p=null);var a=$["$"+t];return a?(o!==nil&&(a.$$p=o),a.apply($,n)):(o!==nil&&($.$method_missing.$$p=o),$.$method_missing.apply($,[t].concat(n)))},TMP_BasicObject___send___5.$$arity=-2),Opal.defn(self,"$!",TMP_BasicObject_$B_6=function(){return!1},TMP_BasicObject_$B_6.$$arity=0),Opal.defn(self,"$!=",TMP_BasicObject_$B$eq_7=function(t){return this["$=="](t)["$!"]()},TMP_BasicObject_$B$eq_7.$$arity=1),Opal.alias(self,"equal?","=="),Opal.defn(self,"$instance_eval",TMP_BasicObject_instance_eval_8=function $$instance_eval($a_rest){var $b,$c,TMP_9,self=this,args,$iter=TMP_BasicObject_instance_eval_8.$$p,block=$iter||nil,string=nil,file=nil,_lineno=nil,default_eval_options=nil,compiling_options=nil,compiled=nil,$args_len=arguments.length,$rest_len=$args_len-0;$rest_len<0&&($rest_len=0),args=new Array($rest_len);for(var $arg_idx=0;$arg_idx<$args_len;$arg_idx++)args[$arg_idx-0]=arguments[$arg_idx];$iter&&(TMP_BasicObject_instance_eval_8.$$p=null),$c=block["$nil?"](),($b=!1!==$c&&$c!==nil&&null!=$c?!!Opal.compile:$c)===nil||null==$b||$b.$$is_boolean&&1!=$b?($b=$rb_gt(args.$size(),0))===nil||null==$b||$b.$$is_boolean&&1!=$b||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments ("+args.$size()+" for 0)"):((($b=$range(1,3,!1)["$cover?"](args.$size()))===nil||null==$b||$b.$$is_boolean&&1!=$b)&&Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),$b=[].concat(Opal.to_a(args)),string=null==$b[0]?nil:$b[0],file=null==$b[1]?nil:$b[1],_lineno=null==$b[2]?nil:$b[2],default_eval_options=$hash2(["file","eval"],{file:!1!==($b=file)&&$b!==nil&&null!=$b?$b:"(eval)",eval:!0}),compiling_options=Opal.hash({arity_check:!1}).$merge(default_eval_options),compiled=Opal.Opal.$compile(string,compiling_options),block=$send(Opal.const_get($scopes,"Kernel",!0,!0),"proc",[],(TMP_9=function(){var self=TMP_9.$$s||this;return function(self){return eval(compiled)}(self)},TMP_9.$$s=self,TMP_9.$$arity=0,TMP_9)));var old=block.$$s,result;if(block.$$s=null,self.$$is_class||self.$$is_module){self.$$eval=!0;try{result=block.call(self,self)}finally{self.$$eval=!1}}else result=block.call(self,self);return block.$$s=old,result},TMP_BasicObject_instance_eval_8.$$arity=-1),Opal.defn(self,"$instance_exec",TMP_BasicObject_instance_exec_10=function(t){var e,n=this,$=TMP_BasicObject_instance_exec_10.$$p,r=$||nil,o=arguments.length,i=o-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<o;s++)e[s-0]=arguments[s];$&&(TMP_BasicObject_instance_exec_10.$$p=null),!1!==r&&r!==nil&&null!=r||Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"ArgumentError",!0,!0),"no block given");var l,a=r.$$s;if(r.$$s=null,n.$$is_class||n.$$is_module){n.$$eval=!0;try{l=r.apply(n,e)}finally{n.$$eval=!1}}else l=r.apply(n,e);return r.$$s=a,l},TMP_BasicObject_instance_exec_10.$$arity=-1),Opal.defn(self,"$singleton_method_added",TMP_BasicObject_singleton_method_added_11=function(t){return nil},TMP_BasicObject_singleton_method_added_11.$$arity=-1),Opal.defn(self,"$singleton_method_removed",TMP_BasicObject_singleton_method_removed_12=function(t){return nil},TMP_BasicObject_singleton_method_removed_12.$$arity=-1),Opal.defn(self,"$singleton_method_undefined",TMP_BasicObject_singleton_method_undefined_13=function(t){return nil},TMP_BasicObject_singleton_method_undefined_13.$$arity=-1),Opal.defn(self,"$method_missing",TMP_BasicObject_method_missing_14=function(t,e){var n,$,r=this,o=TMP_BasicObject_method_missing_14.$$p,i=arguments.length,s=i-1;s<0&&(s=0),$=new Array(s);for(var l=1;l<i;l++)$[l-1]=arguments[l];return o&&(TMP_BasicObject_method_missing_14.$$p=null),Opal.const_get($scopes,"Kernel",!0,!0).$raise(Opal.const_get($scopes,"NoMethodError",!0,!0).$new((n=r.$inspect&&!r.$inspect.$$stub)===nil||null==n||n.$$is_boolean&&1!=n?"undefined method `"+t+"' for "+r.$$class:"undefined method `"+t+"' for "+r.$inspect()+":"+r.$$class,t))},TMP_BasicObject_method_missing_14.$$arity=-2),nil&&"method_missing"}($scope.base,null,$scopes)},Opal.modules["corelib/kernel"]=function(B){function i(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}B.top;var t,e,s,n,$,r,o,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,$t,rt,ot,it,st,lt,at,ct,ut,_t,dt,ft,pt,ht=B,gt=[B],bt=B.nil,mt=(B.breaker,B.slice,B.module),yt=B.gvars,vt=B.send,wt=B.hash2,xt=B.klass;return B.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$singleton_class","$to_proc","$initialize_dup","$for","$>","$size","$pop","$call","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$enum_for","$result","$print","$format","$puts","$each","$<=","$empty?","$exception","$kind_of?","$rand","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$srand","$new_seed","$sym","$arg","$open","$include"]),t=ht.base,e=gt,(dt=mt(t,"Kernel")).$$proto,ft=dt.$$scope,pt=e.slice().concat(ft),B.defn(dt,"$method_missing",s=function(t,e){var n,$=s.$$p,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];return $&&(s.$$p=null),this.$raise(B.const_get(pt,"NoMethodError",!0,!0).$new("undefined method `"+t+"' for "+this.$inspect(),t,n))},s.$$arity=-2),B.defn(dt,"$=~",n=function(t){return!1},n.$$arity=1),B.defn(dt,"$!~",$=function(t){return this["$=~"](t)["$!"]()},$.$$arity=1),B.defn(dt,"$===",r=function(t){var e;return!1!==(e=this.$object_id()["$=="](t.$object_id()))&&e!==bt&&null!=e?e:this["$=="](t)},r.$$arity=1),B.defn(dt,"$<=>",o=function(t){this.$$comparable=!0;var e=this["$=="](t);return e&&e!==bt?0:bt},o.$$arity=1),B.defn(dt,"$method",l=function(t){var e=this,n=e["$"+t];return n&&!n.$$stub||e.$raise(B.const_get(pt,"NameError",!0,!0).$new("undefined method `"+t+"' for class `"+e.$class()+"'",t)),B.const_get(pt,"Method",!0,!0).$new(e,n.$$owner||e.$class(),n,t)},l.$$arity=1),B.defn(dt,"$methods",a=function(t){null==t&&(t=!0);var e=[];for(var n in this)if("$"==n[0]&&"function"==typeof this[n]){if((0==t||t===bt)&&!B.hasOwnProperty.call(this,n))continue;void 0===this[n].$$stub&&e.push(n.substr(1))}return e},a.$$arity=-1),B.alias(dt,"public_methods","methods"),B.defn(dt,"$Array",c=function(t){var e;return t===bt?[]:t.$$is_array?t:(e=B.Opal["$coerce_to?"](t,B.const_get(pt,"Array",!0,!0),"to_ary"))!==bt?e:(e=B.Opal["$coerce_to?"](t,B.const_get(pt,"Array",!0,!0),"to_a"))!==bt?e:[t]},c.$$arity=1),B.defn(dt,"$at_exit",u=function(){var t,e=u.$$p,n=e||bt;return null==yt.__at_exit__&&(yt.__at_exit__=bt),e&&(u.$$p=null),!1!==(t=yt.__at_exit__)&&t!==bt&&null!=t||(yt.__at_exit__=[]),yt.__at_exit__["$<<"](n)},u.$$arity=0),B.defn(dt,"$caller",_=function(){return[]},_.$$arity=0),B.defn(dt,"$class",d=function(){return this.$$class},d.$$arity=0),B.defn(dt,"$copy_instance_variables",f=function(t){for(var e in t)t.hasOwnProperty(e)&&"$"!==e.charAt(0)&&(this[e]=t[e])},f.$$arity=1),B.defn(dt,"$copy_singleton_methods",p=function(t){var e;if(t.hasOwnProperty("$$meta")){var n=B.get_singleton_class(t).$$proto,$=B.get_singleton_class(this).$$proto;for(e in n)"$"===e.charAt(0)&&n.hasOwnProperty(e)&&($[e]=n[e])}for(e in t)"$"===e.charAt(0)&&"$"!==e.charAt(1)&&t.hasOwnProperty(e)&&(this[e]=t[e])},p.$$arity=1),B.defn(dt,"$clone",h=function(){var t=bt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$copy_singleton_methods(this),t.$initialize_clone(this),t},h.$$arity=0),B.defn(dt,"$initialize_clone",g=function(t){return this.$initialize_copy(t)},g.$$arity=1),B.defn(dt,"$define_singleton_method",b=function(t,e){var n=b.$$p,$=n||bt;return n&&(b.$$p=null),vt(this.$singleton_class(),"define_method",[t,e],$.$to_proc())},b.$$arity=-2),B.defn(dt,"$dup",m=function(){var t=bt;return(t=this.$class().$allocate()).$copy_instance_variables(this),t.$initialize_dup(this),t},m.$$arity=0),B.defn(dt,"$initialize_dup",y=function(t){return this.$initialize_copy(t)},y.$$arity=1),B.defn(dt,"$enum_for",v=function(t,e){var n,$=this,r=v.$$p,o=r||bt;null==t&&(t="each");var i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];return r&&(v.$$p=null),vt(B.const_get(pt,"Enumerator",!0,!0),"for",[$,t].concat(B.to_a(n)),o.$to_proc())},v.$$arity=-1),B.alias(dt,"to_enum","enum_for"),B.defn(dt,"$equal?",w=function(t){return this===t},w.$$arity=1),B.defn(dt,"$exit",x=function(t){var e,n;for(null==yt.__at_exit__&&(yt.__at_exit__=bt),null==t&&(t=!0),!1!==(e=yt.__at_exit__)&&e!==bt&&null!=e||(yt.__at_exit__=[]);(n=i(yt.__at_exit__.$size(),0))!==bt&&null!=n&&(!n.$$is_boolean||1==n);)yt.__at_exit__.$pop().$call();return(e=!0===t)===bt||null==e||e.$$is_boolean&&1!=e||(t=0),B.exit(t),bt},x.$$arity=-1),B.defn(dt,"$extend",k=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=this.$singleton_class(),i=e.length-1;0<=i;i--){var s=e[i];s.$$is_module||this.$raise(B.const_get(pt,"TypeError",!0,!0),"wrong argument type "+s.$class()+" (expected Module)"),s.$append_features(o),s.$extended(this)}return this},k.$$arity=-1),B.defn(dt,"$format",O=function($,t){var e,n,r=this,o=bt;null==yt.DEBUG&&(yt.DEBUG=bt);var i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];(e=n.$length()["$=="](1)?n["$[]"](0)["$respond_to?"]("to_ary"):n.$length()["$=="](1))===bt||null==e||e.$$is_boolean&&1!=e||((e=(o=B.Opal["$coerce_to?"](n["$[]"](0),B.const_get(pt,"Array",!0,!0),"to_ary"))["$nil?"]())===bt||null==e||e.$$is_boolean&&1!=e)&&(n=o.$to_a());var a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O="",E=0,A=$.length,S=1,R=0,M=32,T=128;function I(){k&M&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"flag after width"),k&T&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"flag after precision")}function C(){k&M&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"width given twice"),k&T&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"width after precision")}function N(t){return t>=n.length&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"too few arguments"),n[t]}function j(){switch(R){case-1:r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"unnumbered("+S+") mixed with numbered");case-2:r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"unnumbered("+S+") mixed with named")}return N((R=S++)-1)}function L(t){return 0<R&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"numbered("+t+") after unnumbered("+R+")"),-2===R&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"numbered("+t+") after named"),t<1&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"invalid index - "+t+"$"),R=-1,N(t-1)}function z(){return void 0===x?j():x}function P(t){for(var e,n="";;c++){if(c===A&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"malformed format string - %*[0-9]"),$.charCodeAt(c)<48||57<$.charCodeAt(c))return c--,2147483647<(e=parseInt(n,10)||0)&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),t+" too big"),e;n+=$.charAt(c)}}function D(t){var e,n=P(t);return"$"===$.charAt(c+1)?(c++,e=L(n)):e=j(),e.$to_int()}for(c=$.indexOf("%");-1!==c;c=$.indexOf("%",c)){switch(_=void 0,p=f=-1,x=void(k=0),a=c,c++,$.charAt(c)){case"%":E=c;case"":case"\n":case"\0":c++;continue}t:for(;c<A;c++)switch($.charAt(c)){case" ":I(),k|=16;continue t;case"#":I(),k|=1;continue t;case"+":I(),k|=4;continue t;case"-":I(),k|=2;continue t;case"0":I(),k|=8;continue t;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(h=P("width"),"$"===$.charAt(c+1)){if(c+2===A){_="%",c++;break t}void 0!==x&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"value given twice - %"+h+"$"),x=L(h),c++}else C(),k|=M,f=h;continue t;case"<":case"{":for(b="<"===$.charAt(c)?">":"}",g="",c++;;c++){if(c===A&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"malformed name - unmatched parenthesis"),$.charAt(c)===b){if(0<R&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"named "+g+" after unnumbered("+R+")"),-1===R&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"named "+g+" after numbered"),R=-2,void 0!==n[0]&&n[0].$$is_hash||r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"one hash required"),x=n[0].$fetch(g),">"===b)continue t;if(_=x.toString(),-1!==p&&(_=_.slice(0,p)),2&k)for(;_.length<f;)_+=" ";else for(;_.length<f;)_=" "+_;break t}g+=$.charAt(c)}case"*":c++,C(),k|=M,(f=D("width"))<0&&(k|=2,f=-f);continue t;case".":if(k&T&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"precision given twice"),k|=64|T,p=0,c++,"*"===$.charAt(c)){c++,(p=D("precision"))<0&&(k&=-65);continue t}p=P("precision");continue t;case"d":case"i":case"u":if(0<=(u=r.$Integer(z()))){for(_=u.toString();_.length<p;)_="0"+_;if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<f;)_+=" ";else if(8&k&&-1===p){for(;_.length<f-(4&k||16&k?1:0);)_="0"+_;(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<f;)_=" "+_}else{for(_=(-u).toString();_.length<p;)_="0"+_;if(2&k)for(_="-"+_;_.length<f;)_+=" ";else if(8&k&&-1===p){for(;_.length<f-1;)_="0"+_;_="-"+_}else for(_="-"+_;_.length<f;)_=" "+_}break t;case"b":case"B":case"o":case"x":case"X":switch($.charAt(c)){case"b":case"B":m=2,y="0b",v=/^1+/,w="1";break;case"o":m=8,y="0",v=/^3?7+/,w="7";break;case"x":case"X":m=16,y="0x",v=/^f+/,w="f"}if(0<=(u=r.$Integer(z()))){for(_=u.toString(m);_.length<p;)_="0"+_;if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_),1&k&&0!==u&&(_=y+_);_.length<f;)_+=" ";else if(8&k&&-1===p){for(;_.length<f-(4&k||16&k?1:0)-(1&k&&0!==u?y.length:0);)_="0"+_;1&k&&0!==u&&(_=y+_),(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for(1&k&&0!==u&&(_=y+_),(4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<f;)_=" "+_}else if(4&k||16&k){for(_=(-u).toString(m);_.length<p;)_="0"+_;if(2&k)for(1&k&&(_=y+_),_="-"+_;_.length<f;)_+=" ";else if(8&k&&-1===p){for(;_.length<f-1-(1&k?2:0);)_="0"+_;1&k&&(_=y+_),_="-"+_}else for(1&k&&(_=y+_),_="-"+_;_.length<f;)_=" "+_}else{for(_=(u>>>0).toString(m).replace(v,w);_.length<p-2;)_=w+_;if(2&k)for(_=".."+_,1&k&&(_=y+_);_.length<f;)_+=" ";else if(8&k&&-1===p){for(;_.length<f-2-(1&k?y.length:0);)_=w+_;_=".."+_,1&k&&(_=y+_)}else for(_=".."+_,1&k&&(_=y+_);_.length<f;)_=" "+_}$.charAt(c)===$.charAt(c).toUpperCase()&&(_=_.toUpperCase());break t;case"f":case"e":case"E":case"g":case"G":if(0<=(u=r.$Float(z()))||isNaN(u)){if(u===1/0)_="Inf";else switch($.charAt(c)){case"f":_=u.toFixed(-1===p?6:p);break;case"e":case"E":_=u.toExponential(-1===p?6:p);break;case"g":case"G":_=u.toExponential(),(d=parseInt(_.split("e")[1],10))<-4||(-1===p?6:p)<=d||(_=u.toPrecision(-1===p?1&k?6:void 0:p))}if(2&k)for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<f;)_+=" ";else if(8&k&&u!==1/0&&!isNaN(u)){for(;_.length<f-(4&k||16&k?1:0);)_="0"+_;(4&k||16&k)&&(_=(4&k?"+":" ")+_)}else for((4&k||16&k)&&(_=(4&k?"+":" ")+_);_.length<f;)_=" "+_}else{if(u===-1/0)_="Inf";else switch($.charAt(c)){case"f":_=(-u).toFixed(-1===p?6:p);break;case"e":case"E":_=(-u).toExponential(-1===p?6:p);break;case"g":case"G":_=(-u).toExponential(),(d=parseInt(_.split("e")[1],10))<-4||(-1===p?6:p)<=d||(_=(-u).toPrecision(-1===p?1&k?6:void 0:p))}if(2&k)for(_="-"+_;_.length<f;)_+=" ";else if(8&k&&u!==-1/0){for(;_.length<f-1;)_="0"+_;_="-"+_}else for(_="-"+_;_.length<f;)_=" "+_}$.charAt(c)!==$.charAt(c).toUpperCase()||u===1/0||u===-1/0||isNaN(u)||(_=_.toUpperCase()),_=_.replace(/([eE][-+]?)([0-9])$/,"$10$2");break t;case"a":case"A":r.$raise(B.const_get(pt,"NotImplementedError",!0,!0),"`A` and `a` format field types are not implemented in Opal yet");case"c":if((u=z())["$respond_to?"]("to_ary")&&(u=u.$to_ary()[0]),1!==(_=u["$respond_to?"]("to_str")?u.$to_str():String.fromCharCode(B.Opal.$coerce_to(u,B.Integer,"to_int"))).length&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"%c requires a character"),2&k)for(;_.length<f;)_+=" ";else for(;_.length<f;)_=" "+_;break t;case"p":if(_=z().$inspect(),-1!==p&&(_=_.slice(0,p)),2&k)for(;_.length<f;)_+=" ";else for(;_.length<f;)_=" "+_;break t;case"s":if(_=z().$to_s(),-1!==p&&(_=_.slice(0,p)),2&k)for(;_.length<f;)_+=" ";else for(;_.length<f;)_=" "+_;break t;default:r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"malformed format string - %"+$.charAt(c))}void 0===_&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"malformed format string - %"),O+=$.slice(E,a)+_,E=c+1}return yt.DEBUG&&0<=R&&S<n.length&&r.$raise(B.const_get(pt,"ArgumentError",!0,!0),"too many arguments for format string"),O+$.slice(E)},O.$$arity=-2),B.defn(dt,"$hash",E=function(){return this.$__id__()},E.$$arity=0),B.defn(dt,"$initialize_copy",A=function(t){return bt},A.$$arity=1),B.defn(dt,"$inspect",S=function(){return this.$to_s()},S.$$arity=0),B.defn(dt,"$instance_of?",R=function(t){return t.$$is_class||t.$$is_module||this.$raise(B.const_get(pt,"TypeError",!0,!0),"class or module required"),this.$$class===t},R.$$arity=1),B.defn(dt,"$instance_variable_defined?",M=function(t){return t=B.Opal["$instance_variable_name!"](t),B.hasOwnProperty.call(this,t.substr(1))},M.$$arity=1),B.defn(dt,"$instance_variable_get",T=function(t){t=B.Opal["$instance_variable_name!"](t);var e=this[B.ivar(t.substr(1))];return null==e?bt:e},T.$$arity=1),B.defn(dt,"$instance_variable_set",I=function(t,e){return t=B.Opal["$instance_variable_name!"](t),this[B.ivar(t.substr(1))]=e},I.$$arity=2),B.defn(dt,"$remove_instance_variable",C=function(t){t=B.Opal["$instance_variable_name!"](t);var e,n=B.ivar(t.substr(1));return this.hasOwnProperty(n)?(e=this[n],delete this[n],e):this.$raise(B.const_get(pt,"NameError",!0,!0),"instance variable "+t+" not defined")},C.$$arity=1),B.defn(dt,"$instance_variables",N=function(){var t,e=[];for(var n in this)this.hasOwnProperty(n)&&"$"!==n.charAt(0)&&(t="$"===n.substr(-1)?n.slice(0,n.length-1):n,e.push("@"+t));return e},N.$$arity=0),B.defn(dt,"$Integer",j=function($,r){var t,e,n,o=this;return $.$$is_string?"0"===$?0:(void 0===r?r=0:(1===(r=B.Opal.$coerce_to(r,B.Integer,"to_int"))||r<0||36<r)&&o.$raise(B.const_get(pt,"ArgumentError",!0,!0),"invalid radix "+r),e=(e=(e=$.toLowerCase()).replace(/(\d)_(?=\d)/g,"$1")).replace(/^(\s*[+-]?)(0[bodx]?)/,function(t,e,n){switch(n){case"0b":if(0===r||2===r)return r=2,e;case"0":case"0o":if(0===r||8===r)return r=8,e;case"0d":if(0===r||10===r)return r=10,e;case"0x":if(0===r||16===r)return r=16,e}o.$raise(B.const_get(pt,"ArgumentError",!0,!0),'invalid value for Integer(): "'+$+'"')}),n="0-"+((r=0===r?10:r)<=10?r-1:"9a-"+String.fromCharCode(r-11+97)),new RegExp("^\\s*[+-]?["+n+"]+\\s*$").test(e)||o.$raise(B.const_get(pt,"ArgumentError",!0,!0),'invalid value for Integer(): "'+$+'"'),t=parseInt(e,r),isNaN(t)&&o.$raise(B.const_get(pt,"ArgumentError",!0,!0),'invalid value for Integer(): "'+$+'"'),t):(void 0!==r&&o.$raise(B.const_get(pt,"ArgumentError",!0,!0),"base specified for non string value"),$===bt&&o.$raise(B.const_get(pt,"TypeError",!0,!0),"can't convert nil into Integer"),$.$$is_number?(($===1/0||$===-1/0||isNaN($))&&o.$raise(B.const_get(pt,"FloatDomainError",!0,!0),$),Math.floor($)):$["$respond_to?"]("to_int")&&(t=$.$to_int())!==bt?t:B.Opal["$coerce_to!"]($,B.Integer,"to_i"))},j.$$arity=-2),B.defn(dt,"$Float",L=function(t){var e;return t===bt&&this.$raise(B.const_get(pt,"TypeError",!0,!0),"can't convert nil into Float"),t.$$is_string?(e=(e=t.toString()).replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(e)?this.$Integer(e):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(e)||this.$raise(B.const_get(pt,"ArgumentError",!0,!0),'invalid value for Float(): "'+t+'"'),parseFloat(e))):B.Opal["$coerce_to!"](t,B.const_get(pt,"Float",!0,!0),"to_f")},L.$$arity=1),B.defn(dt,"$Hash",z=function(t){var e,n;return(e=!1!==(n=t["$nil?"]())&&n!==bt&&null!=n?n:t["$=="]([]))===bt||null==e||e.$$is_boolean&&1!=e?(e=B.const_get(pt,"Hash",!0,!0)["$==="](t))===bt||null==e||e.$$is_boolean&&1!=e?B.Opal["$coerce_to!"](t,B.const_get(pt,"Hash",!0,!0),"to_hash"):t:wt([],{})},z.$$arity=1),B.defn(dt,"$is_a?",P=function(t){return t.$$is_class||t.$$is_module||this.$raise(B.const_get(pt,"TypeError",!0,!0),"class or module required"),B.is_a(this,t)},P.$$arity=1),B.alias(dt,"kind_of?","is_a?"),B.defn(dt,"$lambda",D=function(){var t=D.$$p,e=t||bt;return t&&(D.$$p=null),e.$$is_lambda=!0,e},D.$$arity=0),B.defn(dt,"$load",q=function(t){return t=B.Opal["$coerce_to!"](t,B.String,"to_str"),B.load(t)},q.$$arity=1),B.defn(dt,"$loop",U=function(){var t,e=U.$$p,n=e||bt,$=bt;if(e&&(U.$$p=null),n===bt)return vt(this,"enum_for",["loop"],((t=function(){return t.$$s,B.const_get([B.const_get(pt,"Float",!0,!0).$$scope],"INFINITY",!0,!0)}).$$s=this,t.$$arity=0,t));for(;!0!==bt;)try{B.yieldX(n,[])}catch(t){if(!B.rescue(t,[B.const_get(pt,"StopIteration",!0,!0)]))throw t;$=t;try{return $.$result()}finally{B.pop_exception()}}return this},U.$$arity=0),B.defn(dt,"$nil?",F=function(){return!1},F.$$arity=0),B.alias(dt,"object_id","__id__"),B.defn(dt,"$printf",G=function(t){var e,n,$=arguments.length,r=$-0;r<0&&(r=0),n=new Array(r);for(var o=0;o<$;o++)n[o-0]=arguments[o];return(e=i(n.$length(),0))===bt||null==e||e.$$is_boolean&&1!=e||this.$print(vt(this,"format",B.to_a(n))),bt},G.$$arity=-1),B.defn(dt,"$proc",H=function(){var t=H.$$p,e=t||bt;return t&&(H.$$p=null),!1!==e&&e!==bt&&null!=e||this.$raise(B.const_get(pt,"ArgumentError",!0,!0),"tried to create Proc object without a block"),e.$$is_lambda=!1,e},H.$$arity=0),B.defn(dt,"$puts",Y=function(t){var e;null==yt.stdout&&(yt.stdout=bt);var n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return vt(yt.stdout,"puts",B.to_a(e))},Y.$$arity=-1),B.defn(dt,"$p",K=function(t){var e,n,$,r,o,i=arguments.length,s=i-0;s<0&&(s=0),$=new Array(s);for(var l=0;l<i;l++)$[l-0]=arguments[l];return vt($,"each",[],((e=function(t){return e.$$s,null==yt.stdout&&(yt.stdout=bt),null==t&&(t=bt),yt.stdout.$puts(t.$inspect())}).$$s=this,e.$$arity=1,e)),r=$.$length(),o=1,(n="number"==typeof r&&"number"==typeof o?r<=o:r["$<="](o))===bt||null==n||n.$$is_boolean&&1!=n?$:$["$[]"](0)},K.$$arity=-1),B.defn(dt,"$print",W=function(t){var e;null==yt.stdout&&(yt.stdout=bt);var n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return vt(yt.stdout,"print",B.to_a(e))},W.$$arity=-1),B.defn(dt,"$warn",X=function(t){var e,n,$;null==yt.VERBOSE&&(yt.VERBOSE=bt),null==yt.stderr&&(yt.stderr=bt);var r=arguments.length,o=r-0;o<0&&(o=0),$=new Array(o);for(var i=0;i<r;i++)$[i-0]=arguments[i];return(e=!1!==(n=yt.VERBOSE["$nil?"]())&&n!==bt&&null!=n?n:$["$empty?"]())===bt||null==e||e.$$is_boolean&&1!=e?vt(yt.stderr,"puts",B.to_a($)):bt},X.$$arity=-1),B.defn(dt,"$raise",V=function(t,e,n){if(null==yt["!"]&&(yt["!"]=bt),null==e&&(e=bt),null==n&&(n=bt),null==t&&yt["!"]!==bt)throw yt["!"];throw null==t?t=B.const_get(pt,"RuntimeError",!0,!0).$new():t.$$is_string?t=B.const_get(pt,"RuntimeError",!0,!0).$new(t):t.$$is_class&&t["$respond_to?"]("exception")?t=t.$exception(e):t["$kind_of?"](B.const_get(pt,"Exception",!0,!0))||(t=B.const_get(pt,"TypeError",!0,!0).$new("exception class/object expected")),yt["!"]!==bt&&B.exceptions.push(yt["!"]),yt["!"]=t},V.$$arity=-1),B.alias(dt,"fail","raise"),B.defn(dt,"$rand",J=function(t){return void 0===t?B.const_get([B.const_get(pt,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand():(t.$$is_number&&(t<0&&(t=Math.abs(t)),t%1!=0&&(t=t.$to_i()),0===t&&(t=void 0)),B.const_get([B.const_get(pt,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand(t))},J.$$arity=-1),B.defn(dt,"$respond_to?",Z=function(t,e){var n;if(null==e&&(e=!1),(n=this["$respond_to_missing?"](t,e))!==bt&&null!=n&&(!n.$$is_boolean||1==n))return!0;var $=this["$"+t];return"function"==typeof $&&!$.$$stub},Z.$$arity=-2),B.defn(dt,"$respond_to_missing?",Q=function(t,e){return null==e&&(e=!1),!1},Q.$$arity=-2),B.defn(dt,"$require",tt=function(t){return t=B.Opal["$coerce_to!"](t,B.String,"to_str"),B.require(t)},tt.$$arity=1),B.defn(dt,"$require_relative",et=function(t){return B.Opal["$try_convert!"](t,B.String,"to_str"),t=B.const_get(pt,"File",!0,!0).$expand_path(B.const_get(pt,"File",!0,!0).$join(B.current_file,"..",t)),B.require(t)},et.$$arity=1),B.defn(dt,"$require_tree",nt=function(t){for(var e in(t=B.const_get(pt,"File",!0,!0).$expand_path(t))["$=="](".")&&(t=""),B.modules)e["$start_with?"](t)&&B.require(e);return bt},nt.$$arity=1),B.alias(dt,"send","__send__"),B.alias(dt,"public_send","__send__"),B.defn(dt,"$singleton_class",$t=function(){return B.get_singleton_class(this)},$t.$$arity=0),B.defn(dt,"$sleep",rt=function(t){null==t&&(t=bt),t===bt&&this.$raise(B.const_get(pt,"TypeError",!0,!0),"can't convert NilClass into time interval"),t.$$is_number||this.$raise(B.const_get(pt,"TypeError",!0,!0),"can't convert "+t.$class()+" into time interval"),t<0&&this.$raise(B.const_get(pt,"ArgumentError",!0,!0),"time interval must be positive");for(var e=new Date;new Date-e<=1e3*t;);return t},rt.$$arity=-1),B.alias(dt,"sprintf","format"),B.defn(dt,"$srand",ot=function(t){return null==t&&(t=B.const_get(pt,"Random",!0,!0).$new_seed()),B.const_get(pt,"Random",!0,!0).$srand(t)},ot.$$arity=-1),B.defn(dt,"$String",it=function(t){var e;return!1!==(e=B.Opal["$coerce_to?"](t,B.String,"to_str"))&&e!==bt&&null!=e?e:B.Opal["$coerce_to!"](t,B.String,"to_s")},it.$$arity=1),B.defn(dt,"$tap",st=function(){var t=st.$$p,e=t||bt;return t&&(st.$$p=null),B.yield1(e,this),this},st.$$arity=0),B.defn(dt,"$to_proc",lt=function(){return this},lt.$$arity=0),B.defn(dt,"$to_s",at=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},at.$$arity=0),B.defn(dt,"$catch",ct=function(e){var n=this,t=ct.$$p,$=t||bt,r=bt;t&&(ct.$$p=null);try{return B.yieldX($,[])}catch(t){if(!B.rescue(t,[B.const_get(pt,"UncaughtThrowError",!0,!0)]))throw t;r=t;try{return r.$sym()["$=="](e)?r.$arg():n.$raise()}finally{B.pop_exception()}}},ct.$$arity=1),B.defn(dt,"$throw",ut=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$raise(B.const_get(pt,"UncaughtThrowError",!0,!0).$new(e))},ut.$$arity=-1),B.defn(dt,"$open",_t=function(t){var e,n=_t.$$p,$=n||bt,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(_t.$$p=null),vt(B.const_get(pt,"File",!0,!0),"open",B.to_a(e),$.$to_proc())},_t.$$arity=-1),function(t,e,n){function $(){}var r=$=xt(t,null,"Object",$),o=(r.$$proto,r.$$scope),i=n.slice().concat(o);return r.$include(B.const_get(i,"Kernel",!0,!0))}(ht.base,0,gt)},Opal.modules["corelib/error"]=function(g){g.top;var t,e,n,$,r,o,i,s,l,a,c=g,u=[g],b=g.nil,m=(g.breaker,g.slice,g.klass),y=g.send,_=g.module;return g.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_=$=m(t,e,"Exception",$),d=_.$$proto,f=_.$$scope,p=n.slice().concat(f);d.message=b;var h=g.const_get(p,"Kernel",!0,!0).$raise;g.defs(_,"$new",r=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];var o=0<e.length?e[0]:b,i=new this.$$alloc(o);return i.name=this.$$name,i.message=o,g.send(i,i.$initialize,e),Error.captureStackTrace&&Error.captureStackTrace(i,h),i},r.$$arity=-1),g.defs(_,"$exception",o=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return y(this,"new",g.to_a(e))},o.$$arity=-1),g.defn(_,"$initialize",i=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.message=0<e.length?e[0]:b},i.$$arity=-1),g.defn(_,"$backtrace",s=function(){var t=this.stack;return"string"==typeof t?t.split("\n").slice(0,15):t?t.slice(0,15):[]},s.$$arity=0),g.defn(_,"$exception",l=function(t){if(null==t&&(t=b),t===b||this===t)return this;var e=this.$clone();return e.message=t,e},l.$$arity=-1),g.defn(_,"$message",a=function(){return this.$to_s()},a.$$arity=0),g.defn(_,"$inspect",c=function(){var t;return(t=this.$to_s()["$empty?"]())===b||null==t||t.$$is_boolean&&1!=t?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()},c.$$arity=0),g.defn(_,"$to_s",u=function(){var t,e;return!1!==(t=!1!==(e=this.message)&&e!==b&&null!=e?this.message.$to_s():e)&&t!==b&&null!=t?t:this.$class().$to_s()},u.$$arity=0)}(c.base,Error,u),function(t,e,n){function $(){}var r=$=m(t,e,"ScriptError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"SyntaxError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"ScriptError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"LoadError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"ScriptError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"NotImplementedError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"ScriptError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"SystemExit",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"NoMemoryError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"SignalException",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"Interrupt",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"SecurityError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"StandardError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"Exception",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"ZeroDivisionError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"NameError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"NoMethodError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"NameError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"RuntimeError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"LocalJumpError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"TypeError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"ArgumentError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"IndexError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"StopIteration",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"IndexError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"KeyError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"IndexError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"RangeError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"FloatDomainError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"RangeError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"IOError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),function(t,e,n){function $(){}var r=$=m(t,e,"SystemCallError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(c.base,g.const_get(u,"StandardError",!0,!0),u),t=c.base,e=u,(n=_(t,"Errno")).$$proto,$=n.$$scope,r=e.slice().concat($),function(t,e,n){function $(){}var r,o=$=m(t,e,"EINVAL",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),g.defs(o,"$new",r=function(){var t=r.$$p;return t&&(r.$$p=null),y(this,g.find_super_dispatcher(this,"new",r,!1,$),["Invalid argument"],null)},r.$$arity=0)}($.base,g.const_get(r,"SystemCallError",!0,!0),r),function(t,e,n){function $(){}var i,r=$=m(t,e,"UncaughtThrowError",$),o=r.$$proto,s=r.$$scope;n.slice().concat(s);o.sym=b,r.$attr_reader("sym","arg"),g.defn(r,"$initialize",i=function(t){var e,n,$,r=this,o=i.$$p;return o&&(i.$$p=null),r.sym=t["$[]"](0),n=t.$length(),$=1,(e="number"==typeof n&&"number"==typeof $?$<n:n["$>"]($))===b||null==e||e.$$is_boolean&&1!=e||(r.arg=t["$[]"](1)),y(r,g.find_super_dispatcher(r,"initialize",i,!1),["uncaught throw "+r.sym.$inspect()],null)},i.$$arity=1)}(c.base,g.const_get(u,"ArgumentError",!0,!0),u),function(t,e,n){function $(){}var r,o=$=m(t,null,"NameError",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);o.$attr_reader("name"),g.defn(o,"$initialize",r=function(t,e){var n=r.$$p;return null==e&&(e=b),n&&(r.$$p=null),y(this,g.find_super_dispatcher(this,"initialize",r,!1),[t],null),this.name=e},r.$$arity=-2)}(c.base,0,u),function(t,e,n){function $(){}var r,o=$=m(t,null,"NoMethodError",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);o.$attr_reader("args"),g.defn(o,"$initialize",r=function(t,e,n){var $=r.$$p;return null==e&&(e=b),null==n&&(n=[]),$&&(r.$$p=null),y(this,g.find_super_dispatcher(this,"initialize",r,!1),[t,e],null),this.args=n},r.$$arity=-2)}(c.base,0,u),function(t,e,n){function $(){}var r=$=m(t,null,"StopIteration",$),o=(r.$$proto,r.$$scope);n.slice().concat(o);r.$attr_reader("result")}(c.base,0,u),o=c.base,i=u,(s=_(o,"JS")).$$proto,l=s.$$scope,a=i.slice().concat(l),void function(t,e,n){function $(){}var r=$=m(t,null,"Error",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(l.base,0,a)},Opal.modules["corelib/constants"]=function(t){t.top;var e=t,n=[t];t.nil,t.breaker,t.slice;return t.cdecl(e,"RUBY_PLATFORM","opal"),t.cdecl(e,"RUBY_ENGINE","opal"),t.cdecl(e,"RUBY_VERSION","2.3.0"),t.cdecl(e,"RUBY_ENGINE_VERSION","0.11.0.dev"),t.cdecl(e,"RUBY_RELEASE_DATE","2016-10-31"),t.cdecl(e,"RUBY_PATCHLEVEL",0),t.cdecl(e,"RUBY_REVISION",0),t.cdecl(e,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),t.cdecl(e,"RUBY_DESCRIPTION","opal "+t.const_get(n,"RUBY_ENGINE_VERSION",!0,!0)+" ("+t.const_get(n,"RUBY_RELEASE_DATE",!0,!0)+" revision "+t.const_get(n,"RUBY_REVISION",!0,!0)+")")},Opal.modules["opal/base"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("corelib/runtime"),e.$require("corelib/helpers"),e.$require("corelib/module"),e.$require("corelib/class"),e.$require("corelib/basic_object"),e.$require("corelib/kernel"),e.$require("corelib/error"),e.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(E){E.top;var t=E,e=[E],A=E.nil,S=(E.breaker,E.slice,E.klass);return E.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w=$=S(t,null,"NilClass",$),x=w.$$proto,k=w.$$scope,O=n.slice().concat(k);x.$$meta=w,E.defn(w,"$!",r=function(){return!0},r.$$arity=0),E.defn(w,"$&",o=function(t){return!1},o.$$arity=1),E.defn(w,"$|",i=function(t){return!1!==t&&t!==A},i.$$arity=1),E.defn(w,"$^",s=function(t){return!1!==t&&t!==A},s.$$arity=1),E.defn(w,"$==",l=function(t){return t===A},l.$$arity=1),E.defn(w,"$dup",a=function(){return this.$raise(E.const_get(O,"TypeError",!0,!0),"can't dup "+this.$class())},a.$$arity=0),E.defn(w,"$clone",c=function(){return this.$raise(E.const_get(O,"TypeError",!0,!0),"can't clone "+this.$class())},c.$$arity=0),E.defn(w,"$inspect",u=function(){return"nil"},u.$$arity=0),E.defn(w,"$nil?",_=function(){return!0},_.$$arity=0),E.defn(w,"$singleton_class",d=function(){return E.const_get(O,"NilClass",!0,!0)},d.$$arity=0),E.defn(w,"$to_a",f=function(){return[]},f.$$arity=0),E.defn(w,"$to_h",p=function(){return E.hash()},p.$$arity=0),E.defn(w,"$to_i",h=function(){return 0},h.$$arity=0),E.alias(w,"to_f","to_i"),E.defn(w,"$to_s",g=function(){return""},g.$$arity=0),E.defn(w,"$to_c",b=function(){return E.const_get(O,"Complex",!0,!0).$new(0,0)},b.$$arity=0),E.defn(w,"$rationalize",m=function(t){var e,n,$,r,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<o;s++)n[s-0]=arguments[s];return $=n.$length(),r=1,(e="number"==typeof $&&"number"==typeof r?r<$:$["$>"](r))===A||null==e||e.$$is_boolean&&1!=e||this.$raise(E.const_get(O,"ArgumentError",!0,!0)),this.$Rational(0,1)},m.$$arity=-1),E.defn(w,"$to_r",y=function(){return this.$Rational(0,1)},y.$$arity=0),E.defn(w,"$instance_variables",v=function(){return[]},v.$$arity=0)}(t.base,0,e),E.cdecl(t,"NIL",A)},Opal.modules["corelib/boolean"]=function(b){b.top;var t=b,e=[b],m=b.nil,y=(b.breaker,b.slice,b.klass);return b.add_stubs(["$raise","$class"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f=$=y(t,e,"Boolean",$),p=f.$$proto,h=f.$$scope,g=n.slice().concat(h);p.$$is_boolean=!0,p.$$meta=f,b.defn(f,"$__id__",r=function(){return this.valueOf()?2:0},r.$$arity=0),b.alias(f,"object_id","__id__"),b.defn(f,"$!",o=function(){return 1!=this},o.$$arity=0),b.defn(f,"$&",i=function(t){return 1==this&&(!1!==t&&t!==m)},i.$$arity=1),b.defn(f,"$|",s=function(t){return 1==this||!1!==t&&t!==m},s.$$arity=1),b.defn(f,"$^",l=function(t){return 1==this?!1===t||t===m:!1!==t&&t!==m},l.$$arity=1),b.defn(f,"$==",a=function(t){return 1==this===t.valueOf()},a.$$arity=1),b.alias(f,"equal?","=="),b.alias(f,"eql?","=="),b.defn(f,"$singleton_class",c=function(){return b.const_get(g,"Boolean",!0,!0)},c.$$arity=0),b.defn(f,"$to_s",u=function(){return 1==this?"true":"false"},u.$$arity=0),b.defn(f,"$dup",_=function(){return this.$raise(b.const_get(g,"TypeError",!0,!0),"can't dup "+this.$class())},_.$$arity=0),b.defn(f,"$clone",d=function(){return this.$raise(b.const_get(g,"TypeError",!0,!0),"can't clone "+this.$class())},d.$$arity=0)}(t.base,Boolean,e),b.cdecl(t,"TrueClass",b.const_get(e,"Boolean",!0,!0)),b.cdecl(t,"FalseClass",b.const_get(e,"Boolean",!0,!0)),b.cdecl(t,"TRUE",!0),b.cdecl(t,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(r){function n(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function $(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}r.top;var t,e,o,i,s,l,a,c,u,_,d,f,p=r,h=[r],g=r.nil,b=(r.breaker,r.slice,r.module);return r.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),t=p.base,e=h,(_=b(t,"Comparable")).$$proto,d=_.$$scope,f=e.slice().concat(d),r.defs(_,"$normalize",o=function(t){var e;return(e=r.Integer["$==="](t))===g||null==e||e.$$is_boolean&&1!=e?(e=n(t,0))===g||null==e||e.$$is_boolean&&1!=e?(e=$(t,0))===g||null==e||e.$$is_boolean&&1!=e?0:-1:1:t},o.$$arity=1),r.defn(_,"$==",i=function(t){var e,n=this,$=g;try{return!((e=n["$equal?"](t))===g||null==e||e.$$is_boolean&&1!=e)||n["$<=>"]!=r.Kernel["$<=>"]&&(n.$$comparable?(delete n.$$comparable,!1):!((e=$=n["$<=>"](t))===g||null==e||e.$$is_boolean&&1!=e)&&0==r.const_get(f,"Comparable",!0,!0).$normalize($))}catch(t){if(!r.rescue(t,[r.const_get(f,"StandardError",!0,!0)]))throw t;try{return!1}finally{r.pop_exception()}}},i.$$arity=1),r.defn(_,"$>",s=function(t){var e,n;return((e=n=this["$<=>"](t))===g||null==e||e.$$is_boolean&&1!=e)&&this.$raise(r.const_get(f,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<r.const_get(f,"Comparable",!0,!0).$normalize(n)},s.$$arity=1),r.defn(_,"$>=",l=function(t){var e,n;return((e=n=this["$<=>"](t))===g||null==e||e.$$is_boolean&&1!=e)&&this.$raise(r.const_get(f,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+t.$class()+" failed"),0<=r.const_get(f,"Comparable",!0,!0).$normalize(n)},l.$$arity=1),r.defn(_,"$<",a=function(t){var e,n;return((e=n=this["$<=>"](t))===g||null==e||e.$$is_boolean&&1!=e)&&this.$raise(r.const_get(f,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+t.$class()+" failed"),r.const_get(f,"Comparable",!0,!0).$normalize(n)<0},a.$$arity=1),r.defn(_,"$<=",c=function(t){var e,n;return((e=n=this["$<=>"](t))===g||null==e||e.$$is_boolean&&1!=e)&&this.$raise(r.const_get(f,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+t.$class()+" failed"),r.const_get(f,"Comparable",!0,!0).$normalize(n)<=0},c.$$arity=1),void r.defn(_,"$between?",u=function(t,e){return!$(this,t)&&!n(this,e)},u.$$arity=2)},Opal.modules["corelib/regexp"]=function(y){y.top;var t=y,e=[y],v=y.nil,w=(y.breaker,y.slice,y.klass),x=y.send,k=y.gvars;return y.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(t,e,n){function $(){}var r=$=w(t,e,"RegexpError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(t.base,y.const_get(e,"StandardError",!0,!0),e),function(t,e,n){function $(){}var r,o,i,s,a,l,c,u,_,d,f=$=w(t,e,"Regexp",$),p=f.$$proto,h=f.$$scope,g=n.slice().concat(h);y.cdecl(h,"IGNORECASE",1),y.cdecl(h,"MULTILINE",4),p.$$is_regexp=!0,function(t,e){t.$$proto,t.$$scope;var o,n,$,r,i,_=e.slice().concat(t);y.defn(t,"$allocate",o=function(){var t,e=o.$$p,n=v,$=v,r=v;for(e&&(o.$$p=null),r=0,t=arguments.length,$=new Array(t);r<t;r++)$[r]=arguments[r];return(n=x(this,y.find_super_dispatcher(this,"allocate",o,!1),$,e)).uninitialized=!0,n},o.$$arity=0),y.defn(t,"$escape",n=function(t){return y.escape_regexp(t)},n.$$arity=1),y.defn(t,"$last_match",$=function(t){var e;return null==k["~"]&&(k["~"]=v),null==t&&(t=v),(e=t["$nil?"]())===v||null==e||e.$$is_boolean&&1!=e?k["~"]["$[]"](t):k["~"]},$.$$arity=-1),y.alias(t,"quote","escape"),y.defn(t,"$union",r=function(t){var e,n,$,r,o,i,s=this,l=arguments.length,a=l-0;a<0&&(a=0),e=new Array(a);for(var c=0;c<l;c++)e[c-0]=arguments[c];if(0==e.length)return/(?!)/;n=e[0].$$is_array,1<e.length&&n&&s.$raise(y.const_get(_,"TypeError",!0,!0),"no implicit conversion of Array into String"),n&&(e=e[0]),o=void 0,$=[];for(var u=0;u<e.length;u++)(r=e[u]).$$is_string?$.push(s.$escape(r)):r.$$is_regexp?(i=r.$options(),null!=o&&o!=i&&s.$raise(y.const_get(_,"TypeError",!0,!0),"All expressions must use the same options"),o=i,$.push("("+r.source+")")):$.push(s.$escape(r.$to_str()));return s.$new($.$join("|"),o)},r.$$arity=-1),y.defn(t,"$new",i=function(t,e){if(t.$$is_regexp)return new RegExp(t);if("\\"===(t=y.Opal["$coerce_to!"](t,y.String,"to_str")).charAt(t.length-1)&&"\\"!==t.charAt(t.length-2)&&this.$raise(y.const_get(_,"RegexpError",!0,!0),"too short escape sequence: /"+t+"/"),void 0===e||e["$!"]())return new RegExp(t);if(e.$$is_number){var n="";y.const_get(_,"IGNORECASE",!0,!0)&e&&(n+="i"),y.const_get(_,"MULTILINE",!0,!0)&e&&(n+="m"),e=n}else e="i";return new RegExp(t,e)},i.$$arity=-2)}(y.get_singleton_class(f),g),y.defn(f,"$==",r=function(t){return t.constructor==RegExp&&this.toString()===t.toString()},r.$$arity=1),y.defn(f,"$===",o=function(t){return this.$match(y.Opal["$coerce_to?"](t,y.String,"to_str"))!==v},o.$$arity=1),y.defn(f,"$=~",i=function(t){var e;return null==k["~"]&&(k["~"]=v),!1!==(e=this.$match(t))&&e!==v&&null!=e?k["~"].$begin(0):e},i.$$arity=1),y.alias(f,"eql?","=="),y.defn(f,"$inspect",s=function(){var t=this.toString(),e=/^\/(.*)\/([^\/]*)$/.exec(t);if(e){for(var n=e[1],$=e[2],r=n.split(""),o=r.length,i=!1,s="",l=0;l<o;l++){var a=r[l];i||"/"!=a||(s=s.concat("\\")),s=s.concat(a),i="\\"==a&&!i}return"/"+s+"/"+$}return t},s.$$arity=0),y.defn(f,"$match",a=function(t,e){var n=this,$=a.$$p,r=$||v;if(null==k["~"]&&(k["~"]=v),$&&(a.$$p=null),n.uninitialized&&n.$raise(y.const_get(g,"TypeError",!0,!0),"uninitialized Regexp"),e=void 0===e?0:y.Opal.$coerce_to(e,y.Integer,"to_int"),t===v)return k["~"]=v;if(t=y.Opal.$coerce_to(t,y.String,"to_str"),e<0&&(e+=t.length)<0)return k["~"]=v;var o=n.source,i="g";n.multiline&&(o=o.replace(".","[\\s\\S]"),i+="m");for(var s,l=new RegExp(o,i+(n.ignoreCase?"i":""));;){if(null===(s=l.exec(t)))return k["~"]=v;if(s.index>=e)return k["~"]=y.MatchData.$new(l,s),r===v?k["~"]:r.$call(k["~"]);l.lastIndex=s.index+1}},a.$$arity=-2),y.defn(f,"$~",l=function(){return null==k._&&(k._=v),this["$=~"](k._)},l.$$arity=0),y.defn(f,"$source",c=function(){return this.source},c.$$arity=0),y.defn(f,"$options",u=function(){this.uninitialized&&this.$raise(y.const_get(g,"TypeError",!0,!0),"uninitialized Regexp");var t=0;return this.multiline&&(t|=y.const_get(g,"MULTILINE",!0,!0)),this.ignoreCase&&(t|=y.const_get(g,"IGNORECASE",!0,!0)),t},u.$$arity=0),y.defn(f,"$casefold?",_=function(){return this.ignoreCase},_.$$arity=0),y.alias(f,"to_s","source"),y.defs(f,"$_load",d=function(t){return x(this,"new",y.to_a(t))},d.$$arity=1)}(t.base,RegExp,e),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h=$=w(t,null,"MatchData",$),g=h.$$proto,b=h.$$scope,m=n.slice().concat(b);return g.matches=v,h.$attr_reader("post_match","pre_match","regexp","string"),y.defn(h,"$initialize",r=function(t,e){var n=this;(k["~"]=n).regexp=t,n.begin=e.index,n.string=e.input,n.pre_match=e.input.slice(0,e.index),n.post_match=e.input.slice(e.index+e[0].length),n.matches=[];for(var $=0,r=e.length;$<r;$++){var o=e[$];null==o?n.matches.push(v):n.matches.push(o)}},r.$$arity=2),y.defn(h,"$[]",o=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return x(this.matches,"[]",y.to_a(e))},o.$$arity=-1),y.defn(h,"$offset",i=function(t){return 0!==t&&this.$raise(y.const_get(m,"ArgumentError",!0,!0),"MatchData#offset only supports 0th element"),[this.begin,this.begin+this.matches[t].length]},i.$$arity=1),y.defn(h,"$==",s=function(t){var e,n,$,r,o=this;return!((e=y.MatchData["$==="](t))===v||null==e||e.$$is_boolean&&1!=e)&&(!1!==(e=!1!==(n=!1!==($=!1!==(r=o.string==t.string)&&r!==v&&null!=r?o.regexp.toString()==t.regexp.toString():r)&&$!==v&&null!=$?o.pre_match==t.pre_match:$)&&n!==v&&null!=n?o.post_match==t.post_match:n)&&e!==v&&null!=e?o.begin==t.begin:e)},s.$$arity=1),y.alias(h,"eql?","=="),y.defn(h,"$begin",l=function(t){return 0!==t&&this.$raise(y.const_get(m,"ArgumentError",!0,!0),"MatchData#begin only supports 0th element"),this.begin},l.$$arity=1),y.defn(h,"$end",a=function(t){return 0!==t&&this.$raise(y.const_get(m,"ArgumentError",!0,!0),"MatchData#end only supports 0th element"),this.begin+this.matches[t].length},a.$$arity=1),y.defn(h,"$captures",c=function(){return this.matches.slice(1)},c.$$arity=0),y.defn(h,"$inspect",u=function(){for(var t="#<MatchData "+this.matches[0].$inspect(),e=1,n=this.matches.length;e<n;e++)t+=" "+e+":"+this.matches[e].$inspect();return t+">"},u.$$arity=0),y.defn(h,"$length",_=function(){return this.matches.length},_.$$arity=0),y.alias(h,"size","length"),y.defn(h,"$to_a",d=function(){return this.matches},d.$$arity=0),y.defn(h,"$to_s",f=function(){return this.matches[0]},f.$$arity=0),y.defn(h,"$values_at",p=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];var o,i,s,l=[];for(o=0;o<e.length;o++)e[o].$$is_range&&((i=e[o].$to_a()).unshift(o,1),Array.prototype.splice.apply(e,i)),(s=y.Opal["$coerce_to!"](e[o],y.Integer,"to_int"))<0&&(s+=this.matches.length)<0?l.push(v):l.push(this.matches[s]);return l},p.$$arity=-1),v&&"values_at"}(t.base,0,e)},Opal.modules["corelib/string"]=function(xt){function kt(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function Ot(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=xt.top,e=xt,n=[xt],Et=xt.nil,At=(xt.breaker,xt.slice,xt.klass),St=xt.send,Rt=xt.gvars;return xt.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$each_line","$class","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),t.$require("corelib/comparable"),t.$require("corelib/regexp"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,$t,rt,ot,it,st,lt,at,ct,ut,_t,dt,ft,pt,ht,gt,bt=$=At(t,e,"String",$),mt=bt.$$proto,yt=bt.$$scope,vt=n.slice().concat(yt);function wt(t){function e(t){var e,n,$,r,o,i,s="",l=t.length;for(e=0;e<l;e++)if("-"===(n=t.charAt(e))&&0<e&&e<l-1&&!$){for(r=t.charCodeAt(e-1),(o=t.charCodeAt(e+1))<r&&bt.$raise(xt.const_get(vt,"ArgumentError",!0,!0),'invalid range "'+r+"-"+o+'" in string transliteration'),i=r+1;i<o+1;i++)s+=String.fromCharCode(i);$=!0,e++}else $="\\"===n,s+=n;return s}function n(t,e){if(0===t.length)return e;var n,$,r="",o=t.length;for(n=0;n<o;n++)$=t.charAt(n),-1!==e.indexOf($)&&(r+=$);return r}var $,r,o,i,s,l,a="",c="";for($=0,r=t.length;$<r;$++)o=e((i="^"===(o=xt.Opal.$coerce_to(t[$],xt.String,"to_str")).charAt(0)&&1<o.length)?o.slice(1):o),i?c=n(c,o):a=n(a,o);if(0<a.length&&0<c.length){for(l="",$=0,r=a.length;$<r;$++)s=a.charAt($),-1===c.indexOf(s)&&(l+=s);a=l,c=""}return 0<a.length?"["+xt.const_get(vt,"Regexp",!0,!0).$escape(a)+"]":0<c.length?"[^"+xt.const_get(vt,"Regexp",!0,!0).$escape(c)+"]":null}mt.length=Et,bt.$include(xt.const_get(vt,"Comparable",!0,!0)),mt.$$is_string=!0,xt.defn(bt,"$__id__",r=function(){return this.toString()},r.$$arity=0),xt.alias(bt,"object_id","__id__"),xt.defs(bt,"$try_convert",o=function(t){return xt.Opal["$coerce_to?"](t,xt.String,"to_str")},o.$$arity=1),xt.defs(bt,"$new",i=function(t){return null==t&&(t=""),t=xt.Opal.$coerce_to(t,xt.String,"to_str"),new String(t)},i.$$arity=-1),xt.defn(bt,"$initialize",s=function(t){return void 0===t?this:this.$raise(xt.const_get(vt,"NotImplementedError",!0,!0),"Mutable strings are not supported in Opal.")},s.$$arity=-1),xt.defn(bt,"$%",l=function(t){var e,n=this;return(e=xt.const_get(vt,"Array",!0,!0)["$==="](t))===Et||null==e||e.$$is_boolean&&1!=e?n.$format(n,t):St(n,"format",[n].concat(xt.to_a(t)))},l.$$arity=1),xt.defn(bt,"$*",a=function(t){if((t=xt.Opal.$coerce_to(t,xt.Integer,"to_int"))<0&&this.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"negative argument"),0===t)return"";var e="",n=this.toString();for(n.length*t>=1<<28&&this.$raise(xt.const_get(vt,"RangeError",!0,!0),"multiply count must not overflow maximum string size");1==(1&t)&&(e+=n),0!==(t>>>=1);)n+=n;return e},a.$$arity=1),xt.defn(bt,"$+",c=function(t){return this+(t=xt.Opal.$coerce_to(t,xt.String,"to_str")).$to_s()},c.$$arity=1),xt.defn(bt,"$<=>",u=function(t){var e;if((e=t["$respond_to?"]("to_str"))===Et||null==e||e.$$is_boolean&&1!=e){var n=t["$<=>"](this);return n===Et?Et:0<n?-1:n<0?1:0}return(t=t.$to_str().$to_s())<this?1:this<t?-1:0},u.$$arity=1),xt.defn(bt,"$==",_=function(t){return t.$$is_string?this.toString()===t.toString():!!xt.Opal["$respond_to?"](t,"to_str")&&t["$=="](this)},_.$$arity=1),xt.alias(bt,"eql?","=="),xt.alias(bt,"===","=="),xt.defn(bt,"$=~",d=function(t){return t.$$is_string&&this.$raise(xt.const_get(vt,"TypeError",!0,!0),"type mismatch: String given"),t["$=~"](this)},d.$$arity=1),xt.defn(bt,"$[]",f=function(t,e){var n,$=this,r=$.length;if(t.$$is_range)return n=t.exclude,e=xt.Opal.$coerce_to(t.end,xt.Integer,"to_int"),t=xt.Opal.$coerce_to(t.begin,xt.Integer,"to_int"),Math.abs(t)>r?Et:(t<0&&(t+=r),e<0&&(e+=r),n||(e+=1),(e-=t)<0&&(e=0),$.substr(t,e));if(t.$$is_string)return null!=e&&$.$raise(xt.const_get(vt,"TypeError",!0,!0)),-1!==$.indexOf(t)?t:Et;if(t.$$is_regexp){var o=$.match(t);return null===o?Rt["~"]=Et:(Rt["~"]=xt.MatchData.$new(t,o),null==e?o[0]:(e=xt.Opal.$coerce_to(e,xt.Integer,"to_int"))<0&&-e<o.length?o[e+=o.length]:0<=e&&e<o.length?o[e]:Et)}return(t=xt.Opal.$coerce_to(t,xt.Integer,"to_int"))<0&&(t+=r),null==e?r<=t||t<0?Et:$.substr(t,1):(e=xt.Opal.$coerce_to(e,xt.Integer,"to_int"))<0?Et:r<t||t<0?Et:$.substr(t,e)},f.$$arity=-2),xt.alias(bt,"byteslice","[]"),xt.defn(bt,"$capitalize",p=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},p.$$arity=0),xt.defn(bt,"$casecmp",h=function(t){var e=this;t=xt.Opal.$coerce_to(t,xt.String,"to_str").$to_s();var n=/^[\x00-\x7F]*$/;return n.test(e)&&n.test(t)&&(e=e.toLowerCase(),t=t.toLowerCase()),e["$<=>"](t)},h.$$arity=1),xt.defn(bt,"$center",g=function(t,e){var n,$=this;if(null==e&&(e=" "),t=xt.Opal.$coerce_to(t,xt.Integer,"to_int"),(n=(e=xt.Opal.$coerce_to(e,xt.String,"to_str").$to_s())["$empty?"]())===Et||null==n||n.$$is_boolean&&1!=n||$.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"zero width padding"),(n=t<=$.length)!==Et&&null!=n&&(!n.$$is_boolean||1==n))return $;var r=$.$ljust(kt(Ot(t,$.length),2).$ceil(),e);return $.$rjust(kt(Ot(t,$.length),2).$floor(),e)+r.slice($.length)},g.$$arity=-2),xt.defn(bt,"$chars",b=function(){var t=b.$$p,e=t||Et;return t&&(b.$$p=null),!1===e||e===Et||null==e?this.$each_char().$to_a():St(this,"each_char",[],e.$to_proc())},b.$$arity=0),xt.defn(bt,"$chomp",m=function(t){var e,n=this;return null==Rt["/"]&&(Rt["/"]=Et),null==t&&(t=Rt["/"]),(e=t===Et||0===n.length)===Et||null==e||e.$$is_boolean&&1!=e?"\n"===(t=xt.Opal["$coerce_to!"](t,xt.String,"to_str").$to_s())?n.replace(/\r?\n?$/,""):""===t?n.replace(/(\r?\n)+$/,""):n.length>t.length&&n.substr(n.length-t.length,t.length)===t?n.substr(0,n.length-t.length):n:n},m.$$arity=-1),xt.defn(bt,"$chop",y=function(){var t=this,e=t.length;return e<=1?"":"\n"===t.charAt(e-1)&&"\r"===t.charAt(e-2)?t.substr(0,e-2):t.substr(0,e-1)},y.$$arity=0),xt.defn(bt,"$chr",v=function(){return this.charAt(0)},v.$$arity=0),xt.defn(bt,"$clone",w=function(){var t=Et;return(t=this.slice()).$copy_singleton_methods(this),t.$initialize_clone(this),t},w.$$arity=0),xt.defn(bt,"$dup",x=function(){var t=Et;return(t=this.slice()).$initialize_dup(this),t},x.$$arity=0),xt.defn(bt,"$count",k=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];0===e.length&&this.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var o=wt(e);return null===o?0:this.length-this.replace(new RegExp(o,"g"),"").length},k.$$arity=-1),xt.defn(bt,"$delete",O=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];0===e.length&&this.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");var o=wt(e);return null===o?this:this.replace(new RegExp(o,"g"),"")},O.$$arity=-1),xt.defn(bt,"$downcase",E=function(){return this.toLowerCase()},E.$$arity=0),xt.defn(bt,"$each_char",A=function(){var t,e=this,n=A.$$p,$=n||Et;if(n&&(A.$$p=null),$===Et)return St(e,"enum_for",["each_char"],((t=function(){return(t.$$s||this).$size()}).$$s=e,t.$$arity=0,t));for(var r=0,o=e.length;r<o;r++)xt.yield1($,e.charAt(r));return e},A.$$arity=0),xt.defn(bt,"$each_line",S=function(t){var e,n,$,r,o,i,s,l=this,a=S.$$p,c=a||Et;if(null==Rt["/"]&&(Rt["/"]=Et),null==t&&(t=Rt["/"]),a&&(S.$$p=null),c===Et)return l.$enum_for("each_line",t);if(t===Et)return xt.yield1(c,l),l;if(0===(t=xt.Opal.$coerce_to(t,xt.String,"to_str")).length){for(n=0,$=(e=l.split(/(\n{2,})/)).length;n<$;n+=2)(e[n]||e[n+1])&&xt.yield1(c,(e[n]||"")+(e[n+1]||""));return l}for(o=l.$chomp(t),i=l.length!=o.length,n=0,r=(s=o.split(t)).length;n<r;n++)n<r-1||i?xt.yield1(c,s[n]+t):xt.yield1(c,s[n]);return l},S.$$arity=-1),xt.defn(bt,"$empty?",R=function(){return 0===this.length},R.$$arity=0),xt.defn(bt,"$end_with?",M=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=0,i=e.length;o<i;o++){var s=xt.Opal.$coerce_to(e[o],xt.String,"to_str").$to_s();if(this.length>=s.length&&this.substr(this.length-s.length,s.length)==s)return!0}return!1},M.$$arity=-1),xt.alias(bt,"eql?","=="),xt.alias(bt,"equal?","==="),xt.defn(bt,"$gsub",T=function(t,e){var r=this,n=T.$$p,$=n||Et;if(n&&(T.$$p=null),void 0===e&&$===Et)return r.$enum_for("gsub",t);var o,i,s="",l=Et,a=0;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=xt.Opal.$coerce_to(t,xt.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(null===(o=t.exec(r))){Rt["~"]=Et,s+=r.slice(a);break}l=xt.MatchData.$new(t,o),void 0===e?i=$(o[0]):e.$$is_hash?i=e["$[]"](o[0]).$to_s():(e.$$is_string||(e=xt.Opal.$coerce_to(e,xt.String,"to_str")),i=e.replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var $=o.length-1;0<$;$--)if(void 0!==o[$])return e.slice(1)+o[$];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\")),t.lastIndex===o.index?(s+=i+r.slice(a,o.index+1),t.lastIndex+=1):s+=r.slice(a,o.index)+i,a=t.lastIndex}return Rt["~"]=l,s},T.$$arity=-2),xt.defn(bt,"$hash",I=function(){return this.toString()},I.$$arity=0),xt.defn(bt,"$hex",C=function(){return this.$to_i(16)},C.$$arity=0),xt.defn(bt,"$include?",N=function(t){return t.$$is_string||(t=xt.Opal.$coerce_to(t,xt.String,"to_str")),-1!==this.indexOf(t)},N.$$arity=1),xt.defn(bt,"$index",j=function(t,e){var n,$,r;if(void 0===e)e=0;else if((e=xt.Opal.$coerce_to(e,xt.Integer,"to_int"))<0&&(e+=this.length)<0)return Et;if(t.$$is_regexp)for(r=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));;){if(null===($=r.exec(this))){Rt["~"]=Et,n=-1;break}if($.index>=e){Rt["~"]=xt.MatchData.$new(r,$),n=$.index;break}r.lastIndex=$.index+1}else n=0===(t=xt.Opal.$coerce_to(t,xt.String,"to_str")).length&&e>this.length?-1:this.indexOf(t,e);return-1===n?Et:n},j.$$arity=-2),xt.defn(bt,"$inspect",L=function(){var e={"":"\\a","":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(t){return e[t]||"\\u"+("0000"+t.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},L.$$arity=0),xt.defn(bt,"$intern",z=function(){return this},z.$$arity=0),xt.defn(bt,"$lines",P=function(t){var e=P.$$p,n=e||Et,$=Et;return null==Rt["/"]&&(Rt["/"]=Et),null==t&&(t=Rt["/"]),e&&(P.$$p=null),$=St(this,"each_line",[t],n.$to_proc()),!1!==n&&n!==Et&&null!=n?this:$.$to_a()},P.$$arity=-1),xt.defn(bt,"$length",D=function(){return this.length},D.$$arity=0),xt.defn(bt,"$ljust",B=function(t,e){var n,$=this;if(null==e&&(e=" "),t=xt.Opal.$coerce_to(t,xt.Integer,"to_int"),(n=(e=xt.Opal.$coerce_to(e,xt.String,"to_str").$to_s())["$empty?"]())===Et||null==n||n.$$is_boolean&&1!=n||$.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"zero width padding"),(n=t<=$.length)!==Et&&null!=n&&(!n.$$is_boolean||1==n))return $;var r=-1,o="";for(t-=$.length;++r<t;)o+=e;return $+o.slice(0,t)},B.$$arity=-2),xt.defn(bt,"$lstrip",q=function(){return this.replace(/^\s*/,"")},q.$$arity=0),xt.defn(bt,"$ascii_only?",U=function(){return this.match(/[ -~\n]*/)[0]===this},U.$$arity=0),xt.defn(bt,"$match",F=function(t,e){var n,$,r=F.$$p,o=r||Et;return r&&(F.$$p=null),(n=!1!==($=xt.String["$==="](t))&&$!==Et&&null!=$?$:t["$respond_to?"]("to_str"))===Et||null==n||n.$$is_boolean&&1!=n||(t=xt.const_get(vt,"Regexp",!0,!0).$new(t.$to_str())),((n=xt.const_get(vt,"Regexp",!0,!0)["$==="](t))===Et||null==n||n.$$is_boolean&&1!=n)&&this.$raise(xt.const_get(vt,"TypeError",!0,!0),"wrong argument type "+t.$class()+" (expected Regexp)"),St(t,"match",[this,e],o.$to_proc())},F.$$arity=-2),xt.defn(bt,"$next",G=function(){var t=this.length;if(0===t)return"";for(var e,n=this,$=this.search(/[a-zA-Z0-9]/),r=!1;t--;){if(48<=(e=this.charCodeAt(t))&&e<=57||65<=e&&e<=90||97<=e&&e<=122)switch(e){case 57:r=!0,e=48;break;case 90:r=!0,e=65;break;case 122:r=!0,e=97;break;default:r=!1,e+=1}else-1===$?255===e?(r=!0,e=0):(r=!1,e+=1):r=!0;if(n=n.slice(0,t)+String.fromCharCode(e)+n.slice(t+1),r&&(0===t||t===$)){switch(e){case 65:case 97:break;default:e+=1}n=0===t?String.fromCharCode(e)+n:n.slice(0,t)+String.fromCharCode(e)+n.slice(t),r=!1}if(!r)break}return n},G.$$arity=0),xt.defn(bt,"$oct",H=function(){var t,e=this,r=8;return/^\s*_/.test(e)?0:(e=e.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(t,e,n,$){switch($.charAt(0)){case"+":case"-":return t;case"0":if("x"===$.charAt(1)&&"0x"===n)return t}switch(n){case"0b":r=2;break;case"0":case"0o":r=8;break;case"0d":r=10;break;case"0x":r=16}return e+$}),t=parseInt(e.replace(/_(?!_)/g,""),r),isNaN(t)?0:t)},H.$$arity=0),xt.defn(bt,"$ord",Y=function(){return this.charCodeAt(0)},Y.$$arity=0),xt.defn(bt,"$partition",K=function(t){var e,n,$=this;return t.$$is_regexp?null===(n=t.exec($))?e=-1:(xt.MatchData.$new(t,n),t=n[0],e=n.index):(t=xt.Opal.$coerce_to(t,xt.String,"to_str"),e=$.indexOf(t)),-1===e?[$,"",""]:[$.slice(0,e),$.slice(e,e+t.length),$.slice(e+t.length)]},K.$$arity=1),xt.defn(bt,"$reverse",W=function(){return this.split("").reverse().join("")},W.$$arity=0),xt.defn(bt,"$rindex",X=function(t,e){var n,$,r,o;if(void 0===e)e=this.length;else if((e=xt.Opal.$coerce_to(e,xt.Integer,"to_int"))<0&&(e+=this.length)<0)return Et;if(t.$$is_regexp){for($=null,r=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));!(null===(o=r.exec(this))||o.index>e);)$=o,r.lastIndex=$.index+1;null===$?(Rt["~"]=Et,n=-1):(xt.MatchData.$new(r,$),n=$.index)}else t=xt.Opal.$coerce_to(t,xt.String,"to_str"),n=this.lastIndexOf(t,e);return-1===n?Et:n},X.$$arity=-2),xt.defn(bt,"$rjust",V=function(t,e){var n,$=this;if(null==e&&(e=" "),t=xt.Opal.$coerce_to(t,xt.Integer,"to_int"),(n=(e=xt.Opal.$coerce_to(e,xt.String,"to_str").$to_s())["$empty?"]())===Et||null==n||n.$$is_boolean&&1!=n||$.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"zero width padding"),(n=t<=$.length)!==Et&&null!=n&&(!n.$$is_boolean||1==n))return $;var r=Math.floor(t-$.length),o=Math.floor(r/e.length),i=Array(o+1).join(e),s=r-i.length;return i+e.slice(0,s)+$},V.$$arity=-2),xt.defn(bt,"$rpartition",J=function(t){var e,n,$,r,o=this;if(t.$$is_regexp){for(n=null,$=new RegExp(t.source,"gm"+(t.ignoreCase?"i":""));null!==(r=$.exec(o));)n=r,$.lastIndex=n.index+1;null===n?e=-1:(xt.MatchData.$new($,n),t=n[0],e=n.index)}else t=xt.Opal.$coerce_to(t,xt.String,"to_str"),e=o.lastIndexOf(t);return-1===e?["","",o]:[o.slice(0,e),o.slice(e,e+t.length),o.slice(e+t.length)]},J.$$arity=1),xt.defn(bt,"$rstrip",Z=function(){return this.replace(/[\s\u0000]*$/,"")},Z.$$arity=0),xt.defn(bt,"$scan",Q=function(t){var e=Q.$$p,n=e||Et;e&&(Q.$$p=null);var $,r=[],o=Et;for(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):(t=xt.Opal.$coerce_to(t,xt.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=($=t.exec(this));)o=xt.MatchData.$new(t,$),n===Et?1==$.length?r.push($[0]):r.push(o.$captures()):1==$.length?n($[0]):n.call(this,o.$captures()),t.lastIndex===$.index&&(t.lastIndex+=1);return Rt["~"]=o,n!==Et?this:r},Q.$$arity=1),xt.alias(bt,"size","length"),xt.alias(bt,"slice","[]"),xt.defn(bt,"$split",tt=function(t,e){var n;if(null==Rt[";"]&&(Rt[";"]=Et),0===this.length)return[];if(void 0===e)e=0;else if(1===(e=xt.Opal["$coerce_to!"](e,xt.Integer,"to_int")))return[this];void 0!==t&&t!==Et||(t=!1!==(n=Rt[";"])&&n!==Et&&null!=n?n:" ");var $,r,o=[],i=this.toString(),s=0;if(t.$$is_regexp?t=new RegExp(t.source,"gm"+(t.ignoreCase?"i":"")):" "===(t=xt.Opal.$coerce_to(t,xt.String,"to_str").$to_s())?(t=/\s+/gm,i=i.replace(/^\s+/,"")):t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"),1===(o=i.split(t)).length&&o[0]===i)return o;for(;-1!==(r=o.indexOf(void 0));)o.splice(r,1);if(0===e){for(;""===o[o.length-1];)o.length-=1;return o}if($=t.exec(i),e<0){if(null!==$&&""===$[0]&&-1===t.source.indexOf("(?="))for(r=0;r<$.length;r++)o.push("");return o}if(null!==$&&""===$[0])return o.splice(e-1,o.length-1,o.slice(e-1).join("")),o;if(e>=o.length)return o;for(r=0;null!==$&&(r++,s=t.lastIndex,r+1!==e);)$=t.exec(i);return o.splice(e-1,o.length-1,i.slice(s)),o},tt.$$arity=-1),xt.defn(bt,"$squeeze",et=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];if(0===e.length)return this.replace(/(.)\1+/g,"$1");var o=wt(e);return null===o?this:this.replace(new RegExp("("+o+")\\1+","g"),"$1")},et.$$arity=-1),xt.defn(bt,"$start_with?",nt=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=0,i=e.length;o<i;o++){var s=xt.Opal.$coerce_to(e[o],xt.String,"to_str").$to_s();if(0===this.indexOf(s))return!0}return!1},nt.$$arity=-1),xt.defn(bt,"$strip",$t=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},$t.$$arity=0),xt.defn(bt,"$sub",rt=function(t,e){var r=this,n=rt.$$p,$=n||Et;n&&(rt.$$p=null),t.$$is_regexp||(t=xt.Opal.$coerce_to(t,xt.String,"to_str"),t=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o=t.exec(r);return null===o?(Rt["~"]=Et,r.toString()):(xt.MatchData.$new(t,o),void 0===e?($===Et&&r.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"wrong number of arguments (1 for 2)"),r.slice(0,o.index)+$(o[0])+r.slice(o.index+o[0].length)):e.$$is_hash?r.slice(0,o.index)+e["$[]"](o[0]).$to_s()+r.slice(o.index+o[0].length):(e=(e=xt.Opal.$coerce_to(e,xt.String,"to_str")).replace(/([\\]+)([0-9+&`'])/g,function(t,e,n){if(e.length%2==0)return t;switch(n){case"+":for(var $=o.length-1;0<$;$--)if(void 0!==o[$])return e.slice(1)+o[$];return"";case"&":return e.slice(1)+o[0];case"`":return e.slice(1)+r.slice(0,o.index);case"'":return e.slice(1)+r.slice(o.index+o[0].length);default:return e.slice(1)+(o[n]||"")}}).replace(/\\\\/g,"\\"),r.slice(0,o.index)+e+r.slice(o.index+o[0].length)))},rt.$$arity=-2),xt.alias(bt,"succ","next"),xt.defn(bt,"$sum",ot=function(t){null==t&&(t=16),t=xt.Opal.$coerce_to(t,xt.Integer,"to_int");for(var e=0,n=this.length,$=0;$<n;$++)e+=this.charCodeAt($);return t<=0?e:e&Math.pow(2,t)-1},ot.$$arity=-1),xt.defn(bt,"$swapcase",it=function(){var t=this.replace(/([a-z]+)|([A-Z]+)/g,function(t,e,n){return e?t.toUpperCase():t.toLowerCase()});return this.constructor===String?t:this.$class().$new(t)},it.$$arity=0),xt.defn(bt,"$to_f",st=function(){if("_"===this.charAt(0))return 0;var t=parseFloat(this.replace(/_/g,""));return isNaN(t)||t==1/0||t==-1/0?0:t},st.$$arity=0),xt.defn(bt,"$to_i",lt=function(t){null==t&&(t=10);var e,n=this.toLowerCase(),r=xt.Opal.$coerce_to(t,xt.Integer,"to_int");return(1===r||r<0||36<r)&&this.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"invalid radix "+r),/^\s*_/.test(n)?0:(n=n.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(t,e,n,$){switch($.charAt(0)){case"+":case"-":return t;case"0":if("x"===$.charAt(1)&&"0x"===n&&(0===r||16===r))return t}switch(n){case"0b":if(0===r||2===r)return r=2,e+$;break;case"0":case"0o":if(0===r||8===r)return r=8,e+$;break;case"0d":if(0===r||10===r)return r=10,e+$;break;case"0x":if(0===r||16===r)return r=16,e+$}return t}),e=parseInt(n.replace(/_(?!_)/g,""),r),isNaN(e)?0:e)},lt.$$arity=-1),xt.defn(bt,"$to_proc",at=function(){var a,c=Et;return St(c=this,"proc",[],((a=function(t){var e,n,$,r,o=a.$$s||this;(e=a.$$p||Et)&&(a.$$p=null);var i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<i;l++)n[l-0]=arguments[l];return($=n["$empty?"]())===Et||null==$||$.$$is_boolean&&1!=$||o.$raise(xt.const_get(vt,"ArgumentError",!0,!0),"no receiver given"),r=n.$shift(),St(r,"__send__",[c].concat(xt.to_a(n)),e.$to_proc())}).$$s=this,a.$$arity=-1,a))},at.$$arity=0),xt.defn(bt,"$to_s",ct=function(){return this.toString()},ct.$$arity=0),xt.alias(bt,"to_str","to_s"),xt.alias(bt,"to_sym","intern"),xt.defn(bt,"$tr",ut=function(t,e){var n,$,r,o,i,s,l,a=this;if(t=xt.Opal.$coerce_to(t,xt.String,"to_str").$to_s(),e=xt.Opal.$coerce_to(e,xt.String,"to_str").$to_s(),0==t.length||t===e)return a;var c={},u=t.split(""),_=u.length,d=e.split(""),f=d.length,p=!1,h=null;"^"===u[0]&&1<u.length&&(p=!0,u.shift(),h=d[f-1],_-=1);var g=[],b=null;for($=!1,n=0;n<_;n++)if(o=u[n],null==b)b=o,g.push(o);else if("-"===o)"-"===b?(g.push("-"),g.push("-")):n==_-1?g.push("-"):$=!0;else if($){for(i=b.charCodeAt(0),(s=o.charCodeAt(0))<i&&a.$raise(xt.const_get(vt,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(i)+"-"+String.fromCharCode(s)+'" in string transliteration'),r=i+1;r<s;r++)g.push(String.fromCharCode(r));g.push(o),b=$=null}else g.push(o);if(_=(u=g).length,p)for(n=0;n<_;n++)c[u[n]]=!0;else{if(0<f){var m=[],y=null;for($=!1,n=0;n<f;n++)if(o=d[n],null==y)y=o,m.push(o);else if("-"===o)"-"===y?(m.push("-"),m.push("-")):n==f-1?m.push("-"):$=!0;else if($){for(i=y.charCodeAt(0),(s=o.charCodeAt(0))<i&&a.$raise(xt.const_get(vt,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(i)+"-"+String.fromCharCode(s)+'" in string transliteration'),r=i+1;r<s;r++)m.push(String.fromCharCode(r));m.push(o),y=$=null}else m.push(o);f=(d=m).length}var v=_-f;if(0<v){var w=0<f?d[f-1]:"";for(n=0;n<v;n++)d.push(w)}for(n=0;n<_;n++)c[u[n]]=d[n]}var x="";for(n=0,l=a.length;n<l;n++){var k=c[o=a.charAt(n)];x+=p?null==k?h:o:null!=k?k:o}return x},ut.$$arity=2),xt.defn(bt,"$tr_s",_t=function(t,e){var n,$,r,o,i,s,l,a=this;if(t=xt.Opal.$coerce_to(t,xt.String,"to_str").$to_s(),e=xt.Opal.$coerce_to(e,xt.String,"to_str").$to_s(),0==t.length)return a;var c={},u=t.split(""),_=u.length,d=e.split(""),f=d.length,p=!1,h=null;"^"===u[0]&&1<u.length&&(p=!0,u.shift(),h=d[f-1],_-=1);var g=[],b=null;for($=!1,n=0;n<_;n++)if(o=u[n],null==b)b=o,g.push(o);else if("-"===o)"-"===b?(g.push("-"),g.push("-")):n==_-1?g.push("-"):$=!0;else if($){for(i=b.charCodeAt(0),(s=o.charCodeAt(0))<i&&a.$raise(xt.const_get(vt,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(i)+"-"+String.fromCharCode(s)+'" in string transliteration'),r=i+1;r<s;r++)g.push(String.fromCharCode(r));g.push(o),b=$=null}else g.push(o);if(_=(u=g).length,p)for(n=0;n<_;n++)c[u[n]]=!0;else{if(0<f){var m=[];for($=!1,n=0;n<f;n++)if(o=d[n],null==b)b=o,m.push(o);else if("-"===o)n==f-1?m.push("-"):$=!0;else if($){for(i=b.charCodeAt(0),(s=o.charCodeAt(0))<i&&a.$raise(xt.const_get(vt,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(i)+"-"+String.fromCharCode(s)+'" in string transliteration'),r=i+1;r<s;r++)m.push(String.fromCharCode(r));m.push(o),b=$=null}else m.push(o);f=(d=m).length}var y=_-f;if(0<y){var v=0<f?d[f-1]:"";for(n=0;n<y;n++)d.push(v)}for(n=0;n<_;n++)c[u[n]]=d[n]}var w="",x=null;for(n=0,l=a.length;n<l;n++){var k=c[o=a.charAt(n)];p?null==k?null==x&&(w+=h,x=!0):(w+=o,x=null):null!=k?null!=x&&x===k||(w+=k,x=k):(w+=o,x=null)}return w},_t.$$arity=2),xt.defn(bt,"$upcase",dt=function(){return this.toUpperCase()},dt.$$arity=0),xt.defn(bt,"$upto",ft=function(t,e){var n=ft.$$p,$=n||Et;if(null==e&&(e=!1),n&&(ft.$$p=null),$===Et)return this.$enum_for("upto",t,e);t=xt.Opal.$coerce_to(t,xt.String,"to_str");var r,o,i=this.toString();if(1===i.length&&1===t.length)for(r=i.charCodeAt(0),o=t.charCodeAt(0);r<=o&&(!e||r!==o);)$(String.fromCharCode(r)),r+=1;else if(parseInt(i,10).toString()===i&&parseInt(t,10).toString()===t)for(r=parseInt(i,10),o=parseInt(t,10);r<=o&&(!e||r!==o);)$(r.toString()),r+=1;else for(;i.length<=t.length&&i<=t&&(!e||i!==t);)$(i),i=i.$succ();return this},ft.$$arity=-2),xt.defn(bt,"$instance_variables",pt=function(){return[]},pt.$$arity=0),xt.defs(bt,"$_load",ht=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return St(this,"new",xt.to_a(e))},ht.$$arity=-1),xt.defn(bt,"$unpack",gt=function(t){var e=this,n=Et;return"U*"["$==="](n=t)||"C*"["$==="](n)?function(t){var e,n,$=t.length,r=[];for(e=0;e<$;e++)n=t.charCodeAt(e),r.push(n);return r}(e):e.$raise(xt.const_get(vt,"NotImplementedError",!0,!0))},gt.$$arity=1)}(e.base,String,n),xt.cdecl(e,"Symbol",xt.String)},Opal.modules["corelib/enumerable"]=function(c){function u(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function _(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}c.top;var t,e,n,$,r,o,i,s,d,l,a,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt=c,et=[c],nt=c.nil,$t=(c.breaker,c.slice,c.module),rt=c.send;return c.add_stubs(["$each","$destructure","$raise","$new","$yield","$slice_when","$!","$enum_for","$enumerator_size","$flatten","$map","$proc","$==","$nil?","$respond_to?","$coerce_to!","$>","$*","$coerce_to","$try_convert","$<","$+","$-","$to_enum","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$<=>","$first","$reverse","$sort","$to_proc","$compare","$call","$dup","$to_a","$lambda","$sort!","$map!","$zip"]),t=tt.base,e=et,(J=$t(t,"Enumerable")).$$proto,Z=J.$$scope,Q=e.slice().concat(Z),c.defn(J,"$all?",n=function(){try{var i,s,t=n.$$p,l=t||nt;return t&&(n.$$p=null),rt(this,"each",[],l!==nt?((i=function(t){i.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if(!((n=c.yieldX(l,c.to_a(e)))===nt||null==n||n.$$is_boolean&&1!=n))return nt;c.ret(!1)}).$$s=this,i.$$arity=-1,i):((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if(!((n=c.Opal.$destructure(e))===nt||null==n||n.$$is_boolean&&1!=n))return nt;c.ret(!1)}).$$s=this,s.$$arity=-1,s)),!0}catch(t){if(t===c.returner)return t.$v;throw t}},n.$$arity=0),c.defn(J,"$any?",$=function(){try{var i,s,t=$.$$p,l=t||nt;return t&&($.$$p=null),rt(this,"each",[],l!==nt?((i=function(t){i.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if((n=c.yieldX(l,c.to_a(e)))===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret(!0)}).$$s=this,i.$$arity=-1,i):((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if((n=c.Opal.$destructure(e))===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret(!0)}).$$s=this,s.$$arity=-1,s)),!1}catch(t){if(t===c.returner)return t.$v;throw t}},$.$$arity=0),c.defn(J,"$chunk",r=function(){var o,t=r.$$p,i=t||nt;return t&&(r.$$p=null),i!==nt||c.const_get(Q,"Kernel",!0,!0).$raise(c.const_get(Q,"ArgumentError",!0,!0),"no block given"),rt(c.const_get([c.Object.$$scope],"Enumerator",!0,!0),"new",[],((o=function(t){var e=o.$$s||this;null==t&&(t=nt);var n=nt,$=[];function r(){0<$.length&&t.$yield(n,$)}e.$each.$$p=function(t){var e=c.yield1(i,t);e===nt?(r(),$=[],n=nt):(n===nt||n===e?$.push(t):(r(),$=[t]),n=e)},e.$each(),r()}).$$s=this,o.$$arity=1,o))},r.$$arity=0),c.defn(J,"$chunk_while",o=function(){var n,t=o.$$p,$=t||nt;return t&&(o.$$p=null),$!==nt||this.$raise(c.const_get(Q,"ArgumentError",!0,!0),"no block given"),rt(this,"slice_when",[],((n=function(t,e){return n.$$s,null==t&&(t=nt),null==e&&(e=nt),c.yieldX($,[t,e])["$!"]()}).$$s=this,n.$$arity=2,n))},o.$$arity=0),c.defn(J,"$collect",i=function(){var t,e=i.$$p,n=e||nt;if(e&&(i.$$p=null),n===nt)return rt(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var $=[];return this.$each.$$p=function(){var t=c.yieldX(n,arguments);$.push(t)},this.$each(),$},i.$$arity=0),c.defn(J,"$collect_concat",s=function(){var t,e,n=s.$$p,$=n||nt;return n&&(s.$$p=null),$===nt?rt(this,"enum_for",["collect_concat"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):rt(this,"map",[],(e=function(t){return e.$$s,null==t&&(t=nt),c.yield1($,t)},e.$$s=this,e.$$arity=1,e)).$flatten(1)},s.$$arity=0),c.defn(J,"$count",d=function(o){var t,i,e,s,n=this,$=d.$$p,l=$||nt,a=nt;return $&&(d.$$p=null),a=0,(t=null!=o)===nt||null==t||t.$$is_boolean&&1!=t?(t=l["$nil?"]())===nt||null==t||t.$$is_boolean&&1!=t||(l=rt(n,"proc",[],((e=function(){return e.$$s,!0}).$$s=n,e.$$arity=0,e))):l=rt(n,"proc",[],((i=function(t){i.$$s;var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return c.Opal.$destructure(e)["$=="](o)}).$$s=n,i.$$arity=-1,i)),rt(n,"each",[],((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return(n=c.yieldX(l,e))===nt||null==n||n.$$is_boolean&&1!=n?nt:a++}).$$s=n,s.$$arity=-1,s)),a},d.$$arity=-1),c.defn(J,"$cycle",l=function(r){var o,t,e=l.$$p,n=e||nt;if(null==r&&(r=nt),e&&(l.$$p=null),n===nt)return rt(this,"enum_for",["cycle",r],((o=function(){var t,e,n,$=o.$$s||this;return r["$=="](nt)?(t=$["$respond_to?"]("size"))===nt||null==t||t.$$is_boolean&&1!=t?nt:c.const_get([c.const_get(Q,"Float",!0,!0).$$scope],"INFINITY",!0,!0):(t=u(r=c.Opal["$coerce_to!"](r,c.Integer,"to_int"),0))===nt||null==t||t.$$is_boolean&&1!=t?0:(e=$.$enumerator_size(),n=r,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n))}).$$s=this,o.$$arity=0,o));if(((t=r["$nil?"]())===nt||null==t||t.$$is_boolean&&1!=t)&&(t=(r=c.Opal["$coerce_to!"](r,c.Integer,"to_int"))<=0)!==nt&&null!=t&&(!t.$$is_boolean||1==t))return nt;var $,i,s=[];if(this.$each.$$p=function(){var t=c.Opal.$destructure(arguments);c.yield1(n,t),s.push(t)},this.$each(),0===s.length)return nt;if(r===nt)for(;;)for($=0,i=s.length;$<i;$++)c.yield1(n,s[$]);else for(;1<r;){for($=0,i=s.length;$<i;$++)c.yield1(n,s[$]);r--}},l.$$arity=-1),c.defn(J,"$detect",a=function(t){try{var s,e=a.$$p,l=e||nt;return e&&(a.$$p=null),l===nt?this.$enum_for("detect",t):(rt(this,"each",[],((s=function(t){s.$$s;var e,n,$,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];if($=c.Opal.$destructure(e),(n=c.yield1(l,$))===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret($)}).$$s=this,s.$$arity=-1,s)),void 0!==t?"function"==typeof t?t():t:nt)}catch(t){if(t===c.returner)return t.$v;throw t}},a.$$arity=-1),c.defn(J,"$drop",f=function(t){var e;(e=(t=c.Opal.$coerce_to(t,c.Integer,"to_int"))<0)===nt||null==e||e.$$is_boolean&&1!=e||this.$raise(c.const_get(Q,"ArgumentError",!0,!0),"attempt to drop negative size");var n=[],$=0;return this.$each.$$p=function(){t<=$&&n.push(c.Opal.$destructure(arguments)),$++},this.$each(),n},f.$$arity=1),c.defn(J,"$drop_while",p=function(){var n,t=p.$$p,$=t||nt;if(t&&(p.$$p=null),$===nt)return this.$enum_for("drop_while");var r=[],o=!0;return this.$each.$$p=function(){var t=c.Opal.$destructure(arguments);if(o){var e=c.yield1($,t);((n=e)===nt||null==n||n.$$is_boolean&&0==n)&&(o=!1,r.push(t))}else r.push(t)},this.$each(),r},p.$$arity=0),c.defn(J,"$each_cons",h=function(l){var t,a,e=this,n=h.$$p,$=n||nt;if(n&&(h.$$p=null),(t=1!=arguments.length)===nt||null==t||t.$$is_boolean&&1!=t||e.$raise(c.const_get(Q,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 1)"),(t=(l=c.Opal.$try_convert(l,c.Integer,"to_int"))<=0)===nt||null==t||t.$$is_boolean&&1!=t||e.$raise(c.const_get(Q,"ArgumentError",!0,!0),"invalid size"),$===nt)return rt(e,"enum_for",["each_cons",l],((a=function(){var t,e,n,$,r,o,i=a.$$s||this,s=nt;return(t=(s=i.$enumerator_size())["$nil?"]())===nt||null==t||t.$$is_boolean&&1!=t?(t=!1!==(e=s["$=="](0))&&e!==nt&&null!=e?e:(o=l,"number"==typeof(r=s)&&"number"==typeof o?r<o:r["$<"](o)))===nt||null==t||t.$$is_boolean&&1!=t?_(($=l,"number"==typeof(n=s)&&"number"==typeof $?n-$:n["$-"]($)),1):0:nt}).$$s=e,a.$$arity=0,a));var r=[],o=nt;return e.$each.$$p=function(){var t=c.Opal.$destructure(arguments);r.push(t),r.length>l&&r.shift(),r.length==l&&c.yield1($,r.slice(0,l))},e.$each(),o},h.$$arity=1),c.defn(J,"$each_entry",g=function(t){var e,n,$=this,r=g.$$p,o=r||nt,i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<i;l++)n[l-0]=arguments[l];return r&&(g.$$p=null),o===nt?rt($,"to_enum",["each_entry"].concat(c.to_a(n)),((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e)):($.$each.$$p=function(){var t=c.Opal.$destructure(arguments);c.yield1(o,t)},$.$each.apply($,n),$)},g.$$arity=-1),c.defn(J,"$each_slice",b=function(r){var t,o,e=this,n=b.$$p,$=n||nt;if(n&&(b.$$p=null),(t=(r=c.Opal.$coerce_to(r,c.Integer,"to_int"))<=0)===nt||null==t||t.$$is_boolean&&1!=t||e.$raise(c.const_get(Q,"ArgumentError",!0,!0),"invalid slice size"),$===nt)return rt(e,"enum_for",["each_slice",r],((o=function(){var t,e,n,$=o.$$s||this;return(t=$["$respond_to?"]("size"))===nt||null==t||t.$$is_boolean&&1!=t?nt:(e=$.$size(),n=r,"number"==typeof e&&"number"==typeof n?e/n:e["$/"](n)).$ceil()}).$$s=e,o.$$arity=0,o));var i=[];return e.$each.$$p=function(){var t=c.Opal.$destructure(arguments);i.push(t),i.length===r&&(c.yield1($,i),i=[])},e.$each(),0<i.length&&c.yield1($,i),nt},b.$$arity=1),c.defn(J,"$each_with_index",m=function(t){var e,n,$=this,r=m.$$p,o=r||nt,i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<i;l++)n[l-0]=arguments[l];if(r&&(m.$$p=null),o===nt)return rt($,"enum_for",["each_with_index"].concat(c.to_a(n)),((e=function(){return(e.$$s||this).$enumerator_size()}).$$s=$,e.$$arity=0,e));var a=0;return $.$each.$$p=function(){var t=c.Opal.$destructure(arguments);o(t,a),a++},$.$each.apply($,n),$},m.$$arity=-1),c.defn(J,"$each_with_object",y=function(e){var t,n=y.$$p,$=n||nt;return n&&(y.$$p=null),$===nt?rt(this,"enum_for",["each_with_object",e],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(this.$each.$$p=function(){var t=c.Opal.$destructure(arguments);$(t,e)},this.$each(),e)},y.$$arity=1),c.defn(J,"$entries",v=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];var o=[];return this.$each.$$p=function(){o.push(c.Opal.$destructure(arguments))},this.$each.apply(this,e),o},v.$$arity=-1),c.alias(J,"find","detect"),c.defn(J,"$find_all",w=function(){var t,n,e=w.$$p,$=e||nt;if(e&&(w.$$p=null),$===nt)return rt(this,"enum_for",["find_all"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var r=[];return this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1($,t);(n=e)===nt||null==n||n.$$is_boolean&&1!=n||r.push(t)},this.$each(),r},w.$$arity=0),c.defn(J,"$find_index",x=function(o){try{var t,i,s,e=this,n=x.$$p,l=n||nt,a=nt;return n&&(x.$$p=null),(t=void 0===o&&l===nt)===nt||null==t||t.$$is_boolean&&1!=t?(a=0,(t=null!=o)===nt||null==t||t.$$is_boolean&&1!=t?rt(e,"each",[],((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return(n=c.yieldX(l,c.to_a(e)))===nt||null==n||n.$$is_boolean&&1!=n||c.ret(a),a+=1}).$$s=e,s.$$arity=-1,s)):rt(e,"each",[],((i=function(t){i.$$s;var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return c.Opal.$destructure(e)["$=="](o)&&c.ret(a),a+=1}).$$s=e,i.$$arity=-1,i)),nt):e.$enum_for("find_index")}catch(t){if(t===c.returner)return t.$v;throw t}},x.$$arity=-1),c.defn(J,"$first",k=function(i){try{var t,e,s,n=this,l=nt,a=nt;return(t=void 0===i)===nt||null==t||t.$$is_boolean&&1!=t?(l=[],(t=(i=c.Opal.$coerce_to(i,c.Integer,"to_int"))<0)===nt||null==t||t.$$is_boolean&&1!=t||n.$raise(c.const_get(Q,"ArgumentError",!0,!0),"attempt to take negative size"),(t=0==i)===nt||null==t||t.$$is_boolean&&1!=t?(a=0,rt(n,"each",[],((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if(l.push(c.Opal.$destructure(e)),(n=i<=++a)===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret(l)}).$$s=n,s.$$arity=-1,s)),l):[]):rt(n,"each",[],((e=function(t){e.$$s,null==t&&(t=nt),c.ret(t)}).$$s=n,e.$$arity=1,e))}catch(t){if(t===c.returner)return t.$v;throw t}},k.$$arity=-1),c.alias(J,"flat_map","collect_concat"),c.defn(J,"$grep",O=function(n){var $,t=O.$$p,r=t||nt;t&&(O.$$p=null);var o=[];return this.$each.$$p=r!==nt?function(){var t=c.Opal.$destructure(arguments),e=n["$==="](t);($=e)===nt||null==$||$.$$is_boolean&&1!=$||(e=c.yield1(r,t),o.push(e))}:function(){var t=c.Opal.$destructure(arguments),e=n["$==="](t);($=e)===nt||null==$||$.$$is_boolean&&1!=$||o.push(t)},this.$each(),o},O.$$arity=1),c.defn(J,"$grep_v",E=function(n){var $,t=E.$$p,r=t||nt;t&&(E.$$p=null);var o=[];return this.$each.$$p=r!==nt?function(){var t=c.Opal.$destructure(arguments),e=n["$==="](t);(($=e)===nt||null==$||$.$$is_boolean&&0==$)&&(e=c.yield1(r,t),o.push(e))}:function(){var t=c.Opal.$destructure(arguments),e=n["$==="](t);(($=e)===nt||null==$||$.$$is_boolean&&0==$)&&o.push(t)},this.$each(),o},E.$$arity=1),c.defn(J,"$group_by",A=function(){var t,n,$,r,o,e=A.$$p,i=e||nt;return e&&(A.$$p=null),i===nt?rt(this,"enum_for",["group_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(o=c.const_get(Q,"Hash",!0,!0).$new(),this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1(i,t);(n=e,$=o,!1!==(r=$["$[]"](n))&&r!==nt&&null!=r?r:$["$[]="](n,[]))["$<<"](t)},this.$each(),o)},A.$$arity=0),c.defn(J,"$include?",S=function(o){try{var i;return rt(this,"each",[],((i=function(t){i.$$s;var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];if(!c.Opal.$destructure(e)["$=="](o))return nt;c.ret(!0)}).$$s=this,i.$$arity=-1,i)),!1}catch(t){if(t===c.returner)return t.$v;throw t}},S.$$arity=1),c.defn(J,"$inject",R=function(t,e){var n=R.$$p,$=n||nt;n&&(R.$$p=null);var r=t;return $!==nt&&void 0===e?this.$each.$$p=function(){var t=c.Opal.$destructure(arguments);void 0!==r&&(t=c.yieldX($,[r,t])),r=t}:(void 0===e&&(c.const_get(Q,"Symbol",!0,!0)["$==="](t)||this.$raise(c.const_get(Q,"TypeError",!0,!0),t.$inspect()+" is not a Symbol"),e=t,r=void 0),this.$each.$$p=function(){var t=c.Opal.$destructure(arguments);r=void 0!==r?r.$__send__(e,t):t}),this.$each(),null==r?nt:r},R.$$arity=-1),c.defn(J,"$lazy",M=function(){var i;return rt(c.const_get([c.const_get(Q,"Enumerator",!0,!0).$$scope],"Lazy",!0,!0),"new",[this,this.$enumerator_size()],((i=function(t,e){i.$$s;var n,$=arguments.length,r=$-1;r<0&&(r=0),n=new Array(r);for(var o=1;o<$;o++)n[o-1]=arguments[o];return null==t&&(t=nt),rt(t,"yield",c.to_a(n))}).$$s=this,i.$$arity=-2,i))},M.$$arity=0),c.defn(J,"$enumerator_size",T=function(){var t;return(t=this["$respond_to?"]("size"))===nt||null==t||t.$$is_boolean&&1!=t?nt:this.$size()},T.$$arity=0),c.alias(J,"map","collect"),c.defn(J,"$max",I=function(t){var e,n,$=this,r=I.$$p,o=r||nt;return r&&(I.$$p=null),void 0===t||t===nt?($.$each.$$p=function(){var t=c.Opal.$destructure(arguments);void 0!==e?((n=o!==nt?c.yieldX(o,[t,e]):t["$<=>"](e))===nt&&$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"comparison failed"),0<n&&(e=t)):e=t},$.$each(),void 0===e?nt:e):(t=c.Opal.$coerce_to(t,c.Integer,"to_int"),rt($,"sort",[],o.$to_proc()).$reverse().$first(t))},I.$$arity=-1),c.defn(J,"$max_by",C=function(){var t,n,$,e=C.$$p,r=e||nt;return e&&(C.$$p=null),!1===r||r===nt||null==r?rt(this,"enum_for",["max_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1(r,t);if(void 0===n)return n=t,void($=e);0<e["$<=>"]($)&&(n=t,$=e)},this.$each(),void 0===n?nt:n)},C.$$arity=0),c.alias(J,"member?","include?"),c.defn(J,"$min",N=function(){var n,$=this,t=N.$$p,r=t||nt;return t&&(N.$$p=null),$.$each.$$p=r!==nt?function(){var t=c.Opal.$destructure(arguments);if(void 0!==n){var e=r(t,n);e===nt&&$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"comparison failed"),e<0&&(n=t)}else n=t}:function(){var t=c.Opal.$destructure(arguments);void 0!==n?c.Opal.$compare(t,n)<0&&(n=t):n=t},$.$each(),void 0===n?nt:n},N.$$arity=0),c.defn(J,"$min_by",j=function(){var t,n,$,e=j.$$p,r=e||nt;return e&&(j.$$p=null),!1===r||r===nt||null==r?rt(this,"enum_for",["min_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t)):(this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1(r,t);if(void 0===n)return n=t,void($=e);e["$<=>"]($)<0&&(n=t,$=e)},this.$each(),void 0===n?nt:n)},j.$$arity=0),c.defn(J,"$minmax",L=function(){var t,n,$=this,e=L.$$p,r=e||nt;e&&(L.$$p=null),!1!==(t=r)&&t!==nt&&null!=t||(r=rt($,"proc",[],((n=function(t,e){return n.$$s,null==t&&(t=nt),null==e&&(e=nt),t["$<=>"](e)}).$$s=$,n.$$arity=2,n)));var o=nt,i=nt,s=!0;return $.$each.$$p=function(){var t=c.Opal.$destructure(arguments);if(s)o=i=t,s=!1;else{var e=r.$call(o,t);e===nt?$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"comparison failed"):0<e&&(o=t);var n=r.$call(i,t);n===nt?$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"comparison failed"):n<0&&(i=t)}},$.$each(),[o,i]},L.$$arity=0),c.defn(J,"$minmax_by",z=function(){var t=z.$$p;return t&&(z.$$p=null),this.$raise(c.const_get(Q,"NotImplementedError",!0,!0))},z.$$arity=0),c.defn(J,"$none?",P=function(){try{var i,s,t=P.$$p,l=t||nt;return t&&(P.$$p=null),rt(this,"each",[],l!==nt?((i=function(t){i.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if((n=c.yieldX(l,c.to_a(e)))===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret(!1)}).$$s=this,i.$$arity=-1,i):((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];if((n=c.Opal.$destructure(e))===nt||null==n||n.$$is_boolean&&1!=n)return nt;c.ret(!1)}).$$s=this,s.$$arity=-1,s)),!0}catch(t){if(t===c.returner)return t.$v;throw t}},P.$$arity=0),c.defn(J,"$one?",D=function(){try{var i,s,t=D.$$p,l=t||nt,a=nt;return t&&(D.$$p=null),a=0,rt(this,"each",[],l!==nt?((i=function(t){i.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return(n=c.yieldX(l,c.to_a(e)))===nt||null==n||n.$$is_boolean&&1!=n?nt:(n=u(a=_(a,1),1))===nt||null==n||n.$$is_boolean&&1!=n?nt:void c.ret(!1)}).$$s=this,i.$$arity=-1,i):((s=function(t){s.$$s;var e,n,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return(n=c.Opal.$destructure(e))===nt||null==n||n.$$is_boolean&&1!=n?nt:(n=u(a=_(a,1),1))===nt||null==n||n.$$is_boolean&&1!=n?nt:void c.ret(!1)}).$$s=this,s.$$arity=-1,s)),a["$=="](1)}catch(t){if(t===c.returner)return t.$v;throw t}},D.$$arity=0),c.defn(J,"$partition",B=function(){var t,n,e=B.$$p,$=e||nt;if(e&&(B.$$p=null),$===nt)return rt(this,"enum_for",["partition"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var r=[],o=[];return this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1($,t);(n=e)===nt||null==n||n.$$is_boolean&&1!=n?o.push(t):r.push(t)},this.$each(),[r,o]},B.$$arity=0),c.alias(J,"reduce","inject"),c.defn(J,"$reject",q=function(){var t,n,e=q.$$p,$=e||nt;if(e&&(q.$$p=null),$===nt)return rt(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var r=[];return this.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1($,t);((n=e)===nt||null==n||n.$$is_boolean&&0==n)&&r.push(t)},this.$each(),r},q.$$arity=0),c.defn(J,"$reverse_each",U=function(){var t,e=U.$$p,n=e||nt;if(e&&(U.$$p=null),n===nt)return rt(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=this,t.$$arity=0,t));var $=[];this.$each.$$p=function(){$.push(arguments)},this.$each();for(var r=$.length-1;0<=r;r--)c.yieldX(n,$[r]);return $},U.$$arity=0),c.alias(J,"select","find_all"),c.defn(J,"$slice_before",F=function(o){var t,e,n=F.$$p,i=n||nt;return n&&(F.$$p=null),(t=void 0===o&&i===nt)===nt||null==t||t.$$is_boolean&&1!=t||this.$raise(c.const_get(Q,"ArgumentError",!0,!0),"both pattern and block are given"),(t=void 0!==o&&i!==nt||1<arguments.length)===nt||null==t||t.$$is_boolean&&1!=t||this.$raise(c.const_get(Q,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),rt(c.const_get(Q,"Enumerator",!0,!0),"new",[],((e=function(n){var $,t=e.$$s||this;null==n&&(n=nt);var r=[];t.$each.$$p=i!==nt?void 0===o?function(){var t=c.Opal.$destructure(arguments),e=c.yield1(i,t);($=e)!==nt&&null!=$&&(!$.$$is_boolean||1==$)&&0<r.length&&(n["$<<"](r),r=[]),r.push(t)}:function(){var t=c.Opal.$destructure(arguments),e=i(t,o.$dup());($=e)!==nt&&null!=$&&(!$.$$is_boolean||1==$)&&0<r.length&&(n["$<<"](r),r=[]),r.push(t)}:function(){var t=c.Opal.$destructure(arguments),e=o["$==="](t);($=e)!==nt&&null!=$&&(!$.$$is_boolean||1==$)&&0<r.length&&(n["$<<"](r),r=[]),r.push(t)},t.$each(),0<r.length&&n["$<<"](r)}).$$s=this,e.$$arity=1,e))},F.$$arity=-1),c.defn(J,"$slice_after",G=function(e){var t,n,o,$=this,r=G.$$p,i=r||nt;return r&&(G.$$p=null),(t=void 0===e&&i===nt)===nt||null==t||t.$$is_boolean&&1!=t||$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"both pattern and block are given"),(t=void 0!==e&&i!==nt||1<arguments.length)===nt||null==t||t.$$is_boolean&&1!=t||$.$raise(c.const_get(Q,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)"),(t=void 0!==e)===nt||null==t||t.$$is_boolean&&1!=t||(i=rt($,"proc",[],((n=function(t){return n.$$s,null==t&&(t=nt),e["$==="](t)}).$$s=$,n.$$arity=1,n))),rt(c.const_get(Q,"Enumerator",!0,!0),"new",[],((o=function(n){var $,r,t=o.$$s||this;null==n&&(n=nt),t.$each.$$p=function(){var t=c.Opal.$destructure(arguments),e=c.yield1(i,t);null==r&&(r=[]),($=e)===nt||null==$||$.$$is_boolean&&1!=$?r.push(t):(r.push(t),n.$yield(r),r=null)},t.$each(),null!=r&&n.$yield(r)}).$$s=$,o.$$arity=1,o))},G.$$arity=-1),c.defn(J,"$slice_when",H=function(){var e,t=H.$$p,l=t||nt;return t&&(H.$$p=null),l!==nt||this.$raise(c.const_get(Q,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1)"),rt(c.const_get(Q,"Enumerator",!0,!0),"new",[],((e=function(r){var o,t=e.$$s||this;null==r&&(r=nt);var i=nt,s=nt;t.$each_cons.$$p=function(){var t=c.Opal.$destructure(arguments),e=t[0],n=t[1],$=c.yieldX(l,[e,n]);s=n,i===nt&&(i=[]),(o=$)===nt||null==o||o.$$is_boolean&&1!=o?i.push(e):(i.push(e),r.$yield(i),i=[])},t.$each_cons(2),i!==nt&&(i.push(s),r.$yield(i))}).$$s=this,e.$$arity=1,e))},H.$$arity=0),c.defn(J,"$sort",Y=function(){var n,t,e=Y.$$p,$=e||nt;return e&&(Y.$$p=null),t=this.$to_a(),$!==nt||($=rt(this,"lambda",[],((n=function(t,e){return n.$$s,null==t&&(t=nt),null==e&&(e=nt),t["$<=>"](e)}).$$s=this,n.$$arity=2,n))),rt(t,"sort",[],$.$to_proc())},Y.$$arity=0),c.defn(J,"$sort_by",K=function(){var t,e,n,$,r,o=this,i=K.$$p,s=i||nt;return i&&(K.$$p=null),s===nt?rt(o,"enum_for",["sort_by"],((t=function(){return(t.$$s||this).$enumerator_size()}).$$s=o,t.$$arity=0,t)):(r=rt(o,"map",[],((e=function(){var t;return e.$$s,t=c.Opal.$destructure(arguments),[c.yield1(s,t),t]}).$$s=o,e.$$arity=0,e)),rt(r,"sort!",[],((n=function(t,e){return n.$$s,null==t&&(t=nt),null==e&&(e=nt),t[0]["$<=>"](e[0])}).$$s=o,n.$$arity=2,n)),rt(r,"map!",[],(($=function(t){return $.$$s,null==t&&(t=nt),t[1]}).$$s=o,$.$$arity=1,$)))},K.$$arity=0),c.defn(J,"$take",W=function(t){return this.$first(t)},W.$$arity=1),c.defn(J,"$take_while",X=function(){try{var s,t=X.$$p,l=t||nt,a=nt;return t&&(X.$$p=null),!1===l||l===nt||null==l?this.$enum_for("take_while"):(a=[],rt(this,"each",[],((s=function(t){s.$$s;var e,n,$,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return $=c.Opal.$destructure(e),((n=c.yield1(l,$))===nt||null==n||n.$$is_boolean&&1!=n)&&c.ret(a),a.push($)}).$$s=this,s.$$arity=-1,s)))}catch(t){if(t===c.returner)return t.$v;throw t}},X.$$arity=0),c.alias(J,"to_a","entries"),void c.defn(J,"$zip",V=function(t){var e,n=V.$$p,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return n&&(V.$$p=null),rt(this.$to_a(),"zip",c.to_a(e))},V.$$arity=-1)},Opal.modules["corelib/enumerator"]=function(w){function x(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function k(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}var t=w.top,e=w,n=[w],O=w.nil,d=w.breaker,f=w.slice,E=w.klass,A=w.send;return w.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),t.$require("corelib/enumerable"),function(t,e,n){function $(){}var c,o,u,r,i,s,v=$=E(t,null,"Enumerator",$),l=v.$$proto,a=v.$$scope,_=n.slice().concat(a);return l.size=l.args=l.object=l.method=O,v.$include(w.const_get(_,"Enumerable",!0,!0)),l.$$is_enumerator=!0,w.defs(v,"$for",c=function(t,e,n){var $,r=c.$$p,o=r||O;null==e&&(e="each");var i=arguments.length,s=i-2;s<0&&(s=0),$=new Array(s);for(var l=2;l<i;l++)$[l-2]=arguments[l];r&&(c.$$p=null);var a=this.$allocate();return a.object=t,a.size=o,a.method=e,a.args=$,a},c.$$arity=-2),w.defn(v,"$initialize",o=function(t){var e,n=this,$=o.$$p,r=$||O;return $&&(o.$$p=null),!1!==r&&r!==O&&null!=r?(n.object=A(w.const_get(_,"Generator",!0,!0),"new",[],r.$to_proc()),n.method="each",n.args=[],n.size=t||O,(e=n.size)===O||null==e||e.$$is_boolean&&1!=e?O:n.size=w.Opal.$coerce_to(n.size,w.Integer,"to_int")):(n.object=t,n.method=arguments[1]||"each",n.args=f.call(arguments,2),n.size=O)},o.$$arity=-1),w.defn(v,"$each",u=function(t){var e,n,$,r=this,o=u.$$p,i=o||O,s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var a=0;a<s;a++)$[a-0]=arguments[a];return o&&(u.$$p=null),(e=!1!==(n=i["$nil?"]())&&n!==O&&null!=n?$["$empty?"]():n)===O||null==e||e.$$is_boolean&&1!=e?($=x(r.args,$),(e=i["$nil?"]())===O||null==e||e.$$is_boolean&&1!=e?A(r.object,"__send__",[r.method].concat(w.to_a($)),i.$to_proc()):A(r.$class(),"new",[r.object,r.method].concat(w.to_a($)))):r},u.$$arity=-1),w.defn(v,"$size",r=function(){var t;return(t=w.const_get(_,"Proc",!0,!0)["$==="](this.size))===O||null==t||t.$$is_boolean&&1!=t?this.size:A(this.size,"call",w.to_a(this.args))},r.$$arity=0),w.defn(v,"$with_index",i=function(t){var e,n=i.$$p,$=n||O;if(null==t&&(t=0),n&&(i.$$p=null),t=!1!==t&&t!==O&&null!=t?w.Opal.$coerce_to(t,w.Integer,"to_int"):0,!1===$||$===O||null==$)return A(this,"enum_for",["with_index",t],((e=function(){return(e.$$s||this).$size()}).$$s=this,e.$$arity=0,e));var r=t;return this.$each.$$p=function(){var t=w.Opal.$destructure(arguments),e=$(t,r);return r++,e},this.$each()},i.$$arity=-1),w.alias(v,"with_object","each_with_object"),w.defn(v,"$inspect",s=function(){var t,e=this,n=O;return n="#<"+e.$class()+": "+e.object.$inspect()+":"+e.method,((t=e.args["$empty?"]())===O||null==t||t.$$is_boolean&&1!=t)&&(n=x(n,"("+e.args.$inspect()["$[]"](w.const_get(_,"Range",!0,!0).$new(1,-2))+")")),x(n,">")},s.$$arity=0),function(t,e,n){function $(){}var r,l,o=$=E(t,null,"Generator",$),i=o.$$proto,s=o.$$scope,a=n.slice().concat(s);i.block=O,o.$include(w.const_get(a,"Enumerable",!0,!0)),w.defn(o,"$initialize",r=function(){var t=r.$$p,e=t||O;return t&&(r.$$p=null),!1!==e&&e!==O&&null!=e||this.$raise(w.const_get(a,"LocalJumpError",!0,!0),"no block given"),this.block=e},r.$$arity=0),w.defn(o,"$each",l=function(t){var e,n,$=l.$$p,r=$||O,o=arguments.length,i=o-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<o;s++)e[s-0]=arguments[s];$&&(l.$$p=null),n=A(w.const_get(a,"Yielder",!0,!0),"new",[],r.$to_proc());try{e.unshift(n),w.yieldX(this.block,e)}catch(t){if(t===d)return d.$v;throw t}return this},l.$$arity=-1)}(a.base,0,_),function(t,e,n){function $(){}var r,o,i,s=$=E(t,null,"Yielder",$),l=s.$$proto,a=s.$$scope;n.slice().concat(a);l.block=O,w.defn(s,"$initialize",r=function(){var t=r.$$p,e=t||O;return t&&(r.$$p=null),this.block=e},r.$$arity=0),w.defn(s,"$yield",o=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];var o=w.yieldX(this.block,e);if(o===d)throw d;return o},o.$$arity=-1),w.defn(s,"$<<",i=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return A(this,"yield",w.to_a(e)),this},i.$$arity=-1)}(a.base,0,_),function(t,e,n){function $(){}var r,o,i,s,l,c,a,u,_,d,f,p,h,g=$=E(t,v,"Lazy",$),b=g.$$proto,m=g.$$scope,y=n.slice().concat(m);return b.enumerator=O,function(t,e,n){function $(){}var r=$=E(t,e,"StopLazyError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(m.base,w.const_get(y,"Exception",!0,!0),y),w.defn(g,"$initialize",r=function(l,t){var a,e=this,n=r.$$p,c=n||O;return null==t&&(t=O),n&&(r.$$p=null),c!==O||e.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy new without a block"),e.enumerator=l,A(e,w.find_super_dispatcher(e,"initialize",r,!1),[t],((a=function(o,t){var e,i,n=a.$$s||this,$=arguments.length,r=$-1;r<0&&(r=0),e=new Array(r);for(var s=1;s<$;s++)e[s-1]=arguments[s];null==o&&(o=O);try{return A(l,"each",w.to_a(e),((i=function(t){i.$$s;var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];e.unshift(o),w.yieldX(c,e)}).$$s=n,i.$$arity=-1,i))}catch(t){if(!w.rescue(t,[w.const_get(y,"Exception",!0,!0)]))throw t;try{return O}finally{w.pop_exception()}}}).$$s=e,a.$$arity=-2,a))},r.$$arity=-2),w.alias(g,"force","to_a"),w.defn(g,"$lazy",o=function(){return this},o.$$arity=0),w.defn(g,"$collect",i=function(){var s,t=i.$$p,l=t||O;return t&&(i.$$p=null),!1!==l&&l!==O&&null!=l||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy map without a block"),A(w.const_get(y,"Lazy",!0,!0),"new",[this,this.$enumerator_size()],((s=function(t,e){s.$$s;var n,$=arguments.length,r=$-1;r<0&&(r=0),n=new Array(r);for(var o=1;o<$;o++)n[o-1]=arguments[o];null==t&&(t=O);var i=w.yieldX(l,n);t.$yield(i)}).$$s=this,s.$$arity=-2,s))},i.$$arity=0),w.defn(g,"$collect_concat",s=function(){var c,t=s.$$p,u=t||O;return t&&(s.$$p=null),!1!==u&&u!==O&&null!=u||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy map without a block"),A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],((c=function(e,t){var n,$,r,o=c.$$s||this,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];null==e&&(e=O);var a=w.yieldX(u,n);a["$respond_to?"]("force")&&a["$respond_to?"]("each")?A(a,"each",[],(($=function(t){$.$$s;return null==t&&(t=O),e.$yield(t)}).$$s=o,$.$$arity=1,$)):w.Opal.$try_convert(a,w.const_get(y,"Array",!0,!0),"to_ary")===O?e.$yield(a):A(a,"each",[],((r=function(t){r.$$s;return null==t&&(t=O),e.$yield(t)}).$$s=o,r.$$arity=1,r))}).$$s=this,c.$$arity=-2,c))},s.$$arity=0),w.defn(g,"$drop",l=function(s){var t,l,e,n,a=O;return s=w.Opal.$coerce_to(s,w.Integer,"to_int"),(t=k(s,0))===O||null==t||t.$$is_boolean&&1!=t||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"attempt to drop negative size"),e=this.$enumerator_size(),n=(t=w.Integer["$==="](e))===O||null==t||t.$$is_boolean&&1!=t?e:(t=k(s,e))===O||null==t||t.$$is_boolean&&1!=t?e:s,a=0,A(w.const_get(y,"Lazy",!0,!0),"new",[this,n],((l=function(t,e){l.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];return null==t&&(t=O),($=k(a,s))===O||null==$||$.$$is_boolean&&1!=$?A(t,"yield",w.to_a(n)):a=x(a,1)}).$$s=this,l.$$arity=-2,l))},l.$$arity=1),w.defn(g,"$drop_while",c=function(){var s,t=c.$$p,l=t||O,a=O;return t&&(c.$$p=null),!1!==l&&l!==O&&null!=l||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy drop_while without a block"),a=!0,A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],((s=function(t,e){s.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];if(null==t&&(t=O),!1===a||a===O||null==a)return A(t,"yield",w.to_a(n));(($=w.yieldX(l,n))===O||null==$||$.$$is_boolean&&0==$)&&(a=!1,A(t,"yield",w.to_a(n)))}).$$s=this,s.$$arity=-2,s))},c.$$arity=0),w.defn(g,"$enum_for",a=function(t,e){var n,$=this,r=a.$$p,o=r||O;null==t&&(t="each");var i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];return r&&(a.$$p=null),A($.$class(),"for",[$,t].concat(w.to_a(n)),o.$to_proc())},a.$$arity=-1),w.defn(g,"$find_all",u=function(){var s,t=u.$$p,l=t||O;return t&&(u.$$p=null),!1!==l&&l!==O&&null!=l||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy select without a block"),A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],((s=function(t,e){s.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];null==t&&(t=O),($=w.yieldX(l,n))===O||null==$||$.$$is_boolean&&1!=$||A(t,"yield",w.to_a(n))}).$$s=this,s.$$arity=-2,s))},u.$$arity=0),w.alias(g,"flat_map","collect_concat"),w.defn(g,"$grep",_=function(a){var c,l,t=_.$$p,u=t||O;return t&&(_.$$p=null),A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],!1!==u&&u!==O&&null!=u?((c=function(t,e){c.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];null==t&&(t=O);var s=w.Opal.$destructure(n),l=a["$==="](s);($=l)===O||null==$||$.$$is_boolean&&1!=$||(l=w.yield1(u,s),t.$yield(w.yield1(u,s)))}).$$s=this,c.$$arity=-2,c):((l=function(t,e){l.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];null==t&&(t=O);var s=w.Opal.$destructure(n);($=a["$==="](s))===O||null==$||$.$$is_boolean&&1!=$||t.$yield(s)}).$$s=this,l.$$arity=-2,l))},_.$$arity=1),w.alias(g,"map","collect"),w.alias(g,"select","find_all"),w.defn(g,"$reject",d=function(){var s,t=d.$$p,l=t||O;return t&&(d.$$p=null),!1!==l&&l!==O&&null!=l||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy reject without a block"),A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],((s=function(t,e){s.$$s;var n,$,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];null==t&&(t=O),(($=w.yieldX(l,n))===O||null==$||$.$$is_boolean&&0==$)&&A(t,"yield",w.to_a(n))}).$$s=this,s.$$arity=-2,s))},d.$$arity=0),w.defn(g,"$take",f=function(l){var t,a,e,n,c=O;return l=w.Opal.$coerce_to(l,w.Integer,"to_int"),(t=k(l,0))===O||null==t||t.$$is_boolean&&1!=t||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"attempt to take negative size"),e=this.$enumerator_size(),n=(t=w.Integer["$==="](e))===O||null==t||t.$$is_boolean&&1!=t?e:(t=k(l,e))===O||null==t||t.$$is_boolean&&1!=t?e:l,c=0,A(w.const_get(y,"Lazy",!0,!0),"new",[this,n],((a=function(t,e){var n,$,r=a.$$s||this,o=arguments.length,i=o-1;i<0&&(i=0),n=new Array(i);for(var s=1;s<o;s++)n[s-1]=arguments[s];return null==t&&(t=O),($=k(c,l))===O||null==$||$.$$is_boolean&&1!=$?r.$raise(w.const_get(y,"StopLazyError",!0,!0)):(A(t,"yield",w.to_a(n)),c=x(c,1))}).$$s=this,a.$$arity=-2,a))},f.$$arity=1),w.defn(g,"$take_while",p=function(){var l,t=p.$$p,a=t||O;return t&&(p.$$p=null),!1!==a&&a!==O&&null!=a||this.$raise(w.const_get(y,"ArgumentError",!0,!0),"tried to call lazy take_while without a block"),A(w.const_get(y,"Lazy",!0,!0),"new",[this,O],((l=function(t,e){var n,$,r=l.$$s||this,o=arguments.length,i=o-1;i<0&&(i=0),n=new Array(i);for(var s=1;s<o;s++)n[s-1]=arguments[s];null==t&&(t=O),($=w.yieldX(a,n))===O||null==$||$.$$is_boolean&&1!=$?r.$raise(w.const_get(y,"StopLazyError",!0,!0)):A(t,"yield",w.to_a(n))}).$$s=this,l.$$arity=-2,l))},p.$$arity=0),w.alias(g,"to_enum","enum_for"),w.defn(g,"$inspect",h=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},h.$$arity=0),O&&"inspect"}(a.base,0,_)}(e.base,0,n)},Opal.modules["corelib/numeric"]=function(U){function F(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function H(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function Y(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t=U.top,e=U,n=[U],K=U.nil,W=(U.breaker,U.slice,U.klass);return U.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$-","$*","$div","$<","$-@","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$coerce_to!","$round","$to_i","$truncate","$>"]),t.$require("corelib/comparable"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D=$=W(t,null,"Numeric",$),B=(D.$$proto,D.$$scope),q=n.slice().concat(B);return D.$include(U.const_get(q,"Comparable",!0,!0)),U.defn(D,"$coerce",r=function(t){var e;return(e=t["$instance_of?"](this.$class()))===K||null==e||e.$$is_boolean&&1!=e?[this.$Float(t),this.$Float(this)]:[t,this]},r.$$arity=1),U.defn(D,"$__coerced__",o=function(e,n){var t,$,r=this,o=K,i=K,s=K;try{$=n.$coerce(r),o=null==(t=U.to_ary($))[0]?K:t[0],i=null==t[1]?K:t[1]}catch(t){if(!U.rescue(t,[U.const_get(q,"StandardError",!0,!0)]))throw t;try{"+"["$==="](s=e)||"-"["$==="](s)||"*"["$==="](s)||"/"["$==="](s)||"%"["$==="](s)||"&"["$==="](s)||"|"["$==="](s)||"^"["$==="](s)||"**"["$==="](s)?r.$raise(U.const_get(q,"TypeError",!0,!0),n.$class()+" can't be coerce into Numeric"):(">"["$==="](s)||">="["$==="](s)||"<"["$==="](s)||"<="["$==="](s)||"<=>"["$==="](s))&&r.$raise(U.const_get(q,"ArgumentError",!0,!0),"comparison of "+r.$class()+" with "+n.$class()+" failed")}finally{U.pop_exception()}}return o.$__send__(e,i)},o.$$arity=2),U.defn(D,"$<=>",i=function(t){var e;return(e=this["$equal?"](t))===K||null==e||e.$$is_boolean&&1!=e?K:0},i.$$arity=1),U.defn(D,"$+@",s=function(){return this},s.$$arity=0),U.defn(D,"$-@",l=function(){return F(0,this)},l.$$arity=0),U.defn(D,"$%",a=function(t){return F(this,G(t,this.$div(t)))},a.$$arity=1),U.defn(D,"$abs",c=function(){return H(this,0)?this["$-@"]():this},c.$$arity=0),U.defn(D,"$abs2",u=function(){return G(this,this)},u.$$arity=0),U.defn(D,"$angle",_=function(){return H(this,0)?U.const_get([U.const_get(q,"Math",!0,!0).$$scope],"PI",!0,!0):0},_.$$arity=0),U.alias(D,"arg","angle"),U.defn(D,"$ceil",d=function(){return this.$to_f().$ceil()},d.$$arity=0),U.defn(D,"$conj",f=function(){return this},f.$$arity=0),U.alias(D,"conjugate","conj"),U.defn(D,"$denominator",p=function(){return this.$to_r().$denominator()},p.$$arity=0),U.defn(D,"$div",h=function(t){return t["$=="](0)&&this.$raise(U.const_get(q,"ZeroDivisionError",!0,!0),"divided by o"),Y(this,t).$floor()},h.$$arity=1),U.defn(D,"$divmod",g=function(t){return[this.$div(t),this["$%"](t)]},g.$$arity=1),U.defn(D,"$fdiv",b=function(t){return Y(this.$to_f(),t)},b.$$arity=1),U.defn(D,"$floor",m=function(){return this.$to_f().$floor()},m.$$arity=0),U.defn(D,"$i",y=function(){return this.$Complex(0,this)},y.$$arity=0),U.defn(D,"$imag",v=function(){return 0},v.$$arity=0),U.alias(D,"imaginary","imag"),U.defn(D,"$integer?",w=function(){return!1},w.$$arity=0),U.alias(D,"magnitude","abs"),U.alias(D,"modulo","%"),U.defn(D,"$nonzero?",x=function(){var t;return(t=this["$zero?"]())===K||null==t||t.$$is_boolean&&1!=t?this:K},x.$$arity=0),U.defn(D,"$numerator",k=function(){return this.$to_r().$numerator()},k.$$arity=0),U.alias(D,"phase","arg"),U.defn(D,"$polar",O=function(){return[this.$abs(),this.$arg()]},O.$$arity=0),U.defn(D,"$quo",E=function(t){return Y(U.Opal["$coerce_to!"](this,U.const_get(q,"Rational",!0,!0),"to_r"),t)},E.$$arity=1),U.defn(D,"$real",A=function(){return this},A.$$arity=0),U.defn(D,"$real?",S=function(){return!0},S.$$arity=0),U.defn(D,"$rect",R=function(){return[this,0]},R.$$arity=0),U.alias(D,"rectangular","rect"),U.defn(D,"$round",M=function(t){return this.$to_f().$round(t)},M.$$arity=-1),U.defn(D,"$to_c",T=function(){return this.$Complex(this,0)},T.$$arity=0),U.defn(D,"$to_int",I=function(){return this.$to_i()},I.$$arity=0),U.defn(D,"$truncate",C=function(){return this.$to_f().$truncate()},C.$$arity=0),U.defn(D,"$zero?",N=function(){return this["$=="](0)},N.$$arity=0),U.defn(D,"$positive?",j=function(){var t,e;return e=0,"number"==typeof(t=this)&&"number"==typeof e?e<t:t["$>"](e)},j.$$arity=0),U.defn(D,"$negative?",L=function(){return H(this,0)},L.$$arity=0),U.defn(D,"$dup",z=function(){return this.$raise(U.const_get(q,"TypeError",!0,!0),"can't dup "+this.$class())},z.$$arity=0),U.defn(D,"$clone",P=function(){return this.$raise(U.const_get(q,"TypeError",!0,!0),"can't clone "+this.$class())},P.$$arity=0),K&&"clone"}(e.base,0,n)},Opal.modules["corelib/array"]=function(Yt){function Kt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}var t=Yt.top,e=Yt,n=[Yt],Wt=Yt.nil,Xt=(Yt.breaker,Yt.slice,Yt.klass),Vt=Yt.hash2,Jt=Yt.send,Zt=Yt.gvars;return Yt.add_stubs(["$require","$include","$to_a","$raise","$replace","$respond_to?","$to_ary","$coerce_to","$coerce_to?","$===","$join","$to_str","$class","$hash","$<=>","$==","$object_id","$inspect","$empty?","$enum_for","$bsearch_index","$to_proc","$coerce_to!","$>","$*","$enumerator_size","$size","$[]","$dig","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$to_s","$new","$!","$>=","$**","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$sort_by","$!=","$times","$[]=","$<<","$values","$kind_of?","$last","$first","$upto","$reject","$pristine"]),t.$require("corelib/enumerable"),t.$require("corelib/numeric"),function(t,e,n){function $(){}var r,s,o,i,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,$t,rt,ot,it,st,lt,at,ct,ut,_t,dt,ft,pt,ht,gt,bt,mt,yt,vt,wt,xt,kt,Ot,Et,At,St,Rt,Mt,Tt,It,Ct,Nt,jt,Lt,zt,Pt,Dt,Bt=$=Xt(t,e,"Array",$),qt=Bt.$$proto,Ut=Bt.$$scope,Ft=n.slice().concat(Ut);function Gt(t,e){return e.$$name===Yt.Array?t:e.$allocate().$replace(t.$to_a())}function Ht(t,e){return t===e||0===e?1:0<e&&e<t?Ht(t-1,e-1)+Ht(t-1,e):0}return qt.length=Wt,Bt.$include(Yt.const_get(Ft,"Enumerable",!0,!0)),qt.$$is_array=!0,Yt.defs(Bt,"$[]",r=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return Gt(e,this)},r.$$arity=-1),Yt.defn(Bt,"$initialize",s=function(t,e){var n,$,r=this,o=s.$$p,i=o||Wt;if(null==t&&(t=Wt),null==e&&(e=Wt),o&&(s.$$p=null),t>Yt.const_get([Yt.Integer.$$scope],"MAX",!0,!0)&&r.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"array size too big"),2<arguments.length&&r.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return r.splice(0,r.length),r;if(1===arguments.length){if(t.$$is_array)return r.$replace(t.$to_a()),r;if(t["$respond_to?"]("to_ary"))return r.$replace(t.$to_ary()),r}if((t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&r.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative array size"),r.splice(0,r.length),i===Wt)for(n=0;n<t;n++)r.push(e);else for(n=0;n<t;n++)$=i(n),r[n]=$;return r},s.$$arity=-1),Yt.defs(Bt,"$try_convert",o=function(t){return Yt.Opal["$coerce_to?"](t,Yt.const_get(Ft,"Array",!0,!0),"to_ary")},o.$$arity=1),Yt.defn(Bt,"$&",i=function(t){var e;t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var n,$,r,o=[],i=Vt([],{});for(n=0,$=t.length;n<$;n++)Yt.hash_put(i,t[n],!0);for(n=0,$=this.length;n<$;n++)r=this[n],void 0!==Yt.hash_delete(i,r)&&o.push(r);return o},i.$$arity=1),Yt.defn(Bt,"$|",l=function(t){var e;t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a();var n,$,r=Vt([],{});for(n=0,$=this.length;n<$;n++)Yt.hash_put(r,this[n],!0);for(n=0,$=t.length;n<$;n++)Yt.hash_put(r,t[n],!0);return r.$keys()},l.$$arity=1),Yt.defn(Bt,"$*",a=function(t){var e;if((e=t["$respond_to?"]("to_str"))!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return this.$join(t.$to_str());(e=(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative argument");for(var n=[],$=this.$to_a(),r=0;r<t;r++)n=n.concat($);return Gt(n,this.$class())},a.$$arity=1),Yt.defn(Bt,"$+",c=function(t){var e;return t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),this.concat(t)},c.$$arity=1),Yt.defn(Bt,"$-",u=function(t){var e;if(t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),(e=0===this.length)!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return[];if((e=0===t.length)!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return this.slice();var n,$,r,o=[],i=Vt([],{});for(n=0,$=t.length;n<$;n++)Yt.hash_put(i,t[n],!0);for(n=0,$=this.length;n<$;n++)r=this[n],void 0===Yt.hash_get(i,r)&&o.push(r);return o},u.$$arity=1),Yt.defn(Bt,"$<<",_=function(t){return this.push(t),this},_.$$arity=1),Yt.defn(Bt,"$<=>",d=function(t){var e;if((e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e){if((e=t["$respond_to?"]("to_ary"))===Wt||null==e||e.$$is_boolean&&1!=e)return Wt;t=t.$to_ary().$to_a()}else t=t.$to_a();if(this.$hash()===t.$hash())return 0;for(var n=Math.min(this.length,t.length),$=0;$<n;$++){var r=this[$]["$<=>"](t[$]);if(0!==r)return r}return this.length["$<=>"](t.length)},d.$$arity=1),Yt.defn(Bt,"$==",f=function(t){var s={};return function t(e,n){var $,r,o,i;if(e===n)return!0;if(!n.$$is_array)return!!Yt.Opal["$respond_to?"](n,"to_ary")&&n["$=="](e);if(e.constructor!==Array&&(e=e.$to_a()),n.constructor!==Array&&(n=n.$to_a()),e.length!==n.length)return!1;for(s[e.$object_id()]=!0,$=0,r=e.length;$<r;$++)if(o=e[$],i=n[$],o.$$is_array){if(i.$$is_array&&i.length!==o.length)return!1;if(!s.hasOwnProperty(o.$object_id())&&!t(o,i))return!1}else if(!o["$=="](i))return!1;return!0}(this,t)},f.$$arity=1),Yt.defn(Bt,"$[]",p=function(t,e){var n,$,r,o,i=this.length;if(t.$$is_range){if(n=t.exclude,$=Yt.Opal.$coerce_to(t.begin,Yt.Integer,"to_int"),r=Yt.Opal.$coerce_to(t.end,Yt.Integer,"to_int"),$<0&&($+=i)<0)return Wt;if(i<$)return Wt;if(r<0&&(r+=i)<0)return[];n||(r+=1),o=this.slice($,r)}else{if((t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&(t+=i)<0)return Wt;if(void 0===e)return i<=t||t<0?Wt:this[t];if((e=Yt.Opal.$coerce_to(e,Yt.Integer,"to_int"))<0||i<t||t<0)return Wt;o=this.slice(t,t+e)}return Gt(o,this.$class())},p.$$arity=-2),Yt.defn(Bt,"$[]=",h=function(t,e,n){var $,r,o=this,i=Wt,s=Wt,l=o.length;if(($=Yt.const_get(Ft,"Range",!0,!0)["$==="](t))===Wt||null==$||$.$$is_boolean&&1!=$){var a;if(($=void 0===n)===Wt||null==$||$.$$is_boolean&&1!=$?(s=e,e=n,i=($=Yt.const_get(Ft,"Array",!0,!0)["$==="](e))===Wt||null==$||$.$$is_boolean&&1!=$?($=e["$respond_to?"]("to_ary"))===Wt||null==$||$.$$is_boolean&&1!=$?[e]:e.$to_ary().$to_a():e.$to_a()):s=1,t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),s=Yt.Opal.$coerce_to(s,Yt.Integer,"to_int"),t<0&&(a=t,(t+=l)<0&&o.$raise(Yt.const_get(Ft,"IndexError",!0,!0),"index "+a+" too small for array; minimum "+-o.length)),s<0&&o.$raise(Yt.const_get(Ft,"IndexError",!0,!0),"negative length ("+s+")"),l<t)for(r=l;r<t;r++)o[r]=Wt;return void 0===n?o[t]=e:o.splice.apply(o,[t,s].concat(i)),e}i=($=Yt.const_get(Ft,"Array",!0,!0)["$==="](e))===Wt||null==$||$.$$is_boolean&&1!=$?($=e["$respond_to?"]("to_ary"))===Wt||null==$||$.$$is_boolean&&1!=$?[e]:e.$to_ary().$to_a():e.$to_a();var c=t.exclude,u=Yt.Opal.$coerce_to(t.begin,Yt.Integer,"to_int"),_=Yt.Opal.$coerce_to(t.end,Yt.Integer,"to_int");if(u<0&&(u+=l)<0&&o.$raise(Yt.const_get(Ft,"RangeError",!0,!0),t.$inspect()+" out of range"),_<0&&(_+=l),c||(_+=1),l<u)for(r=l;r<u;r++)o[r]=Wt;return _<0?o.splice.apply(o,[u,0].concat(i)):o.splice.apply(o,[u,_-u].concat(i)),e},h.$$arity=-3),Yt.defn(Bt,"$any?",g=function(){var t,e,n=g.$$p,$=Wt,r=Wt;for(n&&(g.$$p=null),r=0,e=arguments.length,$=new Array(e);r<e;r++)$[r]=arguments[r];return!!((t=this["$empty?"]())===Wt||null==t||t.$$is_boolean&&1!=t)&&Jt(this,Yt.find_super_dispatcher(this,"any?",g,!1),$,n)},g.$$arity=0),Yt.defn(Bt,"$assoc",b=function(t){for(var e,n=0,$=this.length;n<$;n++)if((e=this[n]).length&&e[0]["$=="](t))return e;return Wt},b.$$arity=1),Yt.defn(Bt,"$at",m=function(t){return(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&(t+=this.length),t<0||t>=this.length?Wt:this[t]},m.$$arity=1),Yt.defn(Bt,"$bsearch_index",y=function(){var t=y.$$p,e=t||Wt;if(t&&(y.$$p=null),e===Wt)return this.$enum_for("bsearch_index");for(var n,$,r,o=0,i=this.length,s=!1,l=Wt;o<i;){if($=this[n=o+Math.floor((i-o)/2)],!0===(r=Yt.yield1(e,$)))l=n,s=!0;else if(!1===r||r===Wt)s=!1;else if(r.$$is_number){if(0===r)return n;s=r<0}else this.$raise(Yt.const_get(Ft,"TypeError",!0,!0),"wrong argument type "+r.$class()+" (must be numeric, true, false or nil)");s?i=n:o=n+1}return l},y.$$arity=0),Yt.defn(Bt,"$bsearch",v=function(){var t,e=v.$$p,n=e||Wt;return e&&(v.$$p=null),n===Wt?this.$enum_for("bsearch"):null!=(t=Jt(this,"bsearch_index",[],n.$to_proc()))&&t.$$is_number?this[t]:t},v.$$arity=0),Yt.defn(Bt,"$cycle",w=function(r){var o,t,e,n,$,i=w.$$p,s=i||Wt;if(null==r&&(r=Wt),i&&(w.$$p=null),s===Wt)return Jt(this,"enum_for",["cycle",r],((o=function(){var t,e,n,$=o.$$s||this;return r["$=="](Wt)?Yt.const_get([Yt.const_get(Ft,"Float",!0,!0).$$scope],"INFINITY",!0,!0):(t=Kt(r=Yt.Opal["$coerce_to!"](r,Yt.Integer,"to_int"),0))===Wt||null==t||t.$$is_boolean&&1!=t?0:(e=$.$enumerator_size(),n=r,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n))}).$$s=this,o.$$arity=0,o));if((t=!1!==(e=this["$empty?"]())&&e!==Wt&&null!=e?e:r["$=="](0))!==Wt&&null!=t&&(!t.$$is_boolean||1==t))return Wt;if(r===Wt)for(;;)for(n=0,$=this.length;n<$;n++)Yt.yield1(s,this[n]);else{if((r=Yt.Opal["$coerce_to!"](r,Yt.Integer,"to_int"))<=0)return this;for(;0<r;){for(n=0,$=this.length;n<$;n++)Yt.yield1(s,this[n]);r--}}return this},w.$$arity=-1),Yt.defn(Bt,"$clear",x=function(){return this.splice(0,this.length),this},x.$$arity=0),Yt.defn(Bt,"$count",k=function(t){var e,n,$,r=k.$$p,o=r||Wt,i=Wt,s=Wt;for(null==t&&(t=Wt),r&&(k.$$p=null),s=0,$=arguments.length,i=new Array($);s<$;s++)i[s]=arguments[s];return(e=!1!==(n=t)&&n!==Wt&&null!=n?n:o)===Wt||null==e||e.$$is_boolean&&1!=e?this.$size():Jt(this,Yt.find_super_dispatcher(this,"count",k,!1),i,r)},k.$$arity=-1),Yt.defn(Bt,"$initialize_copy",O=function(t){return this.$replace(t)},O.$$arity=1),Yt.defn(Bt,"$collect",E=function(){var t,e=E.$$p,n=e||Wt;if(e&&(E.$$p=null),n===Wt)return Jt(this,"enum_for",["collect"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $=[],r=0,o=this.length;r<o;r++){var i=Yt.yield1(n,this[r]);$.push(i)}return $},E.$$arity=0),Yt.defn(Bt,"$collect!",A=function(){var t,e=A.$$p,n=e||Wt;if(e&&(A.$$p=null),n===Wt)return Jt(this,"enum_for",["collect!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $=0,r=this.length;$<r;$++){var o=Yt.yield1(n,this[$]);this[$]=o}return this},A.$$arity=0),Yt.defn(Bt,"$combination",S=function(t){var e,n,$,r,o,i,s,l,a,c=this,u=S.$$p,_=u||Wt;if(u&&(S.$$p=null),n=Yt.Opal["$coerce_to!"](t,Yt.Integer,"to_int"),_===Wt)return Jt(c,"enum_for",["combination",n],((e=function(){return Ht((e.$$s||this).length,n)}).$$s=c,e.$$arity=0,e));if(0===n)Yt.yield1(_,[]);else if(1===n)for($=0,r=c.length;$<r;$++)Yt.yield1(_,[c[$]]);else if(n===c.length)Yt.yield1(_,c.slice());else if(0<=n&&n<c.length){for(o=[],$=0;$<=n+1;$++)o.push(0);for(l=!(i=[]),o[s=0]=-1;!l;){for(i[s]=c[o[s+1]];s<n-1;)a=o[++s+1]=o[s]+1,i[s]=c[a];for(Yt.yield1(_,i.slice()),s++;l=0===s,o[s]++,o[--s+1]+n===c.length+s+1;);}}return c},S.$$arity=1),Yt.defn(Bt,"$repeated_combination",R=function(t){var e,n,$=R.$$p,s=$||Wt;if($&&(R.$$p=null),n=Yt.Opal["$coerce_to!"](t,Yt.Integer,"to_int"),s===Wt)return Jt(this,"enum_for",["repeated_combination",n],((e=function(){return Ht((e.$$s||this).length+n-1,n)}).$$s=this,e.$$arity=0,e));return 0<=n&&function t(e,n,$,r){if($.length!=e)for(var o=n;o<r.length;o++)$.push(r[o]),t(e,o,$,r),$.pop();else{var i=$.slice();Yt.yield1(s,i)}}(n,0,[],this),this},R.$$arity=1),Yt.defn(Bt,"$compact",M=function(){for(var t,e=[],n=0,$=this.length;n<$;n++)(t=this[n])!==Wt&&e.push(t);return e},M.$$arity=0),Yt.defn(Bt,"$compact!",T=function(){for(var t=this.length,e=0,n=this.length;e<n;e++)this[e]===Wt&&(this.splice(e,1),n--,e--);return this.length===t?Wt:this},T.$$arity=0),Yt.defn(Bt,"$concat",I=function(t){for(var e,n=0,$=(t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a()).length;n<$;n++)this.push(t[n]);return this},I.$$arity=1),Yt.defn(Bt,"$delete",C=function(t){var e=C.$$p,n=e||Wt;e&&(C.$$p=null);for(var $=this.length,r=0,o=$;r<o;r++)this[r]["$=="](t)&&(this.splice(r,1),o--,r--);return this.length===$?n!==Wt?Yt.yieldX(n,[]):Wt:t},C.$$arity=1),Yt.defn(Bt,"$delete_at",N=function(t){if((t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&(t+=this.length),t<0||t>=this.length)return Wt;var e=this[t];return this.splice(t,1),e},N.$$arity=1),Yt.defn(Bt,"$delete_if",j=function(){var t,e=j.$$p,n=e||Wt;if(e&&(j.$$p=null),n===Wt)return Jt(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r=0,o=this.length;r<o;r++)!1!==($=n(this[r]))&&$!==Wt&&(this.splice(r,1),o--,r--);return this},j.$$arity=0),Yt.defn(Bt,"$dig",L=function(t,e){var n,$,r=Wt,o=arguments.length,i=o-1;i<0&&(i=0),$=new Array(i);for(var s=1;s<o;s++)$[s-1]=arguments[s];return(r=this["$[]"](t))===Wt||0===$.length?r:(((n=r["$respond_to?"]("dig"))===Wt||null==n||n.$$is_boolean&&1!=n)&&this.$raise(Yt.const_get(Ft,"TypeError",!0,!0),r.$class()+" does not have #dig method"),Jt(r,"dig",Yt.to_a($)))},L.$$arity=-2),Yt.defn(Bt,"$drop",z=function(t){return t<0&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0)),this.slice(t)},z.$$arity=1),Yt.defn(Bt,"$dup",P=function(){var t,e=P.$$p,n=Wt,$=Wt;for(e&&(P.$$p=null),$=0,t=arguments.length,n=new Array(t);$<t;$++)n[$]=arguments[$];return this.$$class===Yt.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):Jt(this,Yt.find_super_dispatcher(this,"dup",P,!1),n,e)},P.$$arity=0),Yt.defn(Bt,"$each",D=function(){var t,e=D.$$p,n=e||Wt;if(e&&(D.$$p=null),n===Wt)return Jt(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $=0,r=this.length;$<r;$++)Yt.yield1(n,this[$]);return this},D.$$arity=0),Yt.defn(Bt,"$each_index",B=function(){var t,e=B.$$p,n=e||Wt;if(e&&(B.$$p=null),n===Wt)return Jt(this,"enum_for",["each_index"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $=0,r=this.length;$<r;$++)Yt.yield1(n,$);return this},B.$$arity=0),Yt.defn(Bt,"$empty?",q=function(){return 0===this.length},q.$$arity=0),Yt.defn(Bt,"$eql?",U=function(t){var s={};return function t(e,n){var $,r,o,i;if(!n.$$is_array)return!1;if(n=n.$to_a(),e.length!==n.length)return!1;for(s[e.$object_id()]=!0,$=0,r=e.length;$<r;$++)if(o=e[$],i=n[$],o.$$is_array){if(i.$$is_array&&i.length!==o.length)return!1;if(!s.hasOwnProperty(o.$object_id())&&!t(o,i))return!1}else if(!o["$eql?"](i))return!1;return!0}(this,t)},U.$$arity=1),Yt.defn(Bt,"$fetch",F=function(t,e){var n=F.$$p,$=n||Wt;n&&(F.$$p=null);var r=t;return(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&(t+=this.length),0<=t&&t<this.length?this[t]:$!==Wt?$(r):null!=e?e:void(0===this.length?this.$raise(Yt.const_get(Ft,"IndexError",!0,!0),"index "+r+" outside of array bounds: 0...0"):this.$raise(Yt.const_get(Ft,"IndexError",!0,!0),"index "+r+" outside of array bounds: -"+this.length+"..."+this.length))},F.$$arity=-2),Yt.defn(Bt,"$fill",G=function(t){var e,n,$,r,o,i=this,s=G.$$p,l=s||Wt,a=Wt,c=Wt,u=Wt,_=Wt,d=Wt,f=arguments.length,p=f-0;p<0&&(p=0),$=new Array(p);for(var h=0;h<f;h++)$[h-0]=arguments[h];if(s&&(G.$$p=null),!1!==l&&l!==Wt&&null!=l?((e=2<$.length)===Wt||null==e||e.$$is_boolean&&1!=e||i.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"wrong number of arguments ("+$.$length()+" for 0..2)"),n=$,a=null==(e=Yt.to_ary(n))[0]?Wt:e[0],c=null==e[1]?Wt:e[1]):((e=0==$.length)===Wt||null==e||e.$$is_boolean&&1!=e?(e=3<$.length)===Wt||null==e||e.$$is_boolean&&1!=e||i.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"wrong number of arguments ("+$.$length()+" for 1..3)"):i.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),n=$,u=null==(e=Yt.to_ary(n))[0]?Wt:e[0],a=null==e[1]?Wt:e[1],c=null==e[2]?Wt:e[2]),(e=Yt.const_get(Ft,"Range",!0,!0)["$==="](a))===Wt||null==e||e.$$is_boolean&&1!=e)if(!1!==a&&a!==Wt&&null!=a)if((e=(_=Yt.Opal.$coerce_to(a,Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||(_+=i.length),(e=_<0)===Wt||null==e||e.$$is_boolean&&1!=e||(_=0),!1!==c&&c!==Wt&&null!=c){if((e=0==(d=Yt.Opal.$coerce_to(c,Yt.Integer,"to_int")))!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return i;d+=_}else d=i.length;else _=0,d=i.length;else if(!1!==c&&c!==Wt&&null!=c&&i.$raise(Yt.const_get(Ft,"TypeError",!0,!0),"length invalid with range"),(e=(_=Yt.Opal.$coerce_to(a.$begin(),Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||(_+=i.length),(e=_<0)===Wt||null==e||e.$$is_boolean&&1!=e||i.$raise(Yt.const_get(Ft,"RangeError",!0,!0),a.$inspect()+" out of range"),(e=(d=Yt.Opal.$coerce_to(a.$end(),Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||(d+=i.length),((e=a["$exclude_end?"]())===Wt||null==e||e.$$is_boolean&&1!=e)&&(d+=1),(e=d<=_)!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return i;if((e=_>i.length)!==Wt&&null!=e&&(!e.$$is_boolean||1==e))for(r=i.length;r<d;r++)i[r]=Wt;if((e=d>i.length)===Wt||null==e||e.$$is_boolean&&1!=e||(i.length=d),!1!==l&&l!==Wt&&null!=l)for(i.length;_<d;_++)o=l(_),i[_]=o;else for(i.length;_<d;_++)i[_]=u;return i},G.$$arity=-1),Yt.defn(Bt,"$first",H=function(t){return null==t?0===this.length?Wt:this[0]:((t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative array size"),this.slice(0,t))},H.$$arity=-1),Yt.defn(Bt,"$flatten",Y=function(t){var l=this;return void 0!==t&&(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int")),Gt(function t(e,n){var $,r,o,i,s=[];for($=0,r=(e=e.$to_a()).length;$<r;$++)if(o=e[$],Yt.Opal["$respond_to?"](o,"to_ary"))if((i=o.$to_ary())!==Wt)switch(i.$$is_array||l.$raise(Yt.const_get(Ft,"TypeError",!0,!0)),i===l&&l.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0)),n){case void 0:s=s.concat(t(i));break;case 0:s.push(i);break;default:s.push.apply(s,t(i,n-1))}else s.push(o);else s.push(o);return s}(l,t),l.$class())},Y.$$arity=-1),Yt.defn(Bt,"$flatten!",K=function(t){var e=this.$flatten(t);if(this.length==e.length){for(var n=0,$=this.length;n<$&&this[n]===e[n];n++);if(n==$)return Wt}return this.$replace(e),this},K.$$arity=-1),Yt.defn(Bt,"$hash",W=function(){var t,e,n,$=null==Yt.hash_ids,r=["A"],o=this.$object_id();try{if($&&(Yt.hash_ids={}),Yt.hash_ids.hasOwnProperty(o))return"self";for(n in Yt.hash_ids)if(Yt.hash_ids.hasOwnProperty(n)&&(t=Yt.hash_ids[n],this["$eql?"](t)))return"self";for(Yt.hash_ids[o]=this,e=0;e<this.length;e++)t=this[e],r.push(t.$hash());return r.join(",")}finally{$&&delete Yt.hash_ids}},W.$$arity=0),Yt.defn(Bt,"$include?",X=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return!0;return!1},X.$$arity=1),Yt.defn(Bt,"$index",V=function(t){var e,n,$,r=V.$$p,o=r||Wt;if(r&&(V.$$p=null),null!=t){for(e=0,n=this.length;e<n;e++)if(this[e]["$=="](t))return e}else{if(o===Wt)return this.$enum_for("index");for(e=0,n=this.length;e<n;e++)if(!1!==($=o(this[e]))&&$!==Wt)return e}return Wt},V.$$arity=-1),Yt.defn(Bt,"$insert",J=function(t,e){var n,$=arguments.length,r=$-1;r<0&&(r=0),n=new Array(r);for(var o=1;o<$;o++)n[o-1]=arguments[o];if(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),0<n.length){if(t<0&&(t+=this.length+1)<0&&this.$raise(Yt.const_get(Ft,"IndexError",!0,!0),t+" is out of bounds"),t>this.length)for(var i=this.length;i<t;i++)this.push(Wt);this.splice.apply(this,[t,0].concat(n))}return this},J.$$arity=-2),Yt.defn(Bt,"$inspect",Z=function(){for(var t=[],e=this.$__id__(),n=0,$=this.length;n<$;n++){var r=this["$[]"](n);r.$__id__()===e?t.push("[...]"):t.push(r.$inspect())}return"["+t.join(", ")+"]"},Z.$$arity=0),Yt.defn(Bt,"$join",Q=function(t){var e;if(null==Zt[","]&&(Zt[","]=Wt),null==t&&(t=Wt),(e=0===this.length)!==Wt&&null!=e&&(!e.$$is_boolean||1==e))return"";(e=t===Wt)===Wt||null==e||e.$$is_boolean&&1!=e||(t=Zt[","]);var n,$,r,o,i=[];for(n=0,$=this.length;n<$;n++)r=this[n],Yt.Opal["$respond_to?"](r,"to_str")&&(o=r.$to_str())!==Wt?i.push(o.$to_s()):Yt.Opal["$respond_to?"](r,"to_ary")&&((o=r.$to_ary())===this&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0)),o!==Wt)?i.push(o.$join(t)):Yt.Opal["$respond_to?"](r,"to_s")&&(o=r.$to_s())!==Wt?i.push(o):this.$raise(Yt.const_get(Ft,"NoMethodError",!0,!0).$new(Yt.Opal.$inspect(r)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return t===Wt?i.join(""):i.join(Yt.Opal["$coerce_to!"](t,Yt.String,"to_str").$to_s())},Q.$$arity=-1),Yt.defn(Bt,"$keep_if",tt=function(){var t,e=tt.$$p,n=e||Wt;if(e&&(tt.$$p=null),n===Wt)return Jt(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r=0,o=this.length;r<o;r++)!1!==($=n(this[r]))&&$!==Wt||(this.splice(r,1),o--,r--);return this},tt.$$arity=0),Yt.defn(Bt,"$last",et=function(t){return null==t?0===this.length?Wt:this[this.length-1]:((t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative array size"),t>this.length&&(t=this.length),this.slice(this.length-t,this.length))},et.$$arity=-1),Yt.defn(Bt,"$length",nt=function(){return this.length},nt.$$arity=0),Yt.alias(Bt,"map","collect"),Yt.alias(Bt,"map!","collect!"),Yt.defn(Bt,"$permutation",$t=function(e){var n,s,t,l,a=this,$=$t.$$p,r=$||Wt,o=Wt,i=Wt;if($&&($t.$$p=null),r===Wt)return Jt(a,"enum_for",["permutation",e],((n=function(){var t=n.$$s||this;return function(t,e){for(var n=0<=e?1:0;e;)n*=t,t--,e--;return n}(t.length,void 0===e?t.length:e)}).$$s=a,n.$$arity=0,n));if((e=void 0===e?a.length:Yt.Opal.$coerce_to(e,Yt.Integer,"to_int"))<0||a.length<e);else if(0===e)Yt.yield1(r,[]);else if(1===e)for(var c=0;c<a.length;c++)Yt.yield1(r,[a[c]]);else o=Yt.const_get(Ft,"Array",!0,!0).$new(e),i=Yt.const_get(Ft,"Array",!0,!0).$new(a.length,!1),s=function(t,e,n,$,r){a=this;for(var o=0;o<a.length;o++)if($["$[]"](o)["$!"]())if(e[n]=o,n<t-1)$[o]=!0,s.call(a,t,e,n+1,$,r),$[o]=!1;else{l=[];for(var i=0;i<e.length;i++)l.push(a[e[i]]);Yt.yield1(r,l)}},r!==Wt?(t=a.slice(),s.call(t,e,o,0,i,r)):s.call(a,e,o,0,i,r);return a},$t.$$arity=-1),Yt.defn(Bt,"$repeated_permutation",rt=function(t){var r,o,e=rt.$$p,i=e||Wt;if(e&&(rt.$$p=null),o=Yt.Opal["$coerce_to!"](t,Yt.Integer,"to_int"),i===Wt)return Jt(this,"enum_for",["repeated_permutation",o],((r=function(){var t,e,n,$=r.$$s||this;return n=0,(t="number"==typeof(e=o)&&"number"==typeof n?n<=e:e["$>="](n))===Wt||null==t||t.$$is_boolean&&1!=t?0:$.$size()["$**"](o)}).$$s=this,r.$$arity=0,r));return function t(e,n,$){if(n.length!=e)for(var r=0;r<$.length;r++)n.push($[r]),t(e,n,$),n.pop();else{var o=n.slice();Yt.yield1(i,o)}}(o,[],this.slice()),this},rt.$$arity=1),Yt.defn(Bt,"$pop",ot=function(t){var e,n=this;return(e=void 0===t)===Wt||null==e||e.$$is_boolean&&1!=e?((e=(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||n.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative array size"),(e=0===n.length)===Wt||null==e||e.$$is_boolean&&1!=e?(e=t>n.length)===Wt||null==e||e.$$is_boolean&&1!=e?n.splice(n.length-t,n.length):n.splice(0,n.length):[]):(e=0===n.length)===Wt||null==e||e.$$is_boolean&&1!=e?n.pop():Wt},ot.$$arity=-1),Yt.defn(Bt,"$product",it=function(t){var e,n=it.$$p,$=n||Wt,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];n&&(it.$$p=null);var s,l,a,c,u=$!==Wt?null:[],_=e.length+1,d=new Array(_),f=new Array(_),p=new Array(_),h=1;for(p[0]=this,s=1;s<_;s++)p[s]=Yt.Opal.$coerce_to(e[s-1],Yt.const_get(Ft,"Array",!0,!0),"to_ary");for(s=0;s<_;s++){if(0===(c=p[s].length))return u||this;2147483647<(h*=c)&&this.$raise(Yt.const_get(Ft,"RangeError",!0,!0),"too big to product"),f[s]=c,d[s]=0}t:for(;;){for(a=[],s=0;s<_;s++)a.push(p[s][d[s]]);for(u?u.push(a):Yt.yield1($,a),d[l=_-1]++;d[l]===f[l];){if(d[l]=0,--l<0)break t;d[l]++}}return u||this},it.$$arity=-1),Yt.defn(Bt,"$push",st=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=0,i=e.length;o<i;o++)this.push(e[o]);return this},st.$$arity=-1),Yt.defn(Bt,"$rassoc",lt=function(t){for(var e,n=0,$=this.length;n<$;n++)if((e=this[n]).length&&void 0!==e[1]&&e[1]["$=="](t))return e;return Wt},lt.$$arity=1),Yt.defn(Bt,"$reject",at=function(){var t,e=at.$$p,n=e||Wt;if(e&&(at.$$p=null),n===Wt)return Jt(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r=[],o=0,i=this.length;o<i;o++)!1!==($=n(this[o]))&&$!==Wt||r.push(this[o]);return r},at.$$arity=0),Yt.defn(Bt,"$reject!",ct=function(){var t,e,n=ct.$$p,$=n||Wt;return n&&(ct.$$p=null),$===Wt?Jt(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(e=this.$length(),Jt(this,"delete_if",[],$.$to_proc()),this.$length()["$=="](e)?Wt:this)},ct.$$arity=0),Yt.defn(Bt,"$replace",ut=function(t){var e;return t=(e=Yt.const_get(Ft,"Array",!0,!0)["$==="](t))===Wt||null==e||e.$$is_boolean&&1!=e?Yt.Opal.$coerce_to(t,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():t.$to_a(),this.splice(0,this.length),this.push.apply(this,t),this},ut.$$arity=1),Yt.defn(Bt,"$reverse",_t=function(){return this.slice(0).reverse()},_t.$$arity=0),Yt.defn(Bt,"$reverse!",dt=function(){return this.reverse()},dt.$$arity=0),Yt.defn(Bt,"$reverse_each",ft=function(){var t,e=ft.$$p,n=e||Wt;return e&&(ft.$$p=null),n===Wt?Jt(this,"enum_for",["reverse_each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(Jt(this.$reverse(),"each",[],n.$to_proc()),this)},ft.$$arity=0),Yt.defn(Bt,"$rindex",pt=function(t){var e,n,$=pt.$$p,r=$||Wt;if($&&(pt.$$p=null),null!=t){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(this[e]["$=="](t))return e}else if(r!==Wt){for(e=this.length-1;0<=e&&!(e>=this.length);e--)if(!1!==(n=r(this[e]))&&n!==Wt)return e}else if(null==t)return this.$enum_for("rindex");return Wt},pt.$$arity=-1),Yt.defn(Bt,"$rotate",ht=function(t){var e,n,$,r;return null==t&&(t=1),t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),1===this.length?this.slice():0===this.length?[]:(n=t%(e=this.slice()).length,$=e.slice(n),r=e.slice(0,n),$.concat(r))},ht.$$arity=-1),Yt.defn(Bt,"$rotate!",gt=function(t){var e;return null==t&&(t=1),0===this.length||1===this.length?this:(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),e=this.$rotate(t),this.$replace(e))},gt.$$arity=-1),function(t,e,n){function $(){}var r,o,i=$=Xt(t,null,"SampleRandom",$),s=i.$$proto,l=i.$$scope,a=n.slice().concat(l);s.rng=Wt,Yt.defn(i,"$initialize",r=function(t){return this.rng=t},r.$$arity=1),Yt.defn(i,"$rand",o=function(t){var e,n;return(e=(n=Yt.Opal.$coerce_to(this.rng.$rand(t),Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||this.$raise(Yt.const_get(a,"RangeError",!0,!0),"random value must be >= 0"),((e=n<t)===Wt||null==e||e.$$is_boolean&&1!=e)&&this.$raise(Yt.const_get(a,"RangeError",!0,!0),"random value must be less than Array size"),n},o.$$arity=1)}(Ut.base,0,Ft),Yt.defn(Bt,"$sample",bt=function(t,e){var n,$,r,o,i,s,l,a,c,u=this,_=Wt,d=Wt;if((n=void 0===t)!==Wt&&null!=n&&(!n.$$is_boolean||1==n))return u.$at(Yt.const_get(Ft,"Kernel",!0,!0).$rand(u.length));if((n=void 0===e)===Wt||null==n||n.$$is_boolean&&1!=n?(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),e=Yt.Opal.$coerce_to(e,Yt.const_get(Ft,"Hash",!0,!0),"to_hash")):(n=_=Yt.Opal["$coerce_to?"](t,Yt.const_get(Ft,"Hash",!0,!0),"to_hash"))===Wt||null==n||n.$$is_boolean&&1!=n?(e=Wt,t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int")):(e=_,t=Wt),(n=!1!==t&&t!==Wt&&null!=t?t<0:t)===Wt||null==n||n.$$is_boolean&&1!=n||u.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"count must be greater than 0"),!1!==e&&e!==Wt&&null!=e&&(d=e["$[]"]("random")),d=(n=!1!==d&&d!==Wt&&null!=d?d["$respond_to?"]("rand"):d)===Wt||null==n||n.$$is_boolean&&1!=n?Yt.const_get(Ft,"Kernel",!0,!0):Yt.const_get(Ft,"SampleRandom",!0,!0).$new(d),!1===t||t===Wt||null==t)return u[d.$rand(u.length)];switch(t>u.length&&(t=u.length),t){case 0:return[];case 1:return[u[d.$rand(u.length)]];case 2:return(i=d.$rand(u.length))===(s=d.$rand(u.length))&&(s=0===i?i+1:i-1),[u[i],u[s]];default:if(3<u.length/t){for($=!1,r=0,i=1,(o=Yt.const_get(Ft,"Array",!0,!0).$new(t))[0]=d.$rand(u.length);i<t;){for(l=d.$rand(u.length),s=0;s<i;){for(;l===o[s];){if(100<++r){$=!0;break}l=d.$rand(u.length)}if($)break;s++}if($)break;o[i]=l,i++}if(!$){for(i=0;i<t;)o[i]=u[o[i]],i++;return o}}o=u.slice();for(var f=0;f<t;f++)a=d.$rand(u.length),c=o[f],o[f]=o[a],o[a]=c;return t===u.length?o:o["$[]"](0,t)}},bt.$$arity=-1),Yt.defn(Bt,"$select",mt=function(){var t,e=mt.$$p,n=e||Wt;if(e&&(mt.$$p=null),n===Wt)return Jt(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o=[],i=0,s=this.length;i<s;i++)$=this[i],!1!==(r=Yt.yield1(n,$))&&r!==Wt&&o.push($);return o},mt.$$arity=0),Yt.defn(Bt,"$select!",yt=function(){var t,e=yt.$$p,n=e||Wt;if(e&&(yt.$$p=null),n===Wt)return Jt(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));var $=this.length;return Jt(this,"keep_if",[],n.$to_proc()),this.length===$?Wt:this},yt.$$arity=0),Yt.defn(Bt,"$shift",vt=function(t){var e;return(e=void 0===t)===Wt||null==e||e.$$is_boolean&&1!=e?((e=(t=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0)===Wt||null==e||e.$$is_boolean&&1!=e||this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"negative array size"),(e=0===this.length)===Wt||null==e||e.$$is_boolean&&1!=e?this.splice(0,t):[]):(e=0===this.length)===Wt||null==e||e.$$is_boolean&&1!=e?this.shift():Wt},vt.$$arity=-1),Yt.alias(Bt,"size","length"),Yt.defn(Bt,"$shuffle",wt=function(t){return this.$dup().$to_a()["$shuffle!"](t)},wt.$$arity=-1),Yt.defn(Bt,"$shuffle!",xt=function(t){var e,n,$,r=this.length;for(void 0!==t&&(t=Yt.Opal["$coerce_to?"](t,Yt.const_get(Ft,"Hash",!0,!0),"to_hash"))!==Wt&&(t=t["$[]"]("random"))!==Wt&&t["$respond_to?"]("rand")&&(e=t);r;)e?((n=e.$rand(r).$to_int())<0&&this.$raise(Yt.const_get(Ft,"RangeError",!0,!0),"random number too small "+n),r<=n&&this.$raise(Yt.const_get(Ft,"RangeError",!0,!0),"random number too big "+n)):n=this.$rand(r),$=this[--r],this[r]=this[n],this[n]=$;return this},xt.$$arity=-1),Yt.alias(Bt,"slice","[]"),Yt.defn(Bt,"$slice!",kt=function(t,e){var n,$=this,r=Wt,o=Wt,i=Wt,s=Wt,l=Wt;if((n=void 0===e)===(r=Wt)||null==n||n.$$is_boolean&&1!=n){if(l=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),(e=Yt.Opal.$coerce_to(e,Yt.Integer,"to_int"))<0)return Wt;r=$["$[]"](l,e),l<0&&(l+=$.length),l+e>$.length&&(e=$.length-l),l<$.length&&0<=l&&$.splice(l,e)}else if((n=Yt.const_get(Ft,"Range",!0,!0)["$==="](t))===Wt||null==n||n.$$is_boolean&&1!=n){if((l=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"))<0&&(l+=$.length),l<0||l>=$.length)return Wt;r=$[l],0===l?$.shift():$.splice(l,1)}else{o=t,r=$["$[]"](o),i=Yt.Opal.$coerce_to(o.$begin(),Yt.Integer,"to_int"),s=Yt.Opal.$coerce_to(o.$end(),Yt.Integer,"to_int"),i<0&&(i+=$.length),s<0?s+=$.length:s>=$.length&&(s=$.length-1,o.exclude&&(s+=1));var a=s-i;o.exclude?s-=1:a+=1,i<$.length&&0<=i&&s<$.length&&0<=s&&0<a&&$.splice(i,a)}return r},kt.$$arity=-2),Yt.defn(Bt,"$sort",Ot=function(){var t,o=this,e=Ot.$$p,i=e||Wt;return e&&(Ot.$$p=null),(t=1<o.length)===Wt||null==t||t.$$is_boolean&&1!=t?o:(i===Wt&&(i=function(t,e){return t["$<=>"](e)}),o.slice().sort(function(t,e){var n,$,r=i(t,e);return r===Wt&&o.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"comparison of "+t.$inspect()+" with "+e.$inspect()+" failed"),Kt(r,0)?1:($=0,("number"==typeof(n=r)&&"number"==typeof $?n<$:n["$<"]($))?-1:0)}))},Ot.$$arity=0),Yt.defn(Bt,"$sort!",Et=function(){var t,e=Et.$$p,n=e||Wt;e&&(Et.$$p=null),t=n!==Wt?Jt(this.slice(),"sort",[],n.$to_proc()):this.slice().$sort();for(var $=this.length=0,r=t.length;$<r;$++)this.push(t[$]);return this},Et.$$arity=0),Yt.defn(Bt,"$sort_by!",At=function(){var t,e=At.$$p,n=e||Wt;return e&&(At.$$p=null),n===Wt?Jt(this,"enum_for",["sort_by!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):this.$replace(Jt(this,"sort_by",[],n.$to_proc()))},At.$$arity=0),Yt.defn(Bt,"$take",St=function(t){return t<0&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0)),this.slice(0,t)},St.$$arity=1),Yt.defn(Bt,"$take_while",Rt=function(){var t=Rt.$$p,e=t||Wt;t&&(Rt.$$p=null);for(var n,$,r=[],o=0,i=this.length;o<i;o++){if(!1===($=e(n=this[o]))||$===Wt)return r;r.push(n)}return r},Rt.$$arity=0),Yt.defn(Bt,"$to_a",Mt=function(){return this},Mt.$$arity=0),Yt.alias(Bt,"to_ary","to_a"),Yt.defn(Bt,"$to_h",Tt=function(){var t,e,n,$,r=this.length,o=Vt([],{});for(t=0;t<r;t++)(e=Yt.Opal["$coerce_to?"](this[t],Yt.const_get(Ft,"Array",!0,!0),"to_ary")).$$is_array||this.$raise(Yt.const_get(Ft,"TypeError",!0,!0),"wrong element type "+e.$class()+" at "+t+" (expected array)"),2!==e.length&&this.$raise(Yt.const_get(Ft,"ArgumentError",!0,!0),"wrong array length at "+t+" (expected 2, was "+e.$length()+")"),n=e[0],$=e[1],Yt.hash_put(o,n,$);return o},Tt.$$arity=0),Yt.alias(Bt,"to_s","inspect"),Yt.defn(Bt,"$transpose",It=function(){var t,n,i,$=Wt;return(t=this["$empty?"]())===Wt||null==t||t.$$is_boolean&&1!=t?(i=[],$=Wt,Jt(this,"each",[],((n=function(r){var t,o,e=n.$$s||this;return null==r&&(r=Wt),r=(t=Yt.const_get(Ft,"Array",!0,!0)["$==="](r))===Wt||null==t||t.$$is_boolean&&1!=t?Yt.Opal.$coerce_to(r,Yt.const_get(Ft,"Array",!0,!0),"to_ary").$to_a():r.$to_a(),!1!==(t=$)&&t!==Wt&&null!=t||($=r.length),(t=r.length["$!="]($))===Wt||null==t||t.$$is_boolean&&1!=t||e.$raise(Yt.const_get(Ft,"IndexError",!0,!0),"element size differs ("+r.length+" should be "+$),Jt(r.length,"times",[],((o=function(t){var e,n,$;o.$$s;return null==t&&(t=Wt),(!1!==($=(n=i)["$[]"](e=t))&&$!==Wt&&null!=$?$:n["$[]="](e,[]))["$<<"](r.$at(t))}).$$s=e,o.$$arity=1,o))}).$$s=this,n.$$arity=1,n)),i):[]},It.$$arity=0),Yt.defn(Bt,"$uniq",Ct=function(){var t=Ct.$$p,e=t||Wt;t&&(Ct.$$p=null);var n,$,r,o,i=Vt([],{});if(e===Wt)for(n=0,$=this.length;n<$;n++)r=this[n],void 0===Yt.hash_get(i,r)&&Yt.hash_put(i,r,r);else for(n=0,$=this.length;n<$;n++)r=this[n],o=Yt.yield1(e,r),void 0===Yt.hash_get(i,o)&&Yt.hash_put(i,o,r);return Gt(i.$values(),this.$class())},Ct.$$arity=0),Yt.defn(Bt,"$uniq!",Nt=function(){var t=Nt.$$p,e=t||Wt;t&&(Nt.$$p=null);var n,$,r,o,i=this.length,s=Vt([],{});for(n=0,$=i;n<$;n++)r=this[n],o=e===Wt?r:Yt.yield1(e,r),void 0!==Yt.hash_get(s,o)?(this.splice(n,1),$--,n--):Yt.hash_put(s,o,r);return this.length===i?Wt:this},Nt.$$arity=0),Yt.defn(Bt,"$unshift",jt=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o=e.length-1;0<=o;o--)this.unshift(e[o]);return this},jt.$$arity=-1),Yt.defn(Bt,"$values_at",Lt=function(t){var s,e,l=Wt,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return l=[],Jt(e,"each",[],((s=function(t){var e,n,$=s.$$s||this,r=Wt,o=Wt,i=Wt;return null==t&&(t=Wt),(e=t["$kind_of?"](Yt.const_get(Ft,"Range",!0,!0)))===Wt||null==e||e.$$is_boolean&&1!=e?(i=Yt.Opal.$coerce_to(t,Yt.Integer,"to_int"),l["$<<"]($.$at(i))):(r=Yt.Opal.$coerce_to(t.$last(),Yt.Integer,"to_int"),(o=Yt.Opal.$coerce_to(t.$first(),Yt.Integer,"to_int"))<0?(o+=$.length,Wt):(r<0&&(r+=$.length),t["$exclude_end?"]()&&r--,r<o?Wt:Jt(o,"upto",[r],((n=function(t){var e=n.$$s||this;return null==t&&(t=Wt),l["$<<"](e.$at(t))}).$$s=$,n.$$arity=1,n))))}).$$s=this,s.$$arity=1,s)),l},Lt.$$arity=-1),Yt.defn(Bt,"$zip",zt=function(t){var e,n,$=zt.$$p,r=$||Wt,o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<o;s++)n[s-0]=arguments[s];$&&(zt.$$p=null);var l,a,c,u,_,d=[],f=this.length;for(u=0,_=n.length;u<_;u++)(a=n[u]).$$is_array||(a.$$is_enumerator?a.$size()===1/0?n[u]=a.$take(f):n[u]=a.$to_a():n[u]=(!1!==(e=Yt.Opal["$coerce_to?"](a,Yt.const_get(Ft,"Array",!0,!0),"to_ary"))&&e!==Wt&&null!=e?e:Yt.Opal["$coerce_to!"](a,Yt.const_get(Ft,"Enumerator",!0,!0),"each")).$to_a());for(c=0;c<f;c++){for(l=[this[c]],u=0,_=n.length;u<_;u++)null==(a=n[u][c])&&(a=Wt),l[u+1]=a;d[c]=l}if(r!==Wt){for(c=0;c<f;c++)r(d[c]);return Wt}return d},zt.$$arity=-1),Yt.defs(Bt,"$inherited",Pt=function(t){t.$$proto.$to_a=function(){return this.slice(0,this.length)}},Pt.$$arity=1),Yt.defn(Bt,"$instance_variables",Dt=function(){var n,t,e=Dt.$$p,$=Wt,r=Wt;for(e&&(Dt.$$p=null),r=0,t=arguments.length,$=new Array(t);r<t;r++)$[r]=arguments[r];return Jt(Jt(this,Yt.find_super_dispatcher(this,"instance_variables",Dt,!1),$,e),"reject",[],((n=function(t){var e;n.$$s;return null==t&&(t=Wt),!1!==(e=/^@\d+$/.test(t))&&e!==Wt&&null!=e?e:t["$=="]("@length")}).$$s=this,n.$$arity=1,n))},Dt.$$arity=0),Yt.Opal.$pristine(Bt,"allocate","copy_instance_variables","initialize_dup")}(e.base,Array,n)},Opal.modules["corelib/hash"]=function(lt){function at(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function ct(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t=lt.top,e=lt,n=[lt],ut=lt.nil,_t=(lt.breaker,lt.slice,lt.klass),dt=lt.send;return lt.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$coerce_to!","$each","$fetch","$>=","$>","$==","$lambda?","$abs","$arity","$call","$enum_for","$size","$respond_to?","$class","$dig","$inspect","$map","$to_proc","$flatten","$eql?","$default","$dup","$default_proc","$default_proc=","$-","$default=","$alias_method","$proc"]),t.$require("corelib/enumerable"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,$t,rt=$=_t(t,null,"Hash",$),ot=rt.$$proto,it=rt.$$scope,st=n.slice().concat(it);return rt.$include(lt.const_get(st,"Enumerable",!0,!0)),ot.$$is_hash=!0,lt.defs(rt,"$[]",r=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];var o,i,s=e.length;if(1===s){if((o=lt.Opal["$coerce_to?"](e["$[]"](0),lt.const_get(st,"Hash",!0,!0),"to_hash"))!==ut)return this.$allocate()["$merge!"](o);for((e=lt.Opal["$coerce_to?"](e["$[]"](0),lt.const_get(st,"Array",!0,!0),"to_ary"))===ut&&this.$raise(lt.const_get(st,"ArgumentError",!0,!0),"odd number of arguments for Hash"),s=e.length,o=this.$allocate(),i=0;i<s;i++)if(e[i].$$is_array)switch(e[i].length){case 1:o.$store(e[i][0],ut);break;case 2:o.$store(e[i][0],e[i][1]);break;default:this.$raise(lt.const_get(st,"ArgumentError",!0,!0),"invalid number of elements ("+e[i].length+" for 1..2)")}return o}for(s%2!=0&&this.$raise(lt.const_get(st,"ArgumentError",!0,!0),"odd number of arguments for Hash"),o=this.$allocate(),i=0;i<s;i+=2)o.$store(e[i],e[i+1]);return o},r.$$arity=-1),lt.defs(rt,"$allocate",o=function(){var t=new this.$$alloc;return lt.hash_init(t),t.$$none=ut,t.$$proc=ut,t},o.$$arity=0),lt.defs(rt,"$try_convert",i=function(t){return lt.Opal["$coerce_to?"](t,lt.const_get(st,"Hash",!0,!0),"to_hash")},i.$$arity=1),lt.defn(rt,"$initialize",s=function(t){var e=s.$$p,n=e||ut;return e&&(s.$$p=null),void 0!==t&&n!==ut&&this.$raise(lt.const_get(st,"ArgumentError",!0,!0),"wrong number of arguments (1 for 0)"),this.$$none=void 0===t?ut:t,this.$$proc=n,this},s.$$arity=-1),lt.defn(rt,"$==",l=function(t){if(this===t)return!0;if(!t.$$is_hash)return!1;if(this.$$keys.length!==t.$$keys.length)return!1;for(var e,n,$,r=0,o=this.$$keys,i=o.length;r<i;r++)if((e=o[r]).$$is_string?(n=this.$$smap[e],$=t.$$smap[e]):(n=e.value,$=lt.hash_get(t,e.key)),void 0===$||!n["$eql?"]($))return!1;return!0},l.$$arity=1),lt.defn(rt,"$>=",a=function(t){var r,o=ut;return t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"),!(this.$$keys.length<t.$$keys.length)&&(o=!0,dt(t,"each",[],((r=function(t,e){var n,$=r.$$s||this;null==t&&(t=ut),null==e&&(e=ut),null!=(n=$.$fetch(t,null))&&n===e||(o=!1)}).$$s=this,r.$$arity=2,r)),o)},a.$$arity=1),lt.defn(rt,"$>",c=function(t){return t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"),!(this.$$keys.length<=t.$$keys.length)&&at(this,t)},c.$$arity=1),lt.defn(rt,"$<",u=function(t){var e,n;return t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"),n=this,"number"==typeof(e=t)&&"number"==typeof n?n<e:e["$>"](n)},u.$$arity=1),lt.defn(rt,"$<=",_=function(t){return at(t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"),this)},_.$$arity=1),lt.defn(rt,"$[]",d=function(t){var e=lt.hash_get(this,t);return void 0!==e?e:this.$default(t)},d.$$arity=1),lt.defn(rt,"$[]=",f=function(t,e){return lt.hash_put(this,t,e),e},f.$$arity=2),lt.defn(rt,"$assoc",p=function(t){for(var e,n=0,$=this.$$keys,r=$.length;n<r;n++)if((e=$[n]).$$is_string){if(e["$=="](t))return[e,this.$$smap[e]]}else if(e.key["$=="](t))return[e.key,e.value];return ut},p.$$arity=1),lt.defn(rt,"$clear",h=function(){return lt.hash_init(this),this},h.$$arity=0),lt.defn(rt,"$clone",g=function(){var t=new this.$$class.$$alloc;return lt.hash_init(t),lt.hash_clone(this,t),t},g.$$arity=0),lt.defn(rt,"$default",b=function(t){return void 0!==t&&this.$$proc!==ut&&void 0!==this.$$proc?this.$$proc.$call(this,t):void 0===this.$$none?ut:this.$$none},b.$$arity=-1),lt.defn(rt,"$default=",m=function(t){return this.$$proc=ut,this.$$none=t},m.$$arity=1),lt.defn(rt,"$default_proc",y=function(){return void 0!==this.$$proc?this.$$proc:ut},y.$$arity=0),lt.defn(rt,"$default_proc=",v=function(t){var e=t;return e!==ut&&(e=lt.Opal["$coerce_to!"](e,lt.const_get(st,"Proc",!0,!0),"to_proc"))["$lambda?"]()&&2!==e.$arity().$abs()&&this.$raise(lt.const_get(st,"TypeError",!0,!0),"default_proc takes two arguments"),this.$$none=ut,this.$$proc=e,t},v.$$arity=1),lt.defn(rt,"$delete",w=function(t){var e=w.$$p,n=e||ut;e&&(w.$$p=null);var $=lt.hash_delete(this,t);return void 0!==$?$:n!==ut?n.$call(t):ut},w.$$arity=1),lt.defn(rt,"$delete_if",x=function(){var t,e=x.$$p,n=e||ut;if(e&&(x.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["delete_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=0,s=this.$$keys,l=s.length;i<l;i++)($=s[i]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut&&void 0!==lt.hash_delete(this,$)&&(l--,i--);return this},x.$$arity=0),lt.alias(rt,"dup","clone"),lt.defn(rt,"$dig",k=function(t,e){var n,$,r=ut,o=arguments.length,i=o-1;i<0&&(i=0),$=new Array(i);for(var s=1;s<o;s++)$[s-1]=arguments[s];return(r=this["$[]"](t))===ut||0===$.length?r:(((n=r["$respond_to?"]("dig"))===ut||null==n||n.$$is_boolean&&1!=n)&&this.$raise(lt.const_get(st,"TypeError",!0,!0),r.$class()+" does not have #dig method"),dt(r,"dig",lt.to_a($)))},k.$$arity=-2),lt.defn(rt,"$each",O=function(){var t,e=O.$$p,n=e||ut;if(e&&(O.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o=0,i=this.$$keys,s=i.length;o<s;o++)($=i[o]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),lt.yield1(n,[$,r]);return this},O.$$arity=0),lt.defn(rt,"$each_key",E=function(){var t,e=E.$$p,n=e||ut;if(e&&(E.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["each_key"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r=0,o=this.$$keys,i=o.length;r<i;r++)n(($=o[r]).$$is_string?$:$.key);return this},E.$$arity=0),lt.alias(rt,"each_pair","each"),lt.defn(rt,"$each_value",A=function(){var t,e=A.$$p,n=e||ut;if(e&&(A.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["each_value"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r=0,o=this.$$keys,i=o.length;r<i;r++)n(($=o[r]).$$is_string?this.$$smap[$]:$.value);return this},A.$$arity=0),lt.defn(rt,"$empty?",S=function(){return 0===this.$$keys.length},S.$$arity=0),lt.alias(rt,"eql?","=="),lt.defn(rt,"$fetch",R=function(t,e){var n=R.$$p,$=n||ut;n&&(R.$$p=null);var r=lt.hash_get(this,t);return void 0!==r?r:$!==ut?$(t):void 0!==e?e:this.$raise(lt.const_get(st,"KeyError",!0,!0),"key not found: "+t.$inspect())},R.$$arity=-2),lt.defn(rt,"$fetch_values",M=function(t){var n,e,$=M.$$p,r=$||ut,o=arguments.length,i=o-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<o;s++)e[s-0]=arguments[s];return $&&(M.$$p=null),dt(e,"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=ut),dt(e,"fetch",[t],r.$to_proc())}).$$s=this,n.$$arity=1,n))},M.$$arity=-1),lt.defn(rt,"$flatten",T=function(t){null==t&&(t=1),t=lt.Opal["$coerce_to!"](t,lt.Integer,"to_int");for(var e,n,$=[],r=0,o=this.$$keys,i=o.length;r<i;r++)if((e=o[r]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),$.push(e),n.$$is_array){if(1===t){$.push(n);continue}$=$.concat(n.$flatten(t-2))}else $.push(n);return $},T.$$arity=-1),lt.defn(rt,"$has_key?",I=function(t){return void 0!==lt.hash_get(this,t)},I.$$arity=1),lt.defn(rt,"$has_value?",C=function(t){for(var e,n=0,$=this.$$keys,r=$.length;n<r;n++)if(((e=$[n]).$$is_string?this.$$smap[e]:e.value)["$=="](t))return!0;return!1},C.$$arity=1),lt.defn(rt,"$hash",N=function(){var t,e,n=void 0===lt.hash_ids,$=this.$object_id(),r=["Hash"];try{if(n&&(lt.hash_ids={}),lt.hash_ids.hasOwnProperty($))return"self";for(t in lt.hash_ids)if(lt.hash_ids.hasOwnProperty(t)&&(e=lt.hash_ids[t],this["$eql?"](e)))return"self";lt.hash_ids[$]=this;for(var o=0,i=this.$$keys,s=i.length;o<s;o++)(t=i[o]).$$is_string?r.push([t,this.$$smap[t].$hash()]):r.push([t.key_hash,t.value.$hash()]);return r.sort().join()}finally{n&&delete lt.hash_ids}},N.$$arity=0),lt.alias(rt,"include?","has_key?"),lt.defn(rt,"$index",j=function(t){for(var e,n,$=0,r=this.$$keys,o=r.length;$<o;$++)if((e=r[$]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return e;return ut},j.$$arity=1),lt.defn(rt,"$indexes",L=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];for(var o,i,s=[],l=0,a=e.length;l<a;l++)o=e[l],void 0!==(i=lt.hash_get(this,o))?s.push(i):s.push(this.$default());return s},L.$$arity=-1),lt.alias(rt,"indices","indexes"),lt.defn(rt,"$inspect",z=function(){var t=void 0===$t,e=this.$object_id(),n=[];try{if(t&&($t={}),$t.hasOwnProperty(e))return"{...}";$t[e]=!0;for(var $,r,o=0,i=this.$$keys,s=i.length;o<s;o++)($=i[o]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),n.push($.$inspect()+"=>"+r.$inspect());return"{"+n.join(", ")+"}"}finally{t&&($t=void 0)}},z.$$arity=0),lt.defn(rt,"$invert",P=function(){for(var t,e,n=lt.hash(),$=0,r=this.$$keys,o=r.length;$<o;$++)(t=r[$]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),lt.hash_put(n,e,t);return n},P.$$arity=0),lt.defn(rt,"$keep_if",D=function(){var t,e=D.$$p,n=e||ut;if(e&&(D.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["keep_if"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=0,s=this.$$keys,l=s.length;i<l;i++)($=s[i]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut||void 0!==lt.hash_delete(this,$)&&(l--,i--);return this},D.$$arity=0),lt.alias(rt,"key","index"),lt.alias(rt,"key?","has_key?"),lt.defn(rt,"$keys",B=function(){for(var t,e=[],n=0,$=this.$$keys,r=$.length;n<r;n++)(t=$[n]).$$is_string?e.push(t):e.push(t.key);return e},B.$$arity=0),lt.defn(rt,"$length",q=function(){return this.$$keys.length},q.$$arity=0),lt.alias(rt,"member?","has_key?"),lt.defn(rt,"$merge",U=function(t){var e=U.$$p,n=e||ut;return e&&(U.$$p=null),dt(this.$dup(),"merge!",[t],n.$to_proc())},U.$$arity=1),lt.defn(rt,"$merge!",F=function(t){var e=F.$$p,n=e||ut;e&&(F.$$p=null),t.$$is_hash||(t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"));var $,r,o,i,s=t.$$keys,l=s.length;if(n===ut){for($=0;$<l;$++)(r=s[$]).$$is_string?i=t.$$smap[r]:(i=r.value,r=r.key),lt.hash_put(this,r,i);return this}for($=0;$<l;$++)(r=s[$]).$$is_string?i=t.$$smap[r]:(i=r.value,r=r.key),void 0!==(o=lt.hash_get(this,r))?lt.hash_put(this,r,n(r,o,i)):lt.hash_put(this,r,i);return this},F.$$arity=1),lt.defn(rt,"$rassoc",G=function(t){for(var e,n,$=0,r=this.$$keys,o=r.length;$<o;$++)if((e=r[$]).$$is_string?n=this.$$smap[e]:(n=e.value,e=e.key),n["$=="](t))return[e,n];return ut},G.$$arity=1),lt.defn(rt,"$rehash",H=function(){return lt.hash_rehash(this),this},H.$$arity=0),lt.defn(rt,"$reject",Y=function(){var t,e=Y.$$p,n=e||ut;if(e&&(Y.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["reject"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=lt.hash(),s=0,l=this.$$keys,a=l.length;s<a;s++)($=l[s]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut||lt.hash_put(i,$,r);return i},Y.$$arity=0),lt.defn(rt,"$reject!",K=function(){var t,e=K.$$p,n=e||ut;if(e&&(K.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["reject!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=!1,s=0,l=this.$$keys,a=l.length;s<a;s++)($=l[s]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut&&void 0!==lt.hash_delete(this,$)&&(i=!0,a--,s--);return i?this:ut},K.$$arity=0),lt.defn(rt,"$replace",W=function(t){var e,n=ut;t=lt.Opal["$coerce_to!"](t,lt.const_get(st,"Hash",!0,!0),"to_hash"),lt.hash_init(this);for(var $,r,o=0,i=t.$$keys,s=i.length;o<s;o++)($=i[o]).$$is_string?r=t.$$smap[$]:(r=$.value,$=$.key),lt.hash_put(this,$,r);return(e=t.$default_proc())===ut||null==e||e.$$is_boolean&&1!=e?(n=[t.$default()],dt(this,"default=",lt.to_a(n))):(n=[t.$default_proc()],dt(this,"default_proc=",lt.to_a(n))),n[ct(n.length,1)],this},W.$$arity=1),lt.defn(rt,"$select",X=function(){var t,e=X.$$p,n=e||ut;if(e&&(X.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["select"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=lt.hash(),s=0,l=this.$$keys,a=l.length;s<a;s++)($=l[s]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut&&lt.hash_put(i,$,r);return i},X.$$arity=0),lt.defn(rt,"$select!",V=function(){var t,e=V.$$p,n=e||ut;if(e&&(V.$$p=null),!1===n||n===ut||null==n)return dt(this,"enum_for",["select!"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t));for(var $,r,o,i=ut,s=0,l=this.$$keys,a=l.length;s<a;s++)($=l[s]).$$is_string?r=this.$$smap[$]:(r=$.value,$=$.key),!1!==(o=n($,r))&&o!==ut||(void 0!==lt.hash_delete(this,$)&&(a--,s--),i=this);return i},V.$$arity=0),lt.defn(rt,"$shift",J=function(){var t,e=this.$$keys;return 0<e.length?[t=(t=e[0]).$$is_string?t:t.key,lt.hash_delete(this,t)]:this.$default(ut)},J.$$arity=0),lt.alias(rt,"size","length"),rt.$alias_method("store","[]="),lt.defn(rt,"$to_a",Z=function(){for(var t,e,n=[],$=0,r=this.$$keys,o=r.length;$<o;$++)(t=r[$]).$$is_string?e=this.$$smap[t]:(e=t.value,t=t.key),n.push([t,e]);return n},Z.$$arity=0),lt.defn(rt,"$to_h",Q=function(){if(this.$$class===lt.Hash)return this;var t=new lt.Hash.$$alloc;return lt.hash_init(t),lt.hash_clone(this,t),t},Q.$$arity=0),lt.defn(rt,"$to_hash",tt=function(){return this},tt.$$arity=0),lt.defn(rt,"$to_proc",et=function(){var n;return dt(this,"proc",[],((n=function(t){var e=n.$$s||this;return null==t&&e.$raise(lt.const_get(st,"ArgumentError",!0,!0),"no key given"),e["$[]"](t)}).$$s=this,n.$$arity=-1,n))},et.$$arity=0),lt.alias(rt,"to_s","inspect"),lt.alias(rt,"update","merge!"),lt.alias(rt,"value?","has_value?"),lt.alias(rt,"values_at","indexes"),lt.defn(rt,"$values",nt=function(){for(var t,e=[],n=0,$=this.$$keys,r=$.length;n<r;n++)(t=$[n]).$$is_string?e.push(this.$$smap[t]):e.push(t.value);return e},nt.$$arity=0),ut&&"values"}(e.base,0,n)},Opal.modules["corelib/number"]=function(bt){function mt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function yt(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function vt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function wt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function xt(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function kt(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}var t=bt.top,e=bt,n=[bt],Ot=bt.nil,Et=(bt.breaker,bt.slice,bt.klass),At=bt.send,St=bt.hash2;return bt.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),t.$require("corelib/numeric"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J,Z,Q,tt,et,nt,$t,rt,ot,it,st,lt,at,ct,ut,_t,dt,ft,pt=$=Et(t,e,"Number",$),ht=(pt.$$proto,pt.$$scope),gt=n.slice().concat(ht);bt.Opal.$bridge(pt,Number),Number.prototype.$$is_number=!0,pt.$$is_number_class=!0,bt.defn(pt,"$coerce",r=function(t){if(t===Ot)this.$raise(bt.const_get(gt,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float");else{if(t.$$is_string)return[this.$Float(t),this];if(t["$respond_to?"]("to_f"))return[bt.Opal["$coerce_to!"](t,bt.const_get(gt,"Float",!0,!0),"to_f"),this];if(t.$$is_number)return[t,this];this.$raise(bt.const_get(gt,"TypeError",!0,!0),"can't convert "+t.$class()+" into Float")}},r.$$arity=1),bt.defn(pt,"$__id__",o=function(){return 2*this+1},o.$$arity=0),bt.alias(pt,"object_id","__id__"),bt.defn(pt,"$+",i=function(t){return t.$$is_number?this+t:this.$__coerced__("+",t)},i.$$arity=1),bt.defn(pt,"$-",s=function(t){return t.$$is_number?this-t:this.$__coerced__("-",t)},s.$$arity=1),bt.defn(pt,"$*",l=function(t){return t.$$is_number?this*t:this.$__coerced__("*",t)},l.$$arity=1),bt.defn(pt,"$/",a=function(t){return t.$$is_number?this/t:this.$__coerced__("/",t)},a.$$arity=1),bt.alias(pt,"fdiv","/"),bt.defn(pt,"$%",c=function(t){return t.$$is_number?t==-1/0?t:0!=t?t<0||this<0?(this%t+t)%t:this%t:void this.$raise(bt.const_get(gt,"ZeroDivisionError",!0,!0),"divided by 0"):this.$__coerced__("%",t)},c.$$arity=1),bt.defn(pt,"$&",u=function(t){return t.$$is_number?this&t:this.$__coerced__("&",t)},u.$$arity=1),bt.defn(pt,"$|",_=function(t){return t.$$is_number?this|t:this.$__coerced__("|",t)},_.$$arity=1),bt.defn(pt,"$^",d=function(t){return t.$$is_number?this^t:this.$__coerced__("^",t)},d.$$arity=1),bt.defn(pt,"$<",f=function(t){return t.$$is_number?this<t:this.$__coerced__("<",t)},f.$$arity=1),bt.defn(pt,"$<=",p=function(t){return t.$$is_number?this<=t:this.$__coerced__("<=",t)},p.$$arity=1),bt.defn(pt,"$>",h=function(t){return t.$$is_number?t<this:this.$__coerced__(">",t)},h.$$arity=1),bt.defn(pt,"$>=",g=function(t){return t.$$is_number?t<=this:this.$__coerced__(">=",t)},g.$$arity=1);bt.defn(pt,"$<=>",b=function(t){var e,n;try{return e=this,(n=t).$$is_number?isNaN(e)||isNaN(n)?Ot:n<e?1:e<n?-1:0:e.$__coerced__("<=>",n)}catch(t){if(!bt.rescue(t,[bt.const_get(gt,"ArgumentError",!0,!0)]))throw t;try{return Ot}finally{bt.pop_exception()}}},b.$$arity=1),bt.defn(pt,"$<<",m=function(t){return 0<(t=bt.Opal["$coerce_to!"](t,bt.Integer,"to_int"))?this<<t:this>>-t},m.$$arity=1),bt.defn(pt,"$>>",y=function(t){return 0<(t=bt.Opal["$coerce_to!"](t,bt.Integer,"to_int"))?this>>t:this<<-t},y.$$arity=1),bt.defn(pt,"$[]",v=function(t){return(t=bt.Opal["$coerce_to!"](t,bt.Integer,"to_int"))<0?0:32<=t?this<0?1:0:this>>t&1},v.$$arity=1),bt.defn(pt,"$+@",w=function(){return+this},w.$$arity=0),bt.defn(pt,"$-@",x=function(){return-this},x.$$arity=0),bt.defn(pt,"$~",k=function(){return~this},k.$$arity=0),bt.defn(pt,"$**",O=function(t){var e,n,$;return(e=bt.Integer["$==="](t))===Ot||null==e||e.$$is_boolean&&1!=e?(e=(n=yt(this,0))?!1!==($=bt.const_get(gt,"Float",!0,!0)["$==="](t))&&$!==Ot&&null!=$?$:bt.const_get(gt,"Rational",!0,!0)["$==="](t):yt(this,0))===Ot||null==e||e.$$is_boolean&&1!=e?(e=null!=t.$$is_number)===Ot||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("**",t):Math.pow(this,t):bt.const_get(gt,"Complex",!0,!0).$new(this,0)["$**"](t.$to_f()):(e=!1!==(n=bt.Integer["$==="](this)["$!"]())&&n!==Ot&&null!=n?n:mt(t,0))===Ot||null==e||e.$$is_boolean&&1!=e?bt.const_get(gt,"Rational",!0,!0).$new(this,1)["$**"](t):Math.pow(this,t)},O.$$arity=1),bt.defn(pt,"$===",E=function(t){return t.$$is_number?this.valueOf()===t.valueOf():this["$=="](t)},E.$$arity=1),bt.defn(pt,"$==",A=function(t){return t.$$is_number?this==Number(t):!!t["$respond_to?"]("==")&&t["$=="](this)},A.$$arity=1),bt.defn(pt,"$abs",S=function(){return Math.abs(this)},S.$$arity=0),bt.defn(pt,"$abs2",R=function(){return Math.abs(this*this)},R.$$arity=0),bt.defn(pt,"$angle",M=function(){var t;return(t=this["$nan?"]())===Ot||null==t||t.$$is_boolean&&1!=t?0==this?0<1/this?0:Math.PI:this<0?Math.PI:0:this},M.$$arity=0),bt.alias(pt,"arg","angle"),bt.alias(pt,"phase","angle"),bt.defn(pt,"$bit_length",T=function(){var t;if(((t=bt.Integer["$==="](this))===Ot||null==t||t.$$is_boolean&&1!=t)&&this.$raise(bt.const_get(gt,"NoMethodError",!0,!0).$new("undefined method `bit_length` for "+this+":Float","bit_length")),0===this||-1===this)return 0;for(var e=0,n=this<0?~this:this;0!=n;)e+=1,n>>>=1;return e},T.$$arity=0),bt.defn(pt,"$ceil",I=function(){return Math.ceil(this)},I.$$arity=0),bt.defn(pt,"$chr",C=function(t){return String.fromCharCode(this)},C.$$arity=-1),bt.defn(pt,"$denominator",N=function(){var t,e,n,$=N.$$p,r=Ot,o=Ot;for($&&(N.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return(t=!1!==(e=this["$nan?"]())&&e!==Ot&&null!=e?e:this["$infinite?"]())===Ot||null==t||t.$$is_boolean&&1!=t?At(this,bt.find_super_dispatcher(this,"denominator",N,!1),r,$):1},N.$$arity=0),bt.defn(pt,"$downto",j=function(n){var $,t=j.$$p,e=t||Ot;if(t&&(j.$$p=null),e===Ot)return At(this,"enum_for",["downto",n],(($=function(){var t,e=$.$$s||this;return((t=bt.const_get(gt,"Numeric",!0,!0)["$==="](n))===Ot||null==t||t.$$is_boolean&&1!=t)&&e.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"comparison of "+e.$class()+" with "+n.$class()+" failed"),(t=mt(n,e))===Ot||null==t||t.$$is_boolean&&1!=t?vt(wt(e,n),1):0}).$$s=this,$.$$arity=0,$));n.$$is_number||this.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+n.$class()+" failed");for(var r=this;n<=r;r--)e(r);return this},j.$$arity=1),bt.alias(pt,"eql?","=="),bt.defn(pt,"$equal?",L=function(t){var e;return!1!==(e=this["$=="](t))&&e!==Ot&&null!=e?e:isNaN(this)&&isNaN(t)},L.$$arity=1),bt.defn(pt,"$even?",z=function(){return this%2==0},z.$$arity=0),bt.defn(pt,"$floor",P=function(){return Math.floor(this)},P.$$arity=0),bt.defn(pt,"$gcd",D=function(t){var e;((e=bt.Integer["$==="](t))===Ot||null==e||e.$$is_boolean&&1!=e)&&this.$raise(bt.const_get(gt,"TypeError",!0,!0),"not an integer");for(var n=Math.abs(this),$=Math.abs(t);0<n;){var r=n;n=$%n,$=r}return $},D.$$arity=1),bt.defn(pt,"$gcdlcm",B=function(t){return[this.$gcd(),this.$lcm()]},B.$$arity=1),bt.defn(pt,"$integer?",q=function(){return this%1==0},q.$$arity=0),bt.defn(pt,"$is_a?",U=function(t){var e,n,$=U.$$p,r=Ot,o=Ot;for($&&(U.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return!((e=t["$=="](bt.const_get(gt,"Fixnum",!0,!0))?bt.Integer["$==="](this):t["$=="](bt.const_get(gt,"Fixnum",!0,!0)))===Ot||null==e||e.$$is_boolean&&1!=e)||(!((e=t["$=="](bt.Integer)?bt.Integer["$==="](this):t["$=="](bt.Integer))===Ot||null==e||e.$$is_boolean&&1!=e)||(!((e=t["$=="](bt.const_get(gt,"Float",!0,!0))?bt.const_get(gt,"Float",!0,!0)["$==="](this):t["$=="](bt.const_get(gt,"Float",!0,!0)))===Ot||null==e||e.$$is_boolean&&1!=e)||At(this,bt.find_super_dispatcher(this,"is_a?",U,!1),r,$)))},U.$$arity=1),bt.alias(pt,"kind_of?","is_a?"),bt.defn(pt,"$instance_of?",F=function(t){var e,n,$=F.$$p,r=Ot,o=Ot;for($&&(F.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return!((e=t["$=="](bt.const_get(gt,"Fixnum",!0,!0))?bt.Integer["$==="](this):t["$=="](bt.const_get(gt,"Fixnum",!0,!0)))===Ot||null==e||e.$$is_boolean&&1!=e)||(!((e=t["$=="](bt.Integer)?bt.Integer["$==="](this):t["$=="](bt.Integer))===Ot||null==e||e.$$is_boolean&&1!=e)||(!((e=t["$=="](bt.const_get(gt,"Float",!0,!0))?bt.const_get(gt,"Float",!0,!0)["$==="](this):t["$=="](bt.const_get(gt,"Float",!0,!0)))===Ot||null==e||e.$$is_boolean&&1!=e)||At(this,bt.find_super_dispatcher(this,"instance_of?",F,!1),r,$)))},F.$$arity=1),bt.defn(pt,"$lcm",G=function(t){var e;return((e=bt.Integer["$==="](t))===Ot||null==e||e.$$is_boolean&&1!=e)&&this.$raise(bt.const_get(gt,"TypeError",!0,!0),"not an integer"),0==this||0==t?0:Math.abs(this*t/this.$gcd(t))},G.$$arity=1),bt.alias(pt,"magnitude","abs"),bt.alias(pt,"modulo","%"),bt.defn(pt,"$next",H=function(){return this+1},H.$$arity=0),bt.defn(pt,"$nonzero?",Y=function(){return 0==this?Ot:this},Y.$$arity=0),bt.defn(pt,"$numerator",K=function(){var t,e,n,$=K.$$p,r=Ot,o=Ot;for($&&(K.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return(t=!1!==(e=this["$nan?"]())&&e!==Ot&&null!=e?e:this["$infinite?"]())===Ot||null==t||t.$$is_boolean&&1!=t?At(this,bt.find_super_dispatcher(this,"numerator",K,!1),r,$):this},K.$$arity=0),bt.defn(pt,"$odd?",W=function(){return this%2!=0},W.$$arity=0),bt.defn(pt,"$ord",X=function(){return this},X.$$arity=0),bt.defn(pt,"$pred",V=function(){return this-1},V.$$arity=0),bt.defn(pt,"$quo",J=function(t){var e,n,$=J.$$p,r=Ot,o=Ot;for($&&(J.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return(e=bt.Integer["$==="](this))===Ot||null==e||e.$$is_boolean&&1!=e?xt(this,t):At(this,bt.find_super_dispatcher(this,"quo",J,!1),r,$)},J.$$arity=1),bt.defn(pt,"$rationalize",Z=function(t){var e,n,$=Ot,r=Ot;return 1<arguments.length&&this.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(e=bt.Integer["$==="](this))===Ot||null==e||e.$$is_boolean&&1!=e?(e=this["$infinite?"]())===Ot||null==e||e.$$is_boolean&&1!=e?(e=this["$nan?"]())===Ot||null==e||e.$$is_boolean&&1!=e?(e=null==t)===Ot||null==e||e.$$is_boolean&&1!=e?this.$to_r().$rationalize(t):(n=bt.const_get(gt,"Math",!0,!0).$frexp(this),$=null==(e=bt.to_ary(n))[0]?Ot:e[0],r=null==e[1]?Ot:e[1],$=bt.const_get(gt,"Math",!0,!0).$ldexp($,bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),r=wt(r,bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),bt.const_get(gt,"Rational",!0,!0).$new(kt(2,$),1["$<<"](wt(1,r))).$rationalize(bt.const_get(gt,"Rational",!0,!0).$new(1,1["$<<"](wt(1,r))))):this.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"NaN"):this.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"Infinity"):bt.const_get(gt,"Rational",!0,!0).$new(this,1)},Z.$$arity=-1),bt.defn(pt,"$round",Q=function(t){var e,n,$=this,r=Ot;if((e=bt.Integer["$==="]($))===Ot||null==e||e.$$is_boolean&&1!=e){if((e=!1!==(n=$["$nan?"]())&&n!==Ot&&null!=n?null==t:n)===Ot||null==e||e.$$is_boolean&&1!=e||$.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"NaN"),t=bt.Opal["$coerce_to!"](t||0,bt.Integer,"to_int"),l=0,(e="number"==typeof(s=t)&&"number"==typeof l?s<=l:s["$<="](l))===Ot||null==e||e.$$is_boolean&&1!=e){if(t["$=="](0))return Math.round($);if((e=!1!==(n=$["$nan?"]())&&n!==Ot&&null!=n?n:$["$infinite?"]())!==Ot&&null!=e&&(!e.$$is_boolean||1==e))return $}else(e=$["$nan?"]())===Ot||null==e||e.$$is_boolean&&1!=e?(e=$["$infinite?"]())===Ot||null==e||e.$$is_boolean&&1!=e||$.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"Infinity"):$.$raise(bt.const_get(gt,"RangeError",!0,!0),"NaN");return n=bt.const_get(gt,"Math",!0,!0).$frexp($),null==(e=bt.to_ary(n))[0]?Ot:e[0],r=null==e[1]?Ot:e[1],o=t,i=wt(vt(bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"DIG",!0,!0),2),(n=mt(r,0))===Ot||null==n||n.$$is_boolean&&1!=n?wt(xt(r,3),1):xt(r,4)),(e="number"==typeof o&&"number"==typeof i?i<=o:o["$>="](i))===Ot||null==e||e.$$is_boolean&&1!=e?(e=yt(t,((n=mt(r,0))===Ot||null==n||n.$$is_boolean&&1!=n?xt(r,4):vt(xt(r,3),1))["$-@"]()))===Ot||null==e||e.$$is_boolean&&1!=e?Math.round($*Math.pow(10,t))/Math.pow(10,t):0:$}if((e=null==t)!==Ot&&null!=e&&(!e.$$is_boolean||1==e))return $;if((e=!1!==(n=bt.const_get(gt,"Float",!0,!0)["$==="](t))&&n!==Ot&&null!=n?t["$infinite?"]():n)===Ot||null==e||e.$$is_boolean&&1!=e||$.$raise(bt.const_get(gt,"RangeError",!0,!0),"Infinity"),(e=yt(t=bt.Opal["$coerce_to!"](t,bt.Integer,"to_int"),bt.const_get([bt.Integer.$$scope],"MIN",!0,!0)))===Ot||null==e||e.$$is_boolean&&1!=e||$.$raise(bt.const_get(gt,"RangeError",!0,!0),"out of bounds"),(e=0<=t)!==Ot&&null!=e&&(!e.$$is_boolean||1==e))return $;if(.415241*(t=t["$-@"]())-.125>$.$size())return 0;var o,i,s,l,a=Math.pow(10,t),c=Math.floor((Math.abs(c)+a/2)/a)*a;return $<0?-c:c},Q.$$arity=-1),bt.defn(pt,"$step",tt=function(t,e,n){var $,r,o,i,s,l,a,c,u=this,_=tt.$$p,d=_||Ot;if(i=bt.slice.call(arguments,0,arguments.length),null==(n=bt.extract_kwargs(i))||!n.$$is_hash){if(null!=n)throw bt.ArgumentError.$new("expected kwargs");n=St([],{})}function f(){0===c&&u.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"step cannot be 0"),!1!==($=a)&&$!==Ot&&null!=$||(a=s),!1!==($=c)&&$!==Ot&&null!=$||(c=!1!==(r=l)&&r!==Ot&&null!=r?r:1),a.$$is_number||u.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"limit must be a number"),c.$$is_number||u.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"step must be a number")}function p(){if(0<c&&a<u||c<0&&u<a)return 0;if(c===1/0||c===-1/0)return 1;var t=Math.abs,e=Math.floor,n=(t(u)+t(a)+t(a-u))/t(c)*bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return n===1/0||n===-1/0?0:(.5<n&&(n=.5),e((a-u)/c+n)+1)}if(null==(s=n.$$smap.to)&&(s=Ot),null==(l=n.$$smap.by)&&(l=Ot),0<i.length&&(a=i.splice(0,1)[0]),null==a&&(a=Ot),0<i.length&&(c=i.splice(0,1)[0]),null==c&&(c=Ot),_&&(tt.$$p=null),a!==Ot&&s!==Ot&&u.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"to is given twice"),c!==Ot&&l!==Ot&&u.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"step is given twice"),d===Ot)return At(u,"enum_for",["step",a,c,St(["to","by"],{to:s,by:l})],((o=function(){o.$$s;return function(){if(f(),0===c)return 1/0;if(c%1!=0)return p();if(0<c&&a<u||c<0&&u<a)return 0;var t=Math.ceil,e=Math.abs;return t((e(u-a)+1)/e(c))}()}).$$s=u,o.$$arity=0,o));if(f(),0===c)for(;;)d(u);if(u%1!=0||a%1!=0||c%1!=0){var h=p();if(0<h)if(c===1/0||c===-1/0)d(u);else{var g,b=0;if(0<c)for(;b<h;)a<(g=b*c+u)&&(g=a),d(g),b+=1;else for(;b<h;)(g=b*c+u)<a&&(g=a),d(g),b+=1}}else{var m=u;if(0<c)for(;m<=a;)d(m),m+=c;else for(;a<=m;)d(m),m+=c}return u},tt.$$arity=-1),bt.alias(pt,"succ","next"),bt.defn(pt,"$times",et=function(){var t,e=et.$$p,n=e||Ot;if(e&&(et.$$p=null),!1===n||n===Ot||null==n)return At(this,"enum_for",["times"],((t=function(){return t.$$s||this}).$$s=this,t.$$arity=0,t));for(var $=0;$<this;$++)n($);return this},et.$$arity=0),bt.defn(pt,"$to_f",nt=function(){return this},nt.$$arity=0),bt.defn(pt,"$to_i",$t=function(){return parseInt(this,10)},$t.$$arity=0),bt.alias(pt,"to_int","to_i"),bt.defn(pt,"$to_r",rt=function(){var t,e,n=Ot,$=Ot;return(t=bt.Integer["$==="](this))===Ot||null==t||t.$$is_boolean&&1!=t?(e=bt.const_get(gt,"Math",!0,!0).$frexp(this),n=null==(t=bt.to_ary(e))[0]?Ot:t[0],$=null==t[1]?Ot:t[1],n=bt.const_get(gt,"Math",!0,!0).$ldexp(n,bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),$=wt($,bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),kt(n,bt.const_get([bt.const_get(gt,"Float",!0,!0).$$scope],"RADIX",!0,!0)["$**"]($)).$to_r()):bt.const_get(gt,"Rational",!0,!0).$new(this,1)},rt.$$arity=0),bt.defn(pt,"$to_s",ot=function(t){var e,n;return null==t&&(t=10),(e=!1!==(n=yt(t,2))&&n!==Ot&&null!=n?n:mt(t,36))===Ot||null==e||e.$$is_boolean&&1!=e||this.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"base must be between 2 and 36"),this.toString(t)},ot.$$arity=-1),bt.alias(pt,"truncate","to_i"),bt.alias(pt,"inspect","to_s"),bt.defn(pt,"$divmod",it=function(t){var e,n,$,r=it.$$p,o=Ot,i=Ot;for(r&&(it.$$p=null),i=0,$=arguments.length,o=new Array($);i<$;i++)o[i]=arguments[i];return(e=!1!==(n=this["$nan?"]())&&n!==Ot&&null!=n?n:t["$nan?"]())===Ot||null==e||e.$$is_boolean&&1!=e?(e=this["$infinite?"]())===Ot||null==e||e.$$is_boolean&&1!=e?At(this,bt.find_super_dispatcher(this,"divmod",it,!1),o,r):this.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"Infinity"):this.$raise(bt.const_get(gt,"FloatDomainError",!0,!0),"NaN")},it.$$arity=1),bt.defn(pt,"$upto",st=function(n){var $,t=st.$$p,e=t||Ot;if(t&&(st.$$p=null),e===Ot)return At(this,"enum_for",["upto",n],(($=function(){var t,e=$.$$s||this;return((t=bt.const_get(gt,"Numeric",!0,!0)["$==="](n))===Ot||null==t||t.$$is_boolean&&1!=t)&&e.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"comparison of "+e.$class()+" with "+n.$class()+" failed"),(t=yt(n,e))===Ot||null==t||t.$$is_boolean&&1!=t?vt(wt(n,e),1):0}).$$s=this,$.$$arity=0,$));n.$$is_number||this.$raise(bt.const_get(gt,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+n.$class()+" failed");for(var r=this;r<=n;r++)e(r);return this},st.$$arity=1),bt.defn(pt,"$zero?",lt=function(){return 0==this},lt.$$arity=0),bt.defn(pt,"$size",at=function(){return 4},at.$$arity=0),bt.defn(pt,"$nan?",ct=function(){return isNaN(this)},ct.$$arity=0),bt.defn(pt,"$finite?",ut=function(){return this!=1/0&&this!=-1/0&&!isNaN(this)},ut.$$arity=0),bt.defn(pt,"$infinite?",_t=function(){return this==1/0?1:this==-1/0?-1:Ot},_t.$$arity=0),bt.defn(pt,"$positive?",dt=function(){return 0!=this&&(this==1/0||0<1/this)},dt.$$arity=0),bt.defn(pt,"$negative?",ft=function(){return this==-1/0||1/this<0},ft.$$arity=0)}(e.base,bt.const_get(n,"Numeric",!0,!0),n),bt.cdecl(e,"Fixnum",bt.const_get(n,"Number",!0,!0)),function(t,e,n){function $(){}var r,o=$=Et(t,e,"Integer",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);o.$$is_number_class=!0,bt.defs(o,"$===",r=function(t){return!!t.$$is_number&&t%1==0},r.$$arity=1),bt.cdecl(i,"MAX",Math.pow(2,30)-1),bt.cdecl(i,"MIN",-Math.pow(2,30))}(e.base,bt.const_get(n,"Numeric",!0,!0),n),function(t,e,n){function $(){}var r,o=$=Et(t,e,"Float",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return o.$$is_number_class=!0,bt.defs(o,"$===",r=function(t){return!!t.$$is_number},r.$$arity=1),bt.cdecl(i,"INFINITY",1/0),bt.cdecl(i,"MAX",Number.MAX_VALUE),bt.cdecl(i,"MIN",Number.MIN_VALUE),bt.cdecl(i,"NAN",NaN),bt.cdecl(i,"DIG",15),bt.cdecl(i,"MANT_DIG",53),bt.cdecl(i,"RADIX",2),bt.cdecl(i,"EPSILON",Number.EPSILON||2.220446049250313e-16)}(e.base,bt.const_get(n,"Numeric",!0,!0),n)},Opal.modules["corelib/range"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function M(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=E.top,e=E,n=[E],T=E.nil,I=(E.breaker,E.slice,E.klass),C=E.send;return E.add_stubs(["$require","$include","$attr_reader","$raise","$<=>","$include?","$<=","$<","$enum_for","$upto","$to_proc","$respond_to?","$class","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$last","$to_a","$>","$-","$abs","$to_i","$coerce_to!","$ceil","$/","$size","$loop","$+","$*","$>=","$each_with_index","$%","$bsearch","$inspect","$[]","$hash"]),t.$require("corelib/enumerable"),function(t,e,n){function $(){}var r,o,i,s,a,l,c,u,_,d,f,p,h,g,b,m,y,v,w=$=I(t,null,"Range",$),x=w.$$proto,k=w.$$scope,O=n.slice().concat(k);return x.begin=x.end=x.exclude=T,w.$include(E.const_get(O,"Enumerable",!0,!0)),x.$$is_range=!0,w.$attr_reader("begin","end"),E.defn(w,"$initialize",r=function(t,e,n){var $;return null==n&&(n=!1),($=this.begin)===T||null==$||$.$$is_boolean&&1!=$||this.$raise(E.const_get(O,"NameError",!0,!0),"'initialize' called twice"),(($=t["$<=>"](e))===T||null==$||$.$$is_boolean&&1!=$)&&this.$raise(E.const_get(O,"ArgumentError",!0,!0),"bad value for range"),this.begin=t,this.end=e,this.exclude=n},r.$$arity=-3),E.defn(w,"$==",o=function(t){return!!t.$$is_range&&(this.exclude===t.exclude&&this.begin==t.begin&&this.end==t.end)},o.$$arity=1),E.defn(w,"$===",i=function(t){return this["$include?"](t)},i.$$arity=1),E.defn(w,"$cover?",s=function(t){var e,n,$;return!((e=!1!==(n=this.begin["$<=>"](t))&&n!==T&&null!=n?A(n,0):n)===T||null==e||e.$$is_boolean&&1!=e)&&($=t["$<=>"](this.end),(e=this.exclude)===T||null==e||e.$$is_boolean&&1!=e?(e=!1!==$&&$!==T&&null!=$)?A($,0):$:(e=!1!==$&&$!==T&&null!=$)?S($,0):$)},s.$$arity=1),E.defn(w,"$each",a=function(){var t,e,n,$,r,o=this,i=a.$$p,s=i||T,l=T;if(i&&(a.$$p=null),s===T)return o.$enum_for("each");if(o.begin.$$is_number&&o.end.$$is_number){for(o.begin%1==0&&o.end%1==0||o.$raise(E.const_get(O,"TypeError",!0,!0),"can't iterate from Float"),$=o.begin,r=o.end+((t=o.exclude)===T||null==t||t.$$is_boolean&&1!=t?1:0);$<r;$++)s($);return o}if(o.begin.$$is_string&&o.end.$$is_string)return C(o.begin,"upto",[o.end,o.exclude],s.$to_proc()),o;for(l=o.begin,n=o.end,((t=l["$respond_to?"]("succ"))===T||null==t||t.$$is_boolean&&1!=t)&&o.$raise(E.const_get(O,"TypeError",!0,!0),"can't iterate from "+l.$class());(e=S(l["$<=>"](n),0))!==T&&null!=e&&(!e.$$is_boolean||1==e);)E.yield1(s,l),l=l.$succ();return e=o.exclude["$!"](),(t=!1!==e&&e!==T&&null!=e?l["$=="](n):e)===T||null==t||t.$$is_boolean&&1!=t||E.yield1(s,l),o},a.$$arity=0),E.defn(w,"$eql?",l=function(t){var e,n;return!((e=E.const_get(O,"Range",!0,!0)["$==="](t))===T||null==e||e.$$is_boolean&&1!=e)&&(!1!==(e=!1!==(n=this.exclude["$==="](t["$exclude_end?"]()))&&n!==T&&null!=n?this.begin["$eql?"](t.$begin()):n)&&e!==T&&null!=e?this.end["$eql?"](t.$end()):e)},l.$$arity=1),E.defn(w,"$exclude_end?",c=function(){return this.exclude},c.$$arity=0),E.defn(w,"$first",u=function(t){var e,n,$=u.$$p,r=T,o=T;for($&&(u.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return(e=null==t)===T||null==e||e.$$is_boolean&&1!=e?C(this,E.find_super_dispatcher(this,"first",u,!1),r,$):this.begin},u.$$arity=-1),E.alias(w,"include?","cover?"),E.defn(w,"$last",_=function(t){var e;return(e=null==t)===T||null==e||e.$$is_boolean&&1!=e?this.$to_a().$last(t):this.end},_.$$arity=-1),E.defn(w,"$max",d=function(){var t,e,n,$=this,r=d.$$p,o=r||T,i=T,s=T;for(r&&(d.$$p=null),s=0,n=arguments.length,i=new Array(n);s<n;s++)i[s]=arguments[s];return o!==T?C($,E.find_super_dispatcher($,"max",d,!1),i,r):(t=R($.begin,$.end))===T||null==t||t.$$is_boolean&&1!=t?(t=!1!==(e=$.exclude)&&e!==T&&null!=e?$.begin["$=="]($.end):e)===T||null==t||t.$$is_boolean&&1!=t?$.exclude?$.end-1:$.end:T:T},d.$$arity=0),E.alias(w,"member?","cover?"),E.defn(w,"$min",f=function(){var t,e,n,$=f.$$p,r=$||T,o=T,i=T;for($&&(f.$$p=null),i=0,n=arguments.length,o=new Array(n);i<n;i++)o[i]=arguments[i];return r!==T?C(this,E.find_super_dispatcher(this,"min",f,!1),o,$):(t=R(this.begin,this.end))===T||null==t||t.$$is_boolean&&1!=t?(t=!1!==(e=this.exclude)&&e!==T&&null!=e?this.begin["$=="](this.end):e)===T||null==t||t.$$is_boolean&&1!=t?this.begin:T:T},f.$$arity=0),E.defn(w,"$size",p=function(){var t,e,n,$,r=T,o=T,i=T;return r=this.begin,o=this.end,(t=this.exclude)===T||null==t||t.$$is_boolean&&1!=t||($=1,o="number"==typeof(n=o)&&"number"==typeof $?n-$:n["$-"]($)),(t=!1!==(e=E.const_get(O,"Numeric",!0,!0)["$==="](r))&&e!==T&&null!=e?E.const_get(O,"Numeric",!0,!0)["$==="](o):e)===T||null==t||t.$$is_boolean&&1!=t?T:(t=S(o,r))===T||null==t||t.$$is_boolean&&1!=t?(t=!1!==(e=(i=E.const_get([E.const_get(O,"Float",!0,!0).$$scope],"INFINITY",!0,!0))["$=="](r.$abs()))&&e!==T&&null!=e?e:o.$abs()["$=="](i))===T||null==t||t.$$is_boolean&&1!=t?(Math.abs(o-r)+1).$to_i():i:0},p.$$arity=0),E.defn(w,"$step",h=function(l){var t,e,a,n,c=this,$=h.$$p,u=$||T,_=T;function r(){l.$$is_number||(l=E.Opal["$coerce_to!"](l,E.Integer,"to_int")),l<0?c.$raise(E.const_get(O,"ArgumentError",!0,!0),"step can't be negative"):0===l&&c.$raise(E.const_get(O,"ArgumentError",!0,!0),"step can't be 0")}return null==l&&(l=1),$&&(h.$$p=null),u===T?C(c,"enum_for",["step",l],((t=function(){t.$$s;return r(),function(){if(!c.begin["$respond_to?"]("succ"))return T;if(c.begin.$$is_string&&c.end.$$is_string)return T;if(l%1==0)return(e=c.$size(),n=l,"number"==typeof e&&"number"==typeof n?e/n:e["$/"](n)).$ceil();var t,e,n,$=c.begin,r=c.end,o=Math.abs,i=Math.floor,s=(o($)+o(r)+o(r-$))/o(l)*E.const_get([E.const_get(O,"Float",!0,!0).$$scope],"EPSILON",!0,!0);return.5<s&&(s=.5),c.exclude?(t=i((r-$)/l-s))*l+$<r&&t++:t=i((r-$)/l+s)+1,t}()}).$$s=c,t.$$arity=0,t)):(r(),(e=c.begin.$$is_number&&c.end.$$is_number)===T||null==e||e.$$is_boolean&&1!=e?(c.begin.$$is_string&&c.end.$$is_string&&l%1!=0&&c.$raise(E.const_get(O,"TypeError",!0,!0),"no implicit conversion to float from string"),C(c,"each_with_index",[],((n=function(t,e){n.$$s;return null==t&&(t=T),null==e&&(e=T),e["$%"](l)["$=="](0)?E.yield1(u,t):T}).$$s=c,n.$$arity=2,n))):(_=0,function(){var s=E.new_brk();try{C(c,"loop",[],((a=function(){var t,e,n,$,r,o,i=a.$$s||this;return null==i.begin&&(i.begin=T),null==i.exclude&&(i.exclude=T),null==i.end&&(i.end=T),e=M(i.begin,($=l,"number"==typeof(n=_)&&"number"==typeof $?n*$:n["$*"]($))),(t=i.exclude)===T||null==t||t.$$is_boolean&&1!=t?(t=R(e,i.end))===T||null==t||t.$$is_boolean&&1!=t||E.brk(T,s):(r=e,o=i.end,(t="number"==typeof r&&"number"==typeof o?o<=r:r["$>="](o))===T||null==t||t.$$is_boolean&&1!=t||E.brk(T,s)),E.yield1(u,e),_=M(_,1)}).$$s=c,a.$$brk=s,a.$$arity=0,a))}catch(t){if(t===s)return t.$v;throw t}}()),c)},h.$$arity=-1),E.defn(w,"$bsearch",g=function(){var t,e=g.$$p,n=e||T;return e&&(g.$$p=null),n===T?this.$enum_for("bsearch"):(((t=this.begin.$$is_number&&this.end.$$is_number)===T||null==t||t.$$is_boolean&&1!=t)&&this.$raise(E.const_get(O,"TypeError",!0,!0),"can't do binary search for "+this.begin.$class()),C(this.$to_a(),"bsearch",[],n.$to_proc()))},g.$$arity=0),E.defn(w,"$to_s",b=function(){var t,e=this;return e.begin+((t=e.exclude)===T||null==t||t.$$is_boolean&&1!=t?"..":"...")+e.end},b.$$arity=0),E.defn(w,"$inspect",m=function(){var t,e=this;return e.begin.$inspect()+((t=e.exclude)===T||null==t||t.$$is_boolean&&1!=t?"..":"...")+e.end.$inspect()},m.$$arity=0),E.defn(w,"$marshal_load",y=function(t){return this.begin=t["$[]"]("begin"),this.end=t["$[]"]("end"),this.exclude=t["$[]"]("excl")},y.$$arity=1),E.defn(w,"$hash",v=function(){return[this.begin,this.end,this.exclude].$hash()},v.$$arity=0),T&&"hash"}(e.base,0,n)},Opal.modules["corelib/proc"]=function(b){b.top;var t=b,e=[b],m=b.nil,y=(b.breaker,b.slice),v=b.klass;return b.add_stubs(["$raise","$coerce_to!"]),function(t,e,n){function $(){}var r,a,o,i,s,l,c,u,_,d,f=$=v(t,e,"Proc",$),p=f.$$proto,h=f.$$scope,g=n.slice().concat(h);return p.$$is_proc=!0,p.$$is_lambda=!1,b.defs(f,"$new",r=function(){var t=r.$$p,e=t||m;return t&&(r.$$p=null),!1!==e&&e!==m&&null!=e||this.$raise(b.const_get(g,"ArgumentError",!0,!0),"tried to create a Proc object without a block"),e},r.$$arity=0),b.defn(f,"$call",a=function(t){var e,n=a.$$p,$=n||m,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];n&&(a.$$p=null),$!==m&&(this.$$p=$);var s,l=this.$$brk;if(l)try{s=this.$$is_lambda?this.apply(null,e):b.yieldX(this,e)}catch(t){if(t===l)return l.$v;throw t}else s=this.$$is_lambda?this.apply(null,e):b.yieldX(this,e);return s},a.$$arity=-1),b.alias(f,"[]","call"),b.alias(f,"===","call"),b.alias(f,"yield","call"),b.defn(f,"$to_proc",o=function(){return this},o.$$arity=0),b.defn(f,"$lambda?",i=function(){return!!this.$$is_lambda},i.$$arity=0),b.defn(f,"$arity",s=function(){return this.$$is_curried?-1:this.$$arity},s.$$arity=0),b.defn(f,"$source_location",l=function(){return this.$$is_curried,m},l.$$arity=0),b.defn(f,"$binding",c=function(){return this.$$is_curried&&this.$raise(b.const_get(g,"ArgumentError",!0,!0),"Can't create Binding"),m},c.$$arity=0),b.defn(f,"$parameters",u=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var t,e,n=[];for(t=0,e=this.$$parameters.length;t<e;t++){var $=this.$$parameters[t];"req"===$[0]&&($=["opt",$[1]]),n.push($)}return n}return[]},u.$$arity=0),b.defn(f,"$curry",_=function($){var r=this;function o(){var t,e=y.call(arguments),n=e.length;return $<n&&r.$$is_lambda&&!r.$$is_curried&&r.$raise(b.const_get(g,"ArgumentError",!0,!0),"wrong number of arguments ("+n+" for "+$+")"),$<=n?r.$call.apply(r,e):((t=function(){return o.apply(null,e.concat(y.call(arguments)))}).$$is_lambda=r.$$is_lambda,t.$$is_curried=!0,t)}return void 0===$?$=r.length:($=b.Opal["$coerce_to!"]($,b.Integer,"to_int"),r.$$is_lambda&&$!==r.length&&r.$raise(b.const_get(g,"ArgumentError",!0,!0),"wrong number of arguments ("+$+" for "+r.length+")")),o.$$is_lambda=r.$$is_lambda,o.$$is_curried=!0,o},_.$$arity=-1),b.defn(f,"$dup",d=function(){var t=this.$$original_proc||this,e=function(){return t.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(e[n]=this[n]);return e},d.$$arity=0),b.alias(f,"clone","dup")}(t.base,Function,e)},Opal.modules["corelib/method"]=function(g){g.top;var t=g,e=[g],b=g.nil,m=(g.breaker,g.slice,g.klass);return g.add_stubs(["$attr_reader","$arity","$new","$class","$join","$source_location","$raise"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d=$=m(t,null,"Method",$),f=d.$$proto,p=d.$$scope,h=n.slice().concat(p);f.method=f.receiver=f.owner=f.name=b,d.$attr_reader("owner","receiver","name"),g.defn(d,"$initialize",r=function(t,e,n,$){return this.receiver=t,this.owner=e,this.name=$,this.method=n},r.$$arity=4),g.defn(d,"$arity",o=function(){return this.method.$arity()},o.$$arity=0),g.defn(d,"$parameters",i=function(){return this.method.$$parameters},i.$$arity=0),g.defn(d,"$source_location",s=function(){var t;return!1!==(t=this.method.$$source_location)&&t!==b&&null!=t?t:["(eval)",0]},s.$$arity=0),g.defn(d,"$comments",l=function(){var t;return!1!==(t=this.method.$$comments)&&t!==b&&null!=t?t:[]},l.$$arity=0),g.defn(d,"$call",a=function(t){var e,n=a.$$p,$=n||b,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(a.$$p=null),this.method.$$p=$,this.method.apply(this.receiver,e)},a.$$arity=-1),g.alias(d,"[]","call"),g.defn(d,"$unbind",c=function(){return g.const_get(h,"UnboundMethod",!0,!0).$new(this.receiver.$class(),this.owner,this.method,this.name)},c.$$arity=0),g.defn(d,"$to_proc",u=function(){var t=this.$call.bind(this);return t.$$unbound=this.method,t.$$is_lambda=!0,t},u.$$arity=0),g.defn(d,"$inspect",_=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},_.$$arity=0)}(t.base,0,e),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u=$=m(t,null,"UnboundMethod",$),_=u.$$proto,d=u.$$scope,f=n.slice().concat(d);return _.method=_.owner=_.name=_.source=b,u.$attr_reader("source","owner","name"),g.defn(u,"$initialize",r=function(t,e,n,$){return this.source=t,this.owner=e,this.method=n,this.name=$},r.$$arity=4),g.defn(u,"$arity",o=function(){return this.method.$arity()},o.$$arity=0),g.defn(u,"$parameters",i=function(){return this.method.$$parameters},i.$$arity=0),g.defn(u,"$source_location",s=function(){var t;return!1!==(t=this.method.$$source_location)&&t!==b&&null!=t?t:["(eval)",0]},s.$$arity=0),g.defn(u,"$comments",l=function(){var t;return!1!==(t=this.method.$$comments)&&t!==b&&null!=t?t:[]},l.$$arity=0),g.defn(u,"$bind",a=function(t){if(this.owner.$$is_module||g.is_a(t,this.owner))return g.const_get(f,"Method",!0,!0).$new(t,this.owner,this.method,this.name);this.$raise(g.const_get(f,"TypeError",!0,!0),"can't bind singleton method to a different class (expected "+t+".kind_of?("+this.owner+" to be true)")},a.$$arity=1),g.defn(u,"$inspect",c=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},c.$$arity=0),b&&"inspect"}(t.base,0,e)},Opal.modules["corelib/variables"]=function(t){t.top;var e=t,n=[t],$=t.nil,r=(t.breaker,t.slice,t.gvars),o=t.hash2;return t.add_stubs(["$new"]),r["&"]=r["~"]=r["`"]=r["'"]=$,r.LOADED_FEATURES=r['"']=t.loaded_features,r.LOAD_PATH=r[":"]=[],r["/"]="\n",r[","]=$,t.cdecl(e,"ARGV",[]),t.cdecl(e,"ARGF",t.const_get(n,"Object",!0,!0).$new()),t.cdecl(e,"ENV",o([],{})),r.VERBOSE=!1,r.DEBUG=!1,r.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(t){t.top;var e,n,$,r,o,i=t,s=[t],l=t.nil,a=(t.breaker,t.slice,t.module);return t.add_stubs(["$==","$new"]),e=i.base,n=s,($=a(e,"Opal")).$$proto,r=$.$$scope,o=n.slice().concat(r),t.cdecl(r,"REGEXP_START",t.const_get(o,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"^":l),t.cdecl(r,"REGEXP_END",t.const_get(o,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"$":l),t.cdecl(r,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.cdecl(r,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),t.cdecl(r,"INLINE_IDENTIFIER_REGEXP",t.const_get(o,"Regexp",!0,!0).$new("[^"+t.const_get(o,"FORBIDDEN_STARTING_IDENTIFIER_CHARS",!0,!0)+"]*[^"+t.const_get(o,"FORBIDDEN_ENDING_IDENTIFIER_CHARS",!0,!0)+"]")),t.cdecl(r,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),void t.cdecl(r,"CONST_NAME_REGEXP",t.const_get(o,"Regexp",!0,!0).$new(t.const_get(o,"REGEXP_START",!0,!0)+"(::)?[A-Z][^"+t.const_get(o,"FORBIDDEN_CONST_NAME_CHARS",!0,!0)+"]*"+t.const_get(o,"REGEXP_END",!0,!0)))},Opal.modules["opal/mini"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("corelib/nil"),e.$require("corelib/boolean"),e.$require("corelib/string"),e.$require("corelib/comparable"),e.$require("corelib/enumerable"),e.$require("corelib/enumerator"),e.$require("corelib/array"),e.$require("corelib/hash"),e.$require("corelib/number"),e.$require("corelib/range"),e.$require("corelib/proc"),e.$require("corelib/method"),e.$require("corelib/regexp"),e.$require("corelib/variables"),e.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(O){var t=O.top,e=O,n=[O],E=O.nil,A=(O.breaker,O.slice,O.klass),S=O.send,R=O.gvars;return O.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%","$-"]),t.$require("corelib/string"),function(t,e,n){function $(){}var r,o=$=A(t,null,"String",$),i=(o.$$proto,o.$$scope),s=n.slice().concat(i);O.defs(o,"$inherited",r=function(t){var e;e=O.const_get(s,"Class",!0,!0).$new(O.const_get([O.String.$$scope],"Wrapper",!0,!0)),t.$$proto=e.$$proto,(t.$$proto.$$class=t).$$alloc=e.$$alloc,t.$$parent=O.const_get([O.String.$$scope],"Wrapper",!0,!0),t.$allocate=e.$allocate,t.$new=e.$new},r.$$arity=1)}(e.base,0,n),function(t,e,n){function $(){}var r,l,o,i,a,s,c,u,_,d,f,p,h,g,b,m,y,v,w=$=A(t,null,"Wrapper",$),x=w.$$proto,k=w.$$scope;n.slice().concat(k);return x.literal=E,x.$$is_string=!0,O.defs(w,"$allocate",r=function(t){var e=r.$$p,n=E;return null==t&&(t=""),e&&(r.$$p=null),(n=S(this,O.find_super_dispatcher(this,"allocate",r,!1,$),[],null)).literal=t,n},r.$$arity=-1),O.defs(w,"$new",l=function(t){var e,n,$=l.$$p,r=$||E,o=arguments.length,i=o-0;i<0&&(i=0),e=new Array(i);for(var s=0;s<o;s++)e[s-0]=arguments[s];return $&&(l.$$p=null),n=this.$allocate(),S(n,"initialize",O.to_a(e),r.$to_proc()),n},l.$$arity=-1),O.defs(w,"$[]",o=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$allocate(e)},o.$$arity=-1),O.defn(w,"$initialize",i=function(t){return null==t&&(t=""),this.literal=t},i.$$arity=-1),O.defn(w,"$method_missing",a=function(t){var e,n,$,r=a.$$p,o=r||E,i=arguments.length,s=i-0;s<0&&(s=0),n=new Array(s);for(var l=0;l<i;l++)n[l-0]=arguments[l];return r&&(a.$$p=null),(e=null!=($=S(this.literal,"__send__",O.to_a(n),o.$to_proc())).$$is_string)===E||null==e||e.$$is_boolean&&1!=e?$:(e=$==this.literal)===E||null==e||e.$$is_boolean&&1!=e?this.$class().$allocate($):this},a.$$arity=-1),O.defn(w,"$initialize_copy",s=function(t){return this.literal=t.literal.$clone()},s.$$arity=1),O.defn(w,"$respond_to?",c=function(t,e){var n,$,r=c.$$p,o=E,i=E;for(r&&(c.$$p=null),i=0,$=arguments.length,o=new Array($);i<$;i++)o[i]=arguments[i];return!1!==(n=S(this,O.find_super_dispatcher(this,"respond_to?",c,!1),o,r))&&n!==E&&null!=n?n:this.literal["$respond_to?"](t)},c.$$arity=-2),O.defn(w,"$==",u=function(t){return this.literal["$=="](t)},u.$$arity=1),O.alias(w,"eql?","=="),O.alias(w,"===","=="),O.defn(w,"$to_s",_=function(){return this.literal},_.$$arity=0),O.alias(w,"to_str","to_s"),O.defn(w,"$inspect",d=function(){return this.literal.$inspect()},d.$$arity=0),O.defn(w,"$+",f=function(t){var e,n;return e=this.literal,n=t,"number"==typeof e&&"number"==typeof n?e+n:e["$+"](n)},f.$$arity=1),O.defn(w,"$*",p=function(t){var e,n,$=(e=this.literal,n=t,"number"==typeof e&&"number"==typeof n?e*n:e["$*"](n));return $.$$is_string?this.$class().$allocate($):$},p.$$arity=1),O.defn(w,"$split",h=function(t,e){var n;return S(this.literal.$split(t,e),"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=E),e.$class().$allocate(t)}).$$s=this,n.$$arity=1,n))},h.$$arity=-1),O.defn(w,"$replace",g=function(t){return this.literal=t},g.$$arity=1),O.defn(w,"$each_line",b=function(t){var n,e=b.$$p,$=e||E;return null==R["/"]&&(R["/"]=E),null==t&&(t=R["/"]),e&&(b.$$p=null),$===E?this.$enum_for("each_line",t):S(this.literal,"each_line",[t],((n=function(t){var e=n.$$s||this;return null==t&&(t=E),O.yield1($,e.$class().$allocate(t))}).$$s=this,n.$$arity=1,n))},b.$$arity=-1),O.defn(w,"$lines",m=function(t){var e=m.$$p,n=e||E,$=E;return null==R["/"]&&(R["/"]=E),null==t&&(t=R["/"]),e&&(m.$$p=null),$=S(this,"each_line",[t],n.$to_proc()),!1!==n&&n!==E&&null!=n?this:$.$to_a()},m.$$arity=-1),O.defn(w,"$%",y=function(t){return this.literal["$%"](t)},y.$$arity=1),O.defn(w,"$instance_variables",v=function(){var t,e,n,$=v.$$p,r=E,o=E;for($&&(v.$$p=null),o=0,t=arguments.length,r=new Array(t);o<t;o++)r[o]=arguments[o];return e=S(this,O.find_super_dispatcher(this,"instance_variables",v,!1),r,$),n=["@literal"],"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n)},v.$$arity=0),E&&"instance_variables"}(O.String,0,n)},Opal.modules["corelib/string/encoding"]=function(b){var n,$,r,o,i,t=b.top,e=b,s=[b],m=b.nil,y=(b.breaker,b.slice,b.klass),v=b.send,w=b.hash2;return b.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$constants","$const_get","$===","$==","$name","$include?","$names","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),t.$require("corelib/string"),function(t,e,n){function $(){}var c,r,o,i,s,l,a,u,_,d,f=$=y(t,null,"Encoding",$),p=f.$$proto,h=f.$$scope,g=n.slice().concat(h);p.ascii=p.dummy=p.name=m,b.defs(f,"$register",c=function(t,e){var n,$,r,o,i,s=c.$$p,l=s||m,a=m;return null==e&&(e=w([],{})),s&&(c.$$p=null),i=!(o=[t])!==(n=e["$[]"]("aliases"))&&n!==m&&null!=n?n:[],a="number"==typeof o&&"number"==typeof i?o+i:o["$+"](i),r=v(b.const_get(g,"Class",!0,!0),"new",[this],l.$to_proc()).$new(t,a,!1!==(n=e["$[]"]("ascii"))&&n!==m&&null!=n&&n,!1!==(n=e["$[]"]("dummy"))&&n!==m&&null!=n&&n),v(a,"each",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=m),e.$const_set(t.$sub("-","_"),r)}).$$s=this,$.$$arity=1,$))},c.$$arity=-2),b.defs(f,"$find",r=function(t){try{var o,i;return i=t.$upcase(),v(this.$constants(),"each",[],((o=function(t){var e,n,$=o.$$s||this,r=m;return null==t&&(t=m),r=$.$const_get(t),(e=b.const_get(g,"Encoding",!0,!0)["$==="](r))===m||null==e||e.$$is_boolean&&1!=e?m:(e=!1!==(n=r.$name()["$=="](i))&&n!==m&&null!=n?n:r.$names()["$include?"](i))===m||null==e||e.$$is_boolean&&1!=e?m:void b.ret(r)}).$$s=this,o.$$arity=1,o)),this.$raise(b.const_get(g,"ArgumentError",!0,!0),"unknown encoding name - "+t)}catch(t){if(t===b.returner)return t.$v;throw t}},r.$$arity=1),function(t,e){t.$$proto,t.$$scope,e.slice().concat(t);t.$attr_accessor("default_external")}(b.get_singleton_class(f),g),f.$attr_reader("name","names"),b.defn(f,"$initialize",o=function(t,e,n,$){return this.name=t,this.names=e,this.ascii=n,this.dummy=$},o.$$arity=4),b.defn(f,"$ascii_compatible?",i=function(){return this.ascii},i.$$arity=0),b.defn(f,"$dummy?",s=function(){return this.dummy},s.$$arity=0),b.defn(f,"$to_s",l=function(){return this.name},l.$$arity=0),b.defn(f,"$inspect",a=function(){var t,e=this;return"#<Encoding:"+e.name+((t=e.dummy)===m||null==t||t.$$is_boolean&&1!=t?m:" (dummy)")+">"},a.$$arity=0),b.defn(f,"$each_byte",u=function(t){return this.$raise(b.const_get(g,"NotImplementedError",!0,!0))},u.$$arity=-1),b.defn(f,"$getbyte",_=function(t){return this.$raise(b.const_get(g,"NotImplementedError",!0,!0))},_.$$arity=-1),b.defn(f,"$bytesize",d=function(t){return this.$raise(b.const_get(g,"NotImplementedError",!0,!0))},d.$$arity=-1),function(t,e,n){function $(){}var r=$=y(t,e,"EncodingError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(h.base,b.const_get(g,"StandardError",!0,!0),g),function(t,e,n){function $(){}var r=$=y(t,e,"CompatibilityError",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(h.base,b.const_get(g,"EncodingError",!0,!0),g)}(e.base,0,s),v(b.const_get(s,"Encoding",!0,!0),"register",["UTF-8",w(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],((n=function(){var a,t,e=n.$$s||this;return b.def(e,"$each_byte",a=function(t){var e=a.$$p,n=e||m;e&&(a.$$p=null);for(var $=0,r=t.length;$<r;$++){var o=t.charCodeAt($);if(o<=127)b.yield1(n,o);else for(var i=encodeURIComponent(t.charAt($)).substr(1).split("%"),s=0,l=i.length;s<l;s++)b.yield1(n,parseInt(i[s],16))}},a.$$arity=1),b.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,n.$$arity=0,n)),v(b.const_get(s,"Encoding",!0,!0),"register",["UTF-16LE"],(($=function(){var i,t,e=$.$$s||this;return b.def(e,"$each_byte",i=function(t){var e=i.$$p,n=e||m;e&&(i.$$p=null);for(var $=0,r=t.length;$<r;$++){var o=t.charCodeAt($);b.yield1(n,255&o),b.yield1(n,o>>8)}},i.$$arity=1),b.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,$.$$arity=0,$)),v(b.const_get(s,"Encoding",!0,!0),"register",["UTF-16BE"],((r=function(){var i,t,e=r.$$s||this;return b.def(e,"$each_byte",i=function(t){var e=i.$$p,n=e||m;e&&(i.$$p=null);for(var $=0,r=t.length;$<r;$++){var o=t.charCodeAt($);b.yield1(n,o>>8),b.yield1(n,255&o)}},i.$$arity=1),b.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,r.$$arity=0,r)),v(b.const_get(s,"Encoding",!0,!0),"register",["UTF-32LE"],((o=function(){var i,t,e=o.$$s||this;return b.def(e,"$each_byte",i=function(t){var e=i.$$p,n=e||m;e&&(i.$$p=null);for(var $=0,r=t.length;$<r;$++){var o=t.charCodeAt($);b.yield1(n,255&o),b.yield1(n,o>>8)}},i.$$arity=1),b.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,o.$$arity=0,o)),v(b.const_get(s,"Encoding",!0,!0),"register",["ASCII-8BIT",w(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],((i=function(){var o,t,e=i.$$s||this;return b.def(e,"$each_byte",o=function(t){var e=o.$$p,n=e||m;e&&(o.$$p=null);for(var $=0,r=t.length;$<r;$++)b.yield1(n,255&t.charCodeAt($))},o.$$arity=1),b.def(e,"$bytesize",t=function(t){return t.$bytes().$length()},t.$$arity=1),m&&"bytesize"}).$$s=t,i.$$arity=0,i)),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_=$=y(t,null,"String",$),d=_.$$proto,f=_.$$scope,p=n.slice().concat(f);return d.encoding=m,String.prototype.encoding=b.const_get([b.const_get(p,"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0),b.defn(_,"$bytes",r=function(){return this.$each_byte().$to_a()},r.$$arity=0),b.defn(_,"$bytesize",o=function(){return this.encoding.$bytesize(this)},o.$$arity=0),b.defn(_,"$each_byte",i=function(){var t=i.$$p,e=t||m;return t&&(i.$$p=null),e===m?this.$enum_for("each_byte"):(v(this.encoding,"each_byte",[this],e.$to_proc()),this)},i.$$arity=0),b.defn(_,"$encode",s=function(t){return this.$dup().$force_encoding(t)},s.$$arity=1),b.defn(_,"$encoding",l=function(){return this.encoding},l.$$arity=0),b.defn(_,"$force_encoding",a=function(t){var e;if(t===this.encoding)return this;if(t=b.Opal["$coerce_to!"](t,b.String,"to_s"),(t=b.const_get(p,"Encoding",!0,!0).$find(t))["$=="](this.encoding))return this;(e=t["$nil?"]())===m||null==e||e.$$is_boolean&&1!=e||this.$raise(b.const_get(p,"ArgumentError",!0,!0),"unknown encoding name - "+t);var n=new String(this);return n.encoding=t,n},a.$$arity=1),b.defn(_,"$getbyte",c=function(t){return this.encoding.$getbyte(this,t)},c.$$arity=1),b.defn(_,"$valid_encoding?",u=function(){return!0},u.$$arity=0),m&&"valid_encoding?"}(e.base,0,s)},Opal.modules["corelib/math"]=function(d){d.top;var t,e,n,$,r,o,i,s,l,a,c,u,_,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L=d,z=[d],P=d.nil,D=(d.breaker,d.slice,d.module);return d.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),t=L.base,e=z,(C=D(t,"Math")).$$proto,N=C.$$scope,j=e.slice().concat(N),d.cdecl(N,"E",Math.E),d.cdecl(N,"PI",Math.PI),d.cdecl(N,"DomainError",d.const_get(j,"Class",!0,!0).$new(d.const_get(j,"StandardError",!0,!0))),d.defs(C,"$checked",n=function(t,e){var n,$=arguments.length,r=$-1;r<0&&(r=0),n=new Array(r);for(var o=1;o<$;o++)n[o-1]=arguments[o];if(isNaN(n[0])||2==n.length&&isNaN(n[1]))return NaN;var i=Math[t].apply(null,n);return isNaN(i)&&this.$raise(d.const_get(j,"DomainError",!0,!0),'Numerical argument is out of domain - "'+t+'"'),i},n.$$arity=-2),d.defs(C,"$float!",$=function(e){var n=this;try{return n.$Float(e)}catch(t){if(!d.rescue(t,[d.const_get(j,"ArgumentError",!0,!0)]))throw t;try{return n.$raise(d.Opal.$type_error(e,d.const_get(j,"Float",!0,!0)))}finally{d.pop_exception()}}},$.$$arity=1),d.defs(C,"$integer!",r=function(e){var n=this;try{return n.$Integer(e)}catch(t){if(!d.rescue(t,[d.const_get(j,"ArgumentError",!0,!0)]))throw t;try{return n.$raise(d.Opal.$type_error(e,d.Integer))}finally{d.pop_exception()}}},r.$$arity=1),C.$module_function(),d.defn(C,"$acos",o=function(t){return d.const_get(j,"Math",!0,!0).$checked("acos",d.const_get(j,"Math",!0,!0)["$float!"](t))},o.$$arity=1),((i=void 0!==Math.acosh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.acosh=function(t){return Math.log(t+Math.sqrt(t*t-1))}),d.defn(C,"$acosh",s=function(t){return d.const_get(j,"Math",!0,!0).$checked("acosh",d.const_get(j,"Math",!0,!0)["$float!"](t))},s.$$arity=1),d.defn(C,"$asin",l=function(t){return d.const_get(j,"Math",!0,!0).$checked("asin",d.const_get(j,"Math",!0,!0)["$float!"](t))},l.$$arity=1),((i=void 0!==Math.asinh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.asinh=function(t){return Math.log(t+Math.sqrt(t*t+1))}),d.defn(C,"$asinh",a=function(t){return d.const_get(j,"Math",!0,!0).$checked("asinh",d.const_get(j,"Math",!0,!0)["$float!"](t))},a.$$arity=1),d.defn(C,"$atan",c=function(t){return d.const_get(j,"Math",!0,!0).$checked("atan",d.const_get(j,"Math",!0,!0)["$float!"](t))},c.$$arity=1),d.defn(C,"$atan2",u=function(t,e){return d.const_get(j,"Math",!0,!0).$checked("atan2",d.const_get(j,"Math",!0,!0)["$float!"](t),d.const_get(j,"Math",!0,!0)["$float!"](e))},u.$$arity=2),((i=void 0!==Math.atanh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.atanh=function(t){return.5*Math.log((1+t)/(1-t))}),d.defn(C,"$atanh",_=function(t){return d.const_get(j,"Math",!0,!0).$checked("atanh",d.const_get(j,"Math",!0,!0)["$float!"](t))},_.$$arity=1),((i=void 0!==Math.cbrt)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.cbrt=function(t){if(0==t)return 0;if(t<0)return-Math.cbrt(-t);for(var e=t,n=0;e<.125;)e*=8,n--;for(;1<e;)e*=.125,n++;for(e=(-.46946116*e+1.072302)*e+.3812513;n<0;)e*=.5,n++;for(;0<n;)e*=2,n--;return e=2/3*(e=2/3*(e=2/3*(e=2/3*e+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e))+1/3*t/(e*e)}),d.defn(C,"$cbrt",f=function(t){return d.const_get(j,"Math",!0,!0).$checked("cbrt",d.const_get(j,"Math",!0,!0)["$float!"](t))},f.$$arity=1),d.defn(C,"$cos",p=function(t){return d.const_get(j,"Math",!0,!0).$checked("cos",d.const_get(j,"Math",!0,!0)["$float!"](t))},p.$$arity=1),((i=void 0!==Math.cosh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),d.defn(C,"$cosh",h=function(t){return d.const_get(j,"Math",!0,!0).$checked("cosh",d.const_get(j,"Math",!0,!0)["$float!"](t))},h.$$arity=1),((i=void 0!==Math.erf)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.erf=function(t){var e=1;t<0&&(e=-1);var n=1/(1+.3275911*(t=Math.abs(t)));return e*(1-((((1.061405429*n-1.453152027)*n+1.421413741)*n-.284496736)*n+.254829592)*n*Math.exp(-t*t))}),d.defn(C,"$erf",g=function(t){return d.const_get(j,"Math",!0,!0).$checked("erf",d.const_get(j,"Math",!0,!0)["$float!"](t))},g.$$arity=1),((i=void 0!==Math.erfc)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.erfc=function(t){var e=Math.abs(t),n=1/(.5*e+1),$=-e*e-1.26551223+n*(n*(n*(n*(n*(n*(n*(n*(.17087277*n-.82215223)+1.48851587)-1.13520398)+.27886807)-.18628806)+.09678418)+.37409196)+1.00002368),r=n*Math.exp($);return t<0?2-r:r}),d.defn(C,"$erfc",b=function(t){return d.const_get(j,"Math",!0,!0).$checked("erfc",d.const_get(j,"Math",!0,!0)["$float!"](t))},b.$$arity=1),d.defn(C,"$exp",m=function(t){return d.const_get(j,"Math",!0,!0).$checked("exp",d.const_get(j,"Math",!0,!0)["$float!"](t))},m.$$arity=1),d.defn(C,"$frexp",y=function(t){if(t=d.const_get(j,"Math",!0,!0)["$float!"](t),isNaN(t))return[NaN,0];var e=Math.floor(Math.log(Math.abs(t))/Math.log(2))+1;return[t/Math.pow(2,e),e]},y.$$arity=1),d.defn(C,"$gamma",v=function(t){var e,n,$,r,o,i,s,l,a;t=d.const_get(j,"Math",!0,!0)["$float!"](t);var c,u,_=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(t))return NaN;if(0===t&&1/t<0)return-1/0;if(-1!==t&&t!==-1/0||this.$raise(d.const_get(j,"DomainError",!0,!0),'Numerical argument is out of domain - "gamma"'),d.Integer["$==="](t)){if(t<=0)return isFinite(t)?1/0:NaN;if(171<t)return 1/0;for(r=t-2,o=t-1;1<r;)o*=r,r--;return 0==o&&(o=1),o}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*d.const_get(j,"Math",!0,!0).$gamma((u=t,"number"==typeof(c=1)&&"number"==typeof u?c-u:c["$-"](u))));if(171.35<=t)return 1/0;if(85<t)return a=(l=(s=(i=t*t)*t)*t)*t,Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*i)-139/(51840*s)-571/(2488320*l)+163879/(209018880*a)+5246819/(75246796800*a*t));for(t-=1,$=_[0],e=1;e<_.length;++e)$+=_[e]/(t+e);return n=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(n,t+.5)*Math.exp(-n)*$},v.$$arity=1),((i=void 0!==Math.hypot)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.hypot=function(t,e){return Math.sqrt(t*t+e*e)}),d.defn(C,"$hypot",w=function(t,e){return d.const_get(j,"Math",!0,!0).$checked("hypot",d.const_get(j,"Math",!0,!0)["$float!"](t),d.const_get(j,"Math",!0,!0)["$float!"](e))},w.$$arity=2),d.defn(C,"$ldexp",x=function(t,e){return t=d.const_get(j,"Math",!0,!0)["$float!"](t),e=d.const_get(j,"Math",!0,!0)["$integer!"](e),isNaN(e)&&this.$raise(d.const_get(j,"RangeError",!0,!0),"float NaN out of range of integer"),t*Math.pow(2,e)},x.$$arity=2),d.defn(C,"$lgamma",k=function(t){return-1==t?[1/0,1]:[Math.log(Math.abs(d.const_get(j,"Math",!0,!0).$gamma(t))),d.const_get(j,"Math",!0,!0).$gamma(t)<0?-1:1]},k.$$arity=1),d.defn(C,"$log",O=function(t,e){var n,$,r;return(n=d.String["$==="](t))===P||null==n||n.$$is_boolean&&1!=n||this.$raise(d.Opal.$type_error(t,d.const_get(j,"Float",!0,!0))),(n=null==e)===P||null==n||n.$$is_boolean&&1!=n?((n=d.String["$==="](e))===P||null==n||n.$$is_boolean&&1!=n||this.$raise(d.Opal.$type_error(e,d.const_get(j,"Float",!0,!0))),$=d.const_get(j,"Math",!0,!0).$checked("log",d.const_get(j,"Math",!0,!0)["$float!"](t)),r=d.const_get(j,"Math",!0,!0).$checked("log",d.const_get(j,"Math",!0,!0)["$float!"](e)),"number"==typeof $&&"number"==typeof r?$/r:$["$/"](r)):d.const_get(j,"Math",!0,!0).$checked("log",d.const_get(j,"Math",!0,!0)["$float!"](t))},O.$$arity=-2),((i=void 0!==Math.log10)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.log10=function(t){return Math.log(t)/Math.LN10}),d.defn(C,"$log10",E=function(t){var e;return(e=d.String["$==="](t))===P||null==e||e.$$is_boolean&&1!=e||this.$raise(d.Opal.$type_error(t,d.const_get(j,"Float",!0,!0))),d.const_get(j,"Math",!0,!0).$checked("log10",d.const_get(j,"Math",!0,!0)["$float!"](t))},E.$$arity=1),((i=void 0!==Math.log2)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.log2=function(t){return Math.log(t)/Math.LN2}),d.defn(C,"$log2",A=function(t){var e;return(e=d.String["$==="](t))===P||null==e||e.$$is_boolean&&1!=e||this.$raise(d.Opal.$type_error(t,d.const_get(j,"Float",!0,!0))),d.const_get(j,"Math",!0,!0).$checked("log2",d.const_get(j,"Math",!0,!0)["$float!"](t))},A.$$arity=1),d.defn(C,"$sin",S=function(t){return d.const_get(j,"Math",!0,!0).$checked("sin",d.const_get(j,"Math",!0,!0)["$float!"](t))},S.$$arity=1),((i=void 0!==Math.sinh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),d.defn(C,"$sinh",R=function(t){return d.const_get(j,"Math",!0,!0).$checked("sinh",d.const_get(j,"Math",!0,!0)["$float!"](t))},R.$$arity=1),d.defn(C,"$sqrt",M=function(t){return d.const_get(j,"Math",!0,!0).$checked("sqrt",d.const_get(j,"Math",!0,!0)["$float!"](t))},M.$$arity=1),d.defn(C,"$tan",T=function(t){var e;return(e=(t=d.const_get(j,"Math",!0,!0)["$float!"](t))["$infinite?"]())===P||null==e||e.$$is_boolean&&1!=e?d.const_get(j,"Math",!0,!0).$checked("tan",d.const_get(j,"Math",!0,!0)["$float!"](t)):d.const_get([d.const_get(j,"Float",!0,!0).$$scope],"NAN",!0,!0)},T.$$arity=1),((i=void 0!==Math.tanh)===P||null==i||i.$$is_boolean&&1!=i)&&(Math.tanh=function(t){return t==1/0?1:t==-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void d.defn(C,"$tanh",I=function(t){return d.const_get(j,"Math",!0,!0).$checked("tanh",d.const_get(j,"Math",!0,!0)["$float!"](t))},I.$$arity=1)},Opal.modules["corelib/complex"]=function(z){function P(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}var t,e,n,$,r,o,i=z.top,s=z,l=[z],U=z.nil,F=(z.breaker,z.slice,z.klass),a=z.module;return z.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$zero?","$infinite?"]),i.$require("corelib/numeric"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C=$=F(t,e,"Complex",$),N=C.$$proto,j=C.$$scope,L=n.slice().concat(j);N.real=N.imag=U,z.defs(C,"$rect",r=function(t,e){var n,$,r,o;return null==e&&(e=0),((n=!1!==($=!1!==(r=!1!==(o=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&o!==U&&null!=o?t["$real?"]():o)&&r!==U&&null!=r?z.const_get(L,"Numeric",!0,!0)["$==="](e):r)&&$!==U&&null!=$?e["$real?"]():$)===U||null==n||n.$$is_boolean&&1!=n)&&this.$raise(z.const_get(L,"TypeError",!0,!0),"not a real"),this.$new(t,e)},r.$$arity=-2),function(t,e){t.$$proto,t.$$scope,e.slice().concat(t);z.alias(t,"rectangular","rect")}(z.get_singleton_class(C),L),z.defs(C,"$polar",o=function(t,e){var n,$,r,o;return null==e&&(e=0),((n=!1!==($=!1!==(r=!1!==(o=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&o!==U&&null!=o?t["$real?"]():o)&&r!==U&&null!=r?z.const_get(L,"Numeric",!0,!0)["$==="](e):r)&&$!==U&&null!=$?e["$real?"]():$)===U||null==n||n.$$is_boolean&&1!=n)&&this.$raise(z.const_get(L,"TypeError",!0,!0),"not a real"),this.$new(P(t,z.const_get(L,"Math",!0,!0).$cos(e)),P(t,z.const_get(L,"Math",!0,!0).$sin(e)))},o.$$arity=-2),C.$attr_reader("real","imag"),z.defn(C,"$initialize",i=function(t,e){return null==e&&(e=0),this.real=t,this.imag=e},i.$$arity=-2),z.defn(C,"$coerce",s=function(t){var e,n;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?this.$raise(z.const_get(L,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"):[z.const_get(L,"Complex",!0,!0).$new(t,0),this]:[t,this]},s.$$arity=1),z.defn(C,"$==",l=function(t){var e,n;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?t["$=="](this):(e=this.real["$=="](t))?this.imag["$=="](0):this.real["$=="](t):(e=this.real["$=="](t.$real()))?this.imag["$=="](t.$imag()):this.real["$=="](t.$real())},l.$$arity=1),z.defn(C,"$-@",a=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},a.$$arity=0),z.defn(C,"$+",c=function(t){var e,n;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("+",t):this.$Complex(D(this.real,t),this.imag):this.$Complex(D(this.real,t.$real()),D(this.imag,t.$imag()))},c.$$arity=1),z.defn(C,"$-",u=function(t){var e,n;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("-",t):this.$Complex(B(this.real,t),this.imag):this.$Complex(B(this.real,t.$real()),B(this.imag,t.$imag()))},u.$$arity=1),z.defn(C,"$*",_=function(t){var e,n;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("*",t):this.$Complex(P(this.real,t),P(this.imag,t)):this.$Complex(B(P(this.real,t.$real()),P(this.imag,t.$imag())),D(P(this.real,t.$imag()),P(this.imag,t.$real())))},_.$$arity=1),z.defn(C,"$/",d=function(t){var e,n,$,r,o;return(e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=z.const_get(L,"Numeric",!0,!0)["$==="](t))&&n!==U&&null!=n?t["$real?"]():n)===U||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("/",t):this.$Complex(this.real.$quo(t),this.imag.$quo(t)):(e=!1!==(n=!1!==($=!1!==(r=!1!==(o=z.const_get(L,"Number",!0,!0)["$==="](this.real))&&o!==U&&null!=o?this.real["$nan?"]():o)&&r!==U&&null!=r?r:!1!==(o=z.const_get(L,"Number",!0,!0)["$==="](this.imag))&&o!==U&&null!=o?this.imag["$nan?"]():o)&&$!==U&&null!=$?$:!1!==(r=z.const_get(L,"Number",!0,!0)["$==="](t.$real()))&&r!==U&&null!=r?t.$real()["$nan?"]():r)&&n!==U&&null!=n?n:!1!==($=z.const_get(L,"Number",!0,!0)["$==="](t.$imag()))&&$!==U&&null!=$?t.$imag()["$nan?"]():$)===U||null==e||e.$$is_boolean&&1!=e?q(P(this,t.$conj()),t.$abs2()):z.const_get(L,"Complex",!0,!0).$new(z.const_get([z.const_get(L,"Float",!0,!0).$$scope],"NAN",!0,!0),z.const_get([z.const_get(L,"Float",!0,!0).$$scope],"NAN",!0,!0))},d.$$arity=1),z.defn(C,"$**",f=function(t){var e,n,$,r,o,i,s,l=U,a=U,c=U,u=U,_=U,d=U,f=U,p=U,h=U,g=U;if(t["$=="](0))return z.const_get(L,"Complex",!0,!0).$new(1,0);if((e=z.const_get(L,"Complex",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e){if((e=z.Integer["$==="](t))===U||null==e||e.$$is_boolean&&1!=e)return(e=!1!==(n=z.const_get(L,"Float",!0,!0)["$==="](t))&&n!==U&&null!=n?n:z.const_get(L,"Rational",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e?this.$__coerced__("**",t):(n=this.$polar(),l=null==(e=z.to_ary(n))[0]?U:e[0],a=null==e[1]?U:e[1],z.const_get(L,"Complex",!0,!0).$polar(l["$**"](t),P(a,t)));if(s=0,(e="number"==typeof(i=t)&&"number"==typeof s?s<i:i["$>"](s))===U||null==e||e.$$is_boolean&&1!=e)return q(z.const_get(L,"Rational",!0,!0).$new(1,1),this)["$**"](t["$-@"]());for(p=f=this,h=B(t,1);(n=h["$!="](0))!==U&&null!=n&&(!n.$$is_boolean||1==n);){for(;o=h.$divmod(2),g=null==(r=z.to_ary(o))[0]?U:r[0],($=(null==r[1]?U:r[1])["$=="](0))!==U&&null!=$&&(!$.$$is_boolean||1==$);)f=this.$Complex(B(P(f.$real(),f.$real()),P(f.$imag(),f.$imag())),P(P(2,f.$real()),f.$imag())),h=g;p=P(p,f),h=B(h,1)}return p}return n=this.$polar(),l=null==(e=z.to_ary(n))[0]?U:e[0],a=null==e[1]?U:e[1],c=t.$real(),u=t.$imag(),_=z.const_get(L,"Math",!0,!0).$exp(B(P(c,z.const_get(L,"Math",!0,!0).$log(l)),P(u,a))),d=D(P(a,c),P(u,z.const_get(L,"Math",!0,!0).$log(l))),z.const_get(L,"Complex",!0,!0).$polar(_,d)},f.$$arity=1),z.defn(C,"$abs",p=function(){return z.const_get(L,"Math",!0,!0).$hypot(this.real,this.imag)},p.$$arity=0),z.defn(C,"$abs2",h=function(){return D(P(this.real,this.real),P(this.imag,this.imag))},h.$$arity=0),z.defn(C,"$angle",g=function(){return z.const_get(L,"Math",!0,!0).$atan2(this.imag,this.real)},g.$$arity=0),z.alias(C,"arg","angle"),z.defn(C,"$conj",b=function(){return this.$Complex(this.real,this.imag["$-@"]())},b.$$arity=0),z.alias(C,"conjugate","conj"),z.defn(C,"$denominator",m=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},m.$$arity=0),z.alias(C,"divide","/"),z.defn(C,"$eql?",y=function(t){var e,n;return!1!==(e=!1!==(n=z.const_get(L,"Complex",!0,!0)["$==="](t))&&n!==U&&null!=n?this.real.$class()["$=="](this.imag.$class()):n)&&e!==U&&null!=e?this["$=="](t):e},y.$$arity=1),z.defn(C,"$fdiv",v=function(t){var e;return((e=z.const_get(L,"Numeric",!0,!0)["$==="](t))===U||null==e||e.$$is_boolean&&1!=e)&&this.$raise(z.const_get(L,"TypeError",!0,!0),t.$class()+" can't be coerced into Complex"),q(this,t)},v.$$arity=1),z.defn(C,"$hash",w=function(){return"Complex:"+this.real+":"+this.imag},w.$$arity=0),z.alias(C,"imaginary","imag"),z.defn(C,"$inspect",x=function(){return"("+this.$to_s()+")"},x.$$arity=0),z.alias(C,"magnitude","abs"),z.udef(C,"$negative?"),z.defn(C,"$numerator",k=function(){var t;return t=this.$denominator(),this.$Complex(P(this.real.$numerator(),q(t,this.real.$denominator())),P(this.imag.$numerator(),q(t,this.imag.$denominator())))},k.$$arity=0),z.alias(C,"phase","arg"),z.defn(C,"$polar",O=function(){return[this.$abs(),this.$arg()]},O.$$arity=0),z.udef(C,"$positive?"),z.alias(C,"quo","/"),z.defn(C,"$rationalize",E=function(t){var e;return 1<arguments.length&&this.$raise(z.const_get(L,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),(e=this.imag["$!="](0))===U||null==e||e.$$is_boolean&&1!=e||this.$raise(z.const_get(L,"RangeError",!0,!0),"can't' convert "+this+" into Rational"),this.$real().$rationalize(t)},E.$$arity=-1),z.defn(C,"$real?",A=function(){return!1},A.$$arity=0),z.defn(C,"$rect",S=function(){return[this.real,this.imag]},S.$$arity=0),z.alias(C,"rectangular","rect"),z.defn(C,"$to_f",R=function(){return this.imag["$=="](0)||this.$raise(z.const_get(L,"RangeError",!0,!0),"can't convert "+this+" into Float"),this.real.$to_f()},R.$$arity=0),z.defn(C,"$to_i",M=function(){return this.imag["$=="](0)||this.$raise(z.const_get(L,"RangeError",!0,!0),"can't convert "+this+" into Integer"),this.real.$to_i()},M.$$arity=0),z.defn(C,"$to_r",T=function(){return this.imag["$=="](0)||this.$raise(z.const_get(L,"RangeError",!0,!0),"can't convert "+this+" into Rational"),this.real.$to_r()},T.$$arity=0),z.defn(C,"$to_s",I=function(){var t,e,n,$,r=U;return r=this.real.$inspect(),r=D(r=(t=!1!==(e=!1!==(n=!1!==($=z.const_get(L,"Number",!0,!0)["$==="](this.imag))&&$!==U&&null!=$?this.imag["$nan?"]():$)&&n!==U&&null!=n?n:this.imag["$positive?"]())&&e!==U&&null!=e?e:this.imag["$zero?"]())===U||null==t||t.$$is_boolean&&1!=t?D(r,"-"):D(r,"+"),this.imag.$abs().$inspect()),(t=!1!==(e=z.const_get(L,"Number",!0,!0)["$==="](this.imag))&&e!==U&&null!=e?!1!==(n=this.imag["$nan?"]())&&n!==U&&null!=n?n:this.imag["$infinite?"]():e)===U||null==t||t.$$is_boolean&&1!=t||(r=D(r,"*")),D(r,"i")},I.$$arity=0),z.cdecl(j,"I",C.$new(0,1))}(s.base,z.const_get(l,"Numeric",!0,!0),l),t=s.base,e=l,($=a(t,"Kernel")).$$proto,r=$.$$scope,o=e.slice().concat(r),void z.defn($,"$Complex",n=function(t,e){return null==e&&(e=U),!1!==e&&e!==U&&null!=e?z.const_get(o,"Complex",!0,!0).$new(t,e):z.const_get(o,"Complex",!0,!0).$new(t,0)},n.$$arity=-2)},Opal.modules["corelib/rational"]=function(N){function j(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function L(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function P(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t,e,n,$,r,o,i=N.top,s=N,l=[N],B=N.nil,q=(N.breaker,N.slice,N.klass),a=N.module;return N.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),i.$require("corelib/numeric"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M=$=q(t,e,"Rational",$),T=M.$$proto,I=M.$$scope,C=n.slice().concat(I);T.num=T.den=B,N.defs(M,"$reduce",r=function(t,e){var n,$;if(t=t.$to_i(),(e=e.$to_i())["$=="](0))this.$raise(N.const_get(C,"ZeroDivisionError",!0,!0),"divided by 0");else if((n=j(e,0))===B||null==n||n.$$is_boolean&&1!=n){if(e["$=="](1))return this.$new(t,e)}else t=t["$-@"](),e=e["$-@"]();return $=t.$gcd(e),this.$new(L(t,$),L(e,$))},r.$$arity=2),N.defs(M,"$convert",o=function(t,e){var n,$,r;return(n=!1!==($=t["$nil?"]())&&$!==B&&null!=$?$:e["$nil?"]())===B||null==n||n.$$is_boolean&&1!=n||this.$raise(N.const_get(C,"TypeError",!0,!0),"cannot convert nil into Rational"),(n=!1!==($=N.Integer["$==="](t))&&$!==B&&null!=$?N.Integer["$==="](e):$)===B||null==n||n.$$is_boolean&&1!=n?((n=!1!==($=!1!==(r=N.const_get(C,"Float",!0,!0)["$==="](t))&&r!==B&&null!=r?r:N.String["$==="](t))&&$!==B&&null!=$?$:N.const_get(C,"Complex",!0,!0)["$==="](t))===B||null==n||n.$$is_boolean&&1!=n||(t=t.$to_r()),(n=!1!==($=!1!==(r=N.const_get(C,"Float",!0,!0)["$==="](e))&&r!==B&&null!=r?r:N.String["$==="](e))&&$!==B&&null!=$?$:N.const_get(C,"Complex",!0,!0)["$==="](e))===B||null==n||n.$$is_boolean&&1!=n||(e=e.$to_r()),(n=!1!==($=e["$equal?"](1))&&$!==B&&null!=$?N.Integer["$==="](t)["$!"]():$)===B||null==n||n.$$is_boolean&&1!=n?(n=!1!==($=N.const_get(C,"Numeric",!0,!0)["$==="](t))&&$!==B&&null!=$?N.const_get(C,"Numeric",!0,!0)["$==="](e):$)===B||null==n||n.$$is_boolean&&1!=n?this.$reduce(t,e):L(t,e):N.Opal["$coerce_to!"](t,N.const_get(C,"Rational",!0,!0),"to_r")):this.$reduce(t,e)},o.$$arity=2),M.$attr_reader("numerator","denominator"),N.defn(M,"$initialize",i=function(t,e){return this.num=t,this.den=e},i.$$arity=2),N.defn(M,"$numerator",s=function(){return this.num},s.$$arity=0),N.defn(M,"$denominator",l=function(){return this.den},l.$$arity=0),N.defn(M,"$coerce",a=function(t){var e=this,n=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?[t,e]:N.Integer["$==="](n)?[t.$to_r(),e]:N.const_get(C,"Float",!0,!0)["$==="](n)?[t,e.$to_f()]:B},a.$$arity=1),N.defn(M,"$==",c=function(t){var e=this,n=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?e.num["$=="](t.$numerator())?e.den["$=="](t.$denominator()):e.num["$=="](t.$numerator()):N.Integer["$==="](n)?e.num["$=="](t)?e.den["$=="](1):e.num["$=="](t):N.const_get(C,"Float",!0,!0)["$==="](n)?e.$to_f()["$=="](t):t["$=="](e)},c.$$arity=1),N.defn(M,"$<=>",u=function(t){var e=this,n=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?z(P(e.num,t.$denominator()),P(e.den,t.$numerator()))["$<=>"](0):N.Integer["$==="](n)?z(e.num,P(e.den,t))["$<=>"](0):N.const_get(C,"Float",!0,!0)["$==="](n)?e.$to_f()["$<=>"](t):e.$__coerced__("<=>",t)},u.$$arity=1),N.defn(M,"$+",_=function(t){var e=this,n=B,$=B,r=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?($=D(P(e.num,t.$denominator()),P(e.den,t.$numerator())),r=P(e.den,t.$denominator()),e.$Rational($,r)):N.Integer["$==="](n)?e.$Rational(D(e.num,P(t,e.den)),e.den):N.const_get(C,"Float",!0,!0)["$==="](n)?D(e.$to_f(),t):e.$__coerced__("+",t)},_.$$arity=1),N.defn(M,"$-",d=function(t){var e=this,n=B,$=B,r=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?($=z(P(e.num,t.$denominator()),P(e.den,t.$numerator())),r=P(e.den,t.$denominator()),e.$Rational($,r)):N.Integer["$==="](n)?e.$Rational(z(e.num,P(t,e.den)),e.den):N.const_get(C,"Float",!0,!0)["$==="](n)?z(e.$to_f(),t):e.$__coerced__("-",t)},d.$$arity=1),N.defn(M,"$*",f=function(t){var e=this,n=B,$=B,r=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?($=P(e.num,t.$numerator()),r=P(e.den,t.$denominator()),e.$Rational($,r)):N.Integer["$==="](n)?e.$Rational(P(e.num,t),e.den):N.const_get(C,"Float",!0,!0)["$==="](n)?P(e.$to_f(),t):e.$__coerced__("*",t)},f.$$arity=1),N.defn(M,"$/",p=function(t){var e=this,n=B,$=B,r=B;return n=t,N.const_get(C,"Rational",!0,!0)["$==="](n)?($=P(e.num,t.$denominator()),r=P(e.den,t.$numerator()),e.$Rational($,r)):N.Integer["$==="](n)?t["$=="](0)?L(e.$to_f(),0):e.$Rational(e.num,P(e.den,t)):N.const_get(C,"Float",!0,!0)["$==="](n)?L(e.$to_f(),t):e.$__coerced__("/",t)},p.$$arity=1),N.defn(M,"$**",h=function(t){var e,n,$,r=this,o=B;return o=t,N.Integer["$==="](o)?(e=r["$=="](0)?j(t,0):r["$=="](0))===B||null==e||e.$$is_boolean&&1!=e?($=0,(e="number"==typeof(n=t)&&"number"==typeof $?$<n:n["$>"]($))===B||null==e||e.$$is_boolean&&1!=e?(e=j(t,0))===B||null==e||e.$$is_boolean&&1!=e?r.$Rational(1,1):r.$Rational(r.den["$**"](t["$-@"]()),r.num["$**"](t["$-@"]())):r.$Rational(r.num["$**"](t),r.den["$**"](t))):N.const_get([N.const_get(C,"Float",!0,!0).$$scope],"INFINITY",!0,!0):N.const_get(C,"Float",!0,!0)["$==="](o)?r.$to_f()["$**"](t):N.const_get(C,"Rational",!0,!0)["$==="](o)?t["$=="](0)?r.$Rational(1,1):t.$denominator()["$=="](1)?(e=j(t,0))===B||null==e||e.$$is_boolean&&1!=e?r.$Rational(r.num["$**"](t.$numerator()),r.den["$**"](t.$numerator())):r.$Rational(r.den["$**"](t.$numerator().$abs()),r.num["$**"](t.$numerator().$abs())):(e=r["$=="](0)?j(t,0):r["$=="](0))===B||null==e||e.$$is_boolean&&1!=e?r.$to_f()["$**"](t):r.$raise(N.const_get(C,"ZeroDivisionError",!0,!0),"divided by 0"):r.$__coerced__("**",t)},h.$$arity=1),N.defn(M,"$abs",g=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},g.$$arity=0),N.defn(M,"$ceil",b=function(t){return null==t&&(t=0),t["$=="](0)?L(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",t)},b.$$arity=-1),N.alias(M,"divide","/"),N.defn(M,"$floor",m=function(t){return null==t&&(t=0),t["$=="](0)?L(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",t)},m.$$arity=-1),N.defn(M,"$hash",y=function(){return"Rational:"+this.num+":"+this.den},y.$$arity=0),N.defn(M,"$inspect",v=function(){return"("+this.$to_s()+")"},v.$$arity=0),N.alias(M,"quo","/"),N.defn(M,"$rationalize",w=function(t){if(1<arguments.length&&this.$raise(N.const_get(C,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==t)return this;for(var e,n,$,r,o,i,s,l=t.$abs(),a=z(this,l),c=D(this,l),u=0,_=1,d=1,f=0;$=a.$ceil(),s=c,!("number"==typeof(i=$)&&"number"==typeof s?i<=s:i["$<="](s));)e=(r=$-1)*_+u,n=r*f+d,o=L(1,z(c,r)),c=L(1,z(a,r)),a=o,u=_,d=f,_=e,f=n;return this.$Rational($*_+u,$*f+d)},w.$$arity=-1),N.defn(M,"$round",x=function(t){var e,n=B;return null==t&&(t=0),t["$=="](0)?this.num["$=="](0)?0:this.den["$=="](1)?this.num:(n=L(D(P(this.num.$abs(),2),this.den),P(this.den,2)).$truncate(),(e=j(this.num,0))===B||null==e||e.$$is_boolean&&1!=e?n:n["$-@"]()):this.$with_precision("round",t)},x.$$arity=-1),N.defn(M,"$to_f",k=function(){return L(this.num,this.den)},k.$$arity=0),N.defn(M,"$to_i",O=function(){return this.$truncate()},O.$$arity=0),N.defn(M,"$to_r",E=function(){return this},E.$$arity=0),N.defn(M,"$to_s",A=function(){return this.num+"/"+this.den},A.$$arity=0),N.defn(M,"$truncate",S=function(t){var e;return null==t&&(t=0),t["$=="](0)?(e=j(this.num,0))===B||null==e||e.$$is_boolean&&1!=e?this.$floor():this.$ceil():this.$with_precision("truncate",t)},S.$$arity=-1),N.defn(M,"$with_precision",R=function(t,e){var n,$,r=B;return((n=N.Integer["$==="](e))===B||null==n||n.$$is_boolean&&1!=n)&&this.$raise(N.const_get(C,"TypeError",!0,!0),"not an Integer"),r=P(this,$=10["$**"](e)),(n=j(e,1))===B||null==n||n.$$is_boolean&&1!=n?this.$Rational(r.$send(t),$):L(r.$send(t),$).$to_i()},R.$$arity=2)}(s.base,N.const_get(l,"Numeric",!0,!0),l),t=s.base,e=l,($=a(t,"Kernel")).$$proto,r=$.$$scope,o=e.slice().concat(r),void N.defn($,"$Rational",n=function(t,e){return null==e&&(e=1),N.const_get(o,"Rational",!0,!0).$convert(t,e)},n.$$arity=-2)},Opal.modules["corelib/time"]=function(tt){function et(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function $t(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function rt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}var t=tt.top,e=tt,n=[tt],ot=tt.nil,it=(tt.breaker,tt.slice),st=tt.klass,lt=tt.range;return tt.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),t.$require("corelib/comparable"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y=$=st(t,e,"Time",$),K=(Y.$$proto,Y.$$scope),W=n.slice().concat(K);Y.$include(tt.const_get(W,"Comparable",!0,!0));var X=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Z=["January","February","March","April","May","June","July","August","September","October","November","December"];function Q(t,e,n,$,r,o){if(t=t.$$is_string?parseInt(t,10):tt.Opal["$coerce_to!"](t,tt.Integer,"to_int"),e===ot)e=1;else if(!e.$$is_number)if(e["$respond_to?"]("to_str"))switch((e=e.$to_str()).toLowerCase()){case"jan":e=1;break;case"feb":e=2;break;case"mar":e=3;break;case"apr":e=4;break;case"may":e=5;break;case"jun":e=6;break;case"jul":e=7;break;case"aug":e=8;break;case"sep":e=9;break;case"oct":e=10;break;case"nov":e=11;break;case"dec":e=12;break;default:e=e.$to_i()}else e=tt.Opal["$coerce_to!"](e,tt.Integer,"to_int");return(e<1||12<e)&&Y.$raise(tt.const_get(W,"ArgumentError",!0,!0),"month out of range: "+e),e-=1,((n=n===ot?1:n.$$is_string?parseInt(n,10):tt.Opal["$coerce_to!"](n,tt.Integer,"to_int"))<1||31<n)&&Y.$raise(tt.const_get(W,"ArgumentError",!0,!0),"day out of range: "+n),(($=$===ot?0:$.$$is_string?parseInt($,10):tt.Opal["$coerce_to!"]($,tt.Integer,"to_int"))<0||24<$)&&Y.$raise(tt.const_get(W,"ArgumentError",!0,!0),"hour out of range: "+$),((r=r===ot?0:r.$$is_string?parseInt(r,10):tt.Opal["$coerce_to!"](r,tt.Integer,"to_int"))<0||59<r)&&Y.$raise(tt.const_get(W,"ArgumentError",!0,!0),"min out of range: "+r),o===ot?o=0:o.$$is_number||(o=o.$$is_string?parseInt(o,10):tt.Opal["$coerce_to!"](o,tt.Integer,"to_int")),(o<0||60<o)&&Y.$raise(tt.const_get(W,"ArgumentError",!0,!0),"sec out of range: "+o),[t,e,n,$,r,o]}return tt.defs(Y,"$at",r=function(t,e){var n;return tt.const_get(W,"Time",!0,!0)["$==="](t)?(void 0!==e&&this.$raise(tt.const_get(W,"TypeError",!0,!0),"can't convert Time into an exact number"),(n=new Date(t.getTime())).is_utc=t.is_utc,n):(t.$$is_number||(t=tt.Opal["$coerce_to!"](t,tt.Integer,"to_int")),void 0===e?new Date(1e3*t):(e.$$is_number||(e=tt.Opal["$coerce_to!"](e,tt.Integer,"to_int")),new Date(1e3*t+e/1e3)))},r.$$arity=-2),tt.defs(Y,"$new",o=function(t,e,n,$,r,o,i){var s,l;return null==e&&(e=ot),null==n&&(n=ot),null==$&&($=ot),null==r&&(r=ot),null==o&&(o=ot),null==i&&(i=ot),void 0===t?new Date:(i!==ot&&this.$raise(tt.const_get(W,"ArgumentError",!0,!0),"Opal does not support explicitly specifying UTC offset for Time"),t=(s=Q(t,e,n,$,r,o))[0],e=s[1],n=s[2],$=s[3],r=s[4],o=s[5],l=new Date(t,e,n,$,r,0,1e3*o),t<100&&l.setFullYear(t),l)},o.$$arity=-1),tt.defs(Y,"$local",i=function(t,e,n,$,r,o,i,s,l,a){var c,u;return null==e&&(e=ot),null==n&&(n=ot),null==$&&($=ot),null==r&&(r=ot),null==o&&(o=ot),null==i&&(i=ot),null==s&&(s=ot),null==l&&(l=ot),null==a&&(a=ot),10===arguments.length&&(t=(c=it.call(arguments))[5],e=c[4],n=c[3],$=c[2],r=c[1],o=c[0]),t=(c=Q(t,e,n,$,r,o))[0],e=c[1],n=c[2],$=c[3],r=c[4],o=c[5],u=new Date(t,e,n,$,r,0,1e3*o),t<100&&u.setFullYear(t),u},i.$$arity=-2),tt.defs(Y,"$gm",s=function(t,e,n,$,r,o,i,s,l,a){var c,u;return null==e&&(e=ot),null==n&&(n=ot),null==$&&($=ot),null==r&&(r=ot),null==o&&(o=ot),null==i&&(i=ot),null==s&&(s=ot),null==l&&(l=ot),null==a&&(a=ot),10===arguments.length&&(t=(c=it.call(arguments))[5],e=c[4],n=c[3],$=c[2],r=c[1],o=c[0]),t=(c=Q(t,e,n,$,r,o))[0],e=c[1],n=c[2],$=c[3],r=c[4],o=c[5],u=new Date(Date.UTC(t,e,n,$,r,0,1e3*o)),t<100&&u.setUTCFullYear(t),u.is_utc=!0,u},s.$$arity=-2),function(t,e){t.$$proto,t.$$scope,e.slice().concat(t);tt.alias(t,"mktime","local"),tt.alias(t,"utc","gm")}(tt.get_singleton_class(Y),W),tt.defs(Y,"$now",l=function(){return this.$new()},l.$$arity=0),tt.defn(Y,"$+",a=function(t){var e;(e=tt.const_get(W,"Time",!0,!0)["$==="](t))===ot||null==e||e.$$is_boolean&&1!=e||this.$raise(tt.const_get(W,"TypeError",!0,!0),"time + time?"),t.$$is_number||(t=tt.Opal["$coerce_to!"](t,tt.Integer,"to_int"));var n=new Date(this.getTime()+1e3*t);return n.is_utc=this.is_utc,n},a.$$arity=1),tt.defn(Y,"$-",c=function(t){var e;if((e=tt.const_get(W,"Time",!0,!0)["$==="](t))!==ot&&null!=e&&(!e.$$is_boolean||1==e))return(this.getTime()-t.getTime())/1e3;t.$$is_number||(t=tt.Opal["$coerce_to!"](t,tt.Integer,"to_int"));var n=new Date(this.getTime()-1e3*t);return n.is_utc=this.is_utc,n},c.$$arity=1),tt.defn(Y,"$<=>",u=function(t){var e,n,$,r,o,i=ot;return(e=tt.const_get(W,"Time",!0,!0)["$==="](t))===ot||null==e||e.$$is_boolean&&1!=e?(e=(i=t["$<=>"](this))["$nil?"]())===ot||null==e||e.$$is_boolean&&1!=e?(o=0,(e="number"==typeof(r=i)&&"number"==typeof o?o<r:r["$>"](o))===ot||null==e||e.$$is_boolean&&1!=e?($=0,(e="number"==typeof(n=i)&&"number"==typeof $?n<$:n["$<"]($))===ot||null==e||e.$$is_boolean&&1!=e?0:1):-1):ot:this.$to_f()["$<=>"](t.$to_f())},u.$$arity=1),tt.defn(Y,"$==",_=function(t){var e;return!1!==(e=tt.const_get(W,"Time",!0,!0)["$==="](t))&&e!==ot&&null!=e?this.$to_f()===t.$to_f():e},_.$$arity=1),tt.defn(Y,"$asctime",d=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},d.$$arity=0),tt.alias(Y,"ctime","asctime"),tt.defn(Y,"$day",f=function(){return this.is_utc?this.getUTCDate():this.getDate()},f.$$arity=0),tt.defn(Y,"$yday",p=function(){var t;return t=tt.const_get(W,"Time",!0,!0).$new(this.$year()).$to_i(),86400,et(nt($t(tt.const_get(W,"Time",!0,!0).$new(this.$year(),this.$month(),this.$day()).$to_i(),t),86400).$round(),1)},p.$$arity=0),tt.defn(Y,"$isdst",h=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},h.$$arity=0),tt.alias(Y,"dst?","isdst"),tt.defn(Y,"$dup",g=function(){var t=ot;return(t=new Date(this.getTime())).$copy_instance_variables(this),t.$initialize_dup(this),t},g.$$arity=0),tt.defn(Y,"$eql?",b=function(t){var e;return!1!==(e=t["$is_a?"](tt.const_get(W,"Time",!0,!0)))&&e!==ot&&null!=e?this["$<=>"](t)["$zero?"]():e},b.$$arity=1),tt.defn(Y,"$friday?",m=function(){return 5==this.$wday()},m.$$arity=0),tt.defn(Y,"$hash",y=function(){return"Time:"+this.getTime()},y.$$arity=0),tt.defn(Y,"$hour",v=function(){return this.is_utc?this.getUTCHours():this.getHours()},v.$$arity=0),tt.defn(Y,"$inspect",w=function(){var t;return(t=this["$utc?"]())===ot||null==t||t.$$is_boolean&&1!=t?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")},w.$$arity=0),tt.alias(Y,"mday","day"),tt.defn(Y,"$min",x=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},x.$$arity=0),tt.defn(Y,"$mon",k=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},k.$$arity=0),tt.defn(Y,"$monday?",O=function(){return 1==this.$wday()},O.$$arity=0),tt.alias(Y,"month","mon"),tt.defn(Y,"$saturday?",E=function(){return 6==this.$wday()},E.$$arity=0),tt.defn(Y,"$sec",A=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},A.$$arity=0),tt.defn(Y,"$succ",S=function(){var t=new Date(this.getTime()+1e3);return t.is_utc=this.is_utc,t},S.$$arity=0),tt.defn(Y,"$usec",R=function(){return 1e3*this.getMilliseconds()},R.$$arity=0),tt.defn(Y,"$zone",M=function(){var t,e=this.toString();return"GMT"==(t=-1==e.indexOf("(")?e.match(/[A-Z]{3,4}/)[0]:e.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""))&&/(GMT\W*\d{4})/.test(e)?RegExp.$1:t},M.$$arity=0),tt.defn(Y,"$getgm",T=function(){var t=new Date(this.getTime());return t.is_utc=!0,t},T.$$arity=0),tt.alias(Y,"getutc","getgm"),tt.defn(Y,"$gmtime",I=function(){return this.is_utc=!0,this},I.$$arity=0),tt.alias(Y,"utc","gmtime"),tt.defn(Y,"$gmt?",C=function(){return!0===this.is_utc},C.$$arity=0),tt.defn(Y,"$gmt_offset",N=function(){return 60*-this.getTimezoneOffset()},N.$$arity=0),tt.defn(Y,"$strftime",j=function(t){var p=this;return t.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(t,e,n,$,r){var o="",i=-1!==e.indexOf("0"),s=-1===e.indexOf("-"),l=-1!==e.indexOf("_"),a=-1!==e.indexOf("^"),c=-1!==e.indexOf("#"),u=(e.match(":")||[]).length;switch(n=parseInt(n,10),i&&l&&(e.indexOf("0")<e.indexOf("_")?i=!1:l=!1),r){case"Y":o+=p.$year();break;case"C":i=!l,o+=Math.round(p.$year()/100);break;case"y":i=!l,o+=p.$year()%100;break;case"m":i=!l,o+=p.$mon();break;case"B":o+=Z[p.$mon()-1];break;case"b":case"h":l=!i,o+=J[p.$mon()-1];break;case"d":i=!l,o+=p.$day();break;case"e":l=!i,o+=p.$day();break;case"j":o+=p.$yday();break;case"H":i=!l,o+=p.$hour();break;case"k":l=!i,o+=p.$hour();break;case"I":i=!l,o+=p.$hour()%12||12;break;case"l":l=!i,o+=p.$hour()%12||12;break;case"P":o+=12<=p.$hour()?"pm":"am";break;case"p":o+=12<=p.$hour()?"PM":"AM";break;case"M":i=!l,o+=p.$min();break;case"S":i=!l,o+=p.$sec();break;case"L":i=!l,n=isNaN(n)?3:n,o+=p.getMilliseconds();break;case"N":n=isNaN(n)?9:n,o=(o+=p.getMilliseconds().toString().$rjust(3,"0")).$ljust(n,"0");break;case"z":var _=p.getTimezoneOffset(),d=Math.floor(Math.abs(_)/60),f=Math.abs(_)%60;o+=_<0?"+":"-",o+=d<10?"0":"",o+=d,0<u&&(o+=":"),o+=f<10?"0":"",o+=f,1<u&&(o+=":00");break;case"Z":o+=p.$zone();break;case"A":o+=X[p.$wday()];break;case"a":o+=V[p.$wday()];break;case"u":o+=p.$wday()+1;break;case"w":o+=p.$wday();break;case"V":o+=p.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":o+=p.$cweek_cyear()["$[]"](1);break;case"g":o+=p.$cweek_cyear()["$[]"](1)["$[]"](lt(-2,-1,!1));break;case"s":o+=p.$to_i();break;case"n":o+="\n";break;case"t":o+="\t";break;case"%":o+="%";break;case"c":o+=p.$strftime("%a %b %e %T %Y");break;case"D":case"x":o+=p.$strftime("%m/%d/%y");break;case"F":o+=p.$strftime("%Y-%m-%d");break;case"v":o+=p.$strftime("%e-%^b-%4Y");break;case"r":o+=p.$strftime("%I:%M:%S %p");break;case"R":o+=p.$strftime("%H:%M");break;case"T":case"X":o+=p.$strftime("%H:%M:%S");break;default:return t}return a&&(o=o.toUpperCase()),c&&(o=o.replace(/[A-Z]/,function(t){t.toLowerCase()}).replace(/[a-z]/,function(t){t.toUpperCase()})),s&&(i||l)&&(o=o.$rjust(isNaN(n)?2:n,l?" ":"0")),o})},j.$$arity=1),tt.defn(Y,"$sunday?",L=function(){return 0==this.$wday()},L.$$arity=0),tt.defn(Y,"$thursday?",z=function(){return 4==this.$wday()},z.$$arity=0),tt.defn(Y,"$to_a",P=function(){var t=this;return[t.$sec(),t.$min(),t.$hour(),t.$day(),t.$month(),t.$year(),t.$wday(),t.$yday(),t.$isdst(),t.$zone()]},P.$$arity=0),tt.defn(Y,"$to_f",D=function(){return this.getTime()/1e3},D.$$arity=0),tt.defn(Y,"$to_i",B=function(){return parseInt(this.getTime()/1e3,10)},B.$$arity=0),tt.alias(Y,"to_s","inspect"),tt.defn(Y,"$tuesday?",q=function(){return 2==this.$wday()},q.$$arity=0),tt.alias(Y,"tv_sec","to_i"),tt.alias(Y,"tv_usec","usec"),tt.alias(Y,"utc?","gmt?"),tt.alias(Y,"gmtoff","gmt_offset"),tt.alias(Y,"utc_offset","gmt_offset"),tt.defn(Y,"$wday",U=function(){return this.is_utc?this.getUTCDay():this.getDay()},U.$$arity=0),tt.defn(Y,"$wednesday?",F=function(){return 3==this.$wday()},F.$$arity=0),tt.defn(Y,"$year",G=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},G.$$arity=0),tt.defn(Y,"$cweek_cyear",H=function(){var t,e,n=ot,$=ot,r=ot,o=ot,i=ot;return n=tt.const_get(W,"Time",!0,!0).$new(this.$year(),1,1).$wday(),0,$=this.$year(),(t=!1!==(e=rt(n,4))&&e!==ot&&null!=e?n["$!="](0):e)===ot||null==t||t.$$is_boolean&&1!=t?(r=$t($t(n,7),1))["$=="](-8)&&(r=-1):r=$t(n,1),(t=rt(o=nt(et(this.$yday(),r),7).$ceil(),0))===ot||null==t||t.$$is_boolean&&1!=t?(o["$=="](53)&&((t=!1!==(e=rt(i=tt.const_get(W,"Time",!0,!0).$new(this.$year(),12,31).$wday(),3))&&e!==ot&&null!=e?i["$!="](0):e)===ot||null==t||t.$$is_boolean&&1!=t||($=et($,o=1))),[o,$]):tt.const_get(W,"Time",!0,!0).$new($t(this.$year(),1),12,31).$cweek_cyear()},H.$$arity=0),ot&&"cweek_cyear"}(e.base,Date,n)},Opal.modules["corelib/struct"]=function(A){function S(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function M(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function T(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}var t=A.top,e=A,n=[A],I=A.nil,C=(A.breaker,A.slice,A.klass),N=A.send,j=A.hash2;return A.add_stubs(["$require","$include","$const_name!","$unshift","$map","$coerce_to!","$new","$each","$define_struct_attribute","$allocate","$initialize","$module_eval","$to_proc","$const_set","$==","$raise","$<<","$members","$define_method","$instance_eval","$>","$length","$class","$each_with_index","$[]","$[]=","$-","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$instance_of?","$__id__","$eql?","$enum_for","$name","$+","$join","$each_pair","$inspect","$inject","$flatten","$to_a","$respond_to?","$dig","$values_at"]),t.$require("corelib/enumerable"),function(t,e,n){function $(){}var u,r,o,i,s,l,a,c,_,d,f,p,h,g,b,m,y,v,w,x,k=$=C(t,null,"Struct",$),O=(k.$$proto,k.$$scope),E=n.slice().concat(O);return k.$include(A.const_get(E,"Enumerable",!0,!0)),A.defs(k,"$new",u=function(e,t){var n,$,r,o,i=u.$$p,s=i||I,l=arguments.length,a=l-1;a<0&&(a=0),r=new Array(a);for(var c=1;c<l;c++)r[c-1]=arguments[c];if(i&&(u.$$p=null),!1!==e&&e!==I&&null!=e)try{e=A.Opal["$const_name!"](e)}catch(t){if(!A.rescue(t,[A.const_get(E,"TypeError",!0,!0),A.const_get(E,"NameError",!0,!0)]))throw t;try{r.$unshift(e),e=I}finally{A.pop_exception()}}return N(r,"map",[],((n=function(t){n.$$s;return null==t&&(t=I),A.Opal["$coerce_to!"](t,A.String,"to_str")}).$$s=this,n.$$arity=1,n)),o=N(A.const_get(E,"Class",!0,!0),"new",[this],(($=function(){var n,t=$.$$s||this;return N(r,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=I),e.$define_struct_attribute(t)}).$$s=t,n.$$arity=1,n)),function(t,e){var n;t.$$proto,t.$$scope,e.slice().concat(t);return A.defn(t,"$new",n=function(t){var e,n=I,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return(n=this.$allocate()).$$data={},N(n,"initialize",A.to_a(e)),n},n.$$arity=-1),A.alias(t,"[]","new")}(A.get_singleton_class(t),E)}).$$s=this,$.$$arity=0,$)),!1!==s&&s!==I&&null!=s&&N(o,"module_eval",[],s.$to_proc()),!1!==e&&e!==I&&null!=e&&A.const_get(E,"Struct",!0,!0).$const_set(e,o),o},u.$$arity=-2),A.defs(k,"$define_struct_attribute",r=function(n){var t,$;return this["$=="](A.const_get(E,"Struct",!0,!0))&&this.$raise(A.const_get(E,"ArgumentError",!0,!0),"you cannot define attributes to the Struct class"),this.$members()["$<<"](n),N(this,"define_method",[n],((t=function(){return(t.$$s||this).$$data[n]}).$$s=this,t.$$arity=0,t)),N(this,"define_method",[n+"="],(($=function(t){var e=$.$$s||this;return null==t&&(t=I),e.$$data[n]=t}).$$s=this,$.$$arity=1,$))},r.$$arity=1),A.defs(k,"$members",o=function(){var t;return null==this.members&&(this.members=I),this["$=="](A.const_get(E,"Struct",!0,!0))&&this.$raise(A.const_get(E,"ArgumentError",!0,!0),"the Struct class has no members"),!1!==(t=this.members)&&t!==I&&null!=t?t:this.members=[]},o.$$arity=0),A.defs(k,"$inherited",i=function(t){var e,n;return null==this.members&&(this.members=I),n=this.members,N(t,"instance_eval",[],((e=function(){return(e.$$s||this).members=n}).$$s=this,e.$$arity=0,e))},i.$$arity=1),A.defn(k,"$initialize",s=function(t){var e,r,o,n,$,i=arguments.length,s=i-0;s<0&&(s=0),o=new Array(s);for(var l=0;l<i;l++)o[l-0]=arguments[l];return n=o.$length(),$=this.$class().$members().$length(),(e="number"==typeof n&&"number"==typeof $?$<n:n["$>"]($))===I||null==e||e.$$is_boolean&&1!=e||this.$raise(A.const_get(E,"ArgumentError",!0,!0),"struct size differs"),N(this.$class().$members(),"each_with_index",[],((r=function(t,e){var n,$=r.$$s||this;return null==t&&(t=I),null==e&&(e=I),n=[t,o["$[]"](e)],N($,"[]=",A.to_a(n)),n[S(n.length,1)]}).$$s=this,r.$$arity=2,r))},s.$$arity=-1),A.defn(k,"$members",l=function(){return this.$class().$members()},l.$$arity=0),A.defn(k,"$hash",a=function(){return A.const_get(E,"Hash",!0,!0).$new(this.$$data).$hash()},a.$$arity=0),A.defn(k,"$[]",c=function(t){var e,n=this;return(e=A.Integer["$==="](t))===I||null==e||e.$$is_boolean&&1!=e?(e=A.String["$==="](t))===I||null==e||e.$$is_boolean&&1!=e?n.$raise(A.const_get(E,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):n.$$data.hasOwnProperty(t)||n.$raise(A.const_get(E,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((e=R(t,n.$class().$members().$size()["$-@"]()))===I||null==e||e.$$is_boolean&&1!=e||n.$raise(A.const_get(E,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+n.$class().$members().$size()+")"),(e=M(t,n.$class().$members().$size()))===I||null==e||e.$$is_boolean&&1!=e||n.$raise(A.const_get(E,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+n.$class().$members().$size()+")"),t=n.$class().$members()["$[]"](t)),t=A.Opal["$coerce_to!"](t,A.String,"to_str"),n.$$data[t]},c.$$arity=1),A.defn(k,"$[]=",_=function(t,e){var n,$=this;return(n=A.Integer["$==="](t))===I||null==n||n.$$is_boolean&&1!=n?(n=A.String["$==="](t))===I||null==n||n.$$is_boolean&&1!=n?$.$raise(A.const_get(E,"TypeError",!0,!0),"no implicit conversion of "+t.$class()+" into Integer"):((n=$.$class().$members()["$include?"](t.$to_sym()))===I||null==n||n.$$is_boolean&&1!=n)&&$.$raise(A.const_get(E,"NameError",!0,!0).$new("no member '"+t+"' in struct",t)):((n=R(t,$.$class().$members().$size()["$-@"]()))===I||null==n||n.$$is_boolean&&1!=n||$.$raise(A.const_get(E,"IndexError",!0,!0),"offset "+t+" too small for struct(size:"+$.$class().$members().$size()+")"),(n=M(t,$.$class().$members().$size()))===I||null==n||n.$$is_boolean&&1!=n||$.$raise(A.const_get(E,"IndexError",!0,!0),"offset "+t+" too large for struct(size:"+$.$class().$members().$size()+")"),t=$.$class().$members()["$[]"](t)),t=A.Opal["$coerce_to!"](t,A.String,"to_str"),$.$$data[t]=e},_.$$arity=2),A.defn(k,"$==",d=function(t){var e;if((e=t["$instance_of?"](this.$class()))===I||null==e||e.$$is_boolean&&1!=e)return!1;var i={},s={};return function t(e,n){var $,r,o;for($ in i[e.$__id__()]=!0,s[n.$__id__()]=!0,e.$$data)if(r=e.$$data[$],o=n.$$data[$],A.const_get(E,"Struct",!0,!0)["$==="](r)){if(!(i.hasOwnProperty(r.$__id__())&&s.hasOwnProperty(o.$__id__())||t(r,o)))return!1}else if(!r["$=="](o))return!1;return!0}(this,t)},d.$$arity=1),A.defn(k,"$eql?",f=function(t){var e;if((e=t["$instance_of?"](this.$class()))===I||null==e||e.$$is_boolean&&1!=e)return!1;var i={},s={};return function t(e,n){var $,r,o;for($ in i[e.$__id__()]=!0,s[n.$__id__()]=!0,e.$$data)if(r=e.$$data[$],o=n.$$data[$],A.const_get(E,"Struct",!0,!0)["$==="](r)){if(!(i.hasOwnProperty(r.$__id__())&&s.hasOwnProperty(o.$__id__())||t(r,o)))return!1}else if(!r["$eql?"](o))return!1;return!0}(this,t)},f.$$arity=1),A.defn(k,"$each",p=function(){var t,n,e=p.$$p,$=e||I;return e&&(p.$$p=null),$===I?N(this,"enum_for",["each"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(N(this.$class().$members(),"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=I),A.yield1($,e["$[]"](t))}).$$s=this,n.$$arity=1,n)),this)},p.$$arity=0),A.defn(k,"$each_pair",h=function(){var t,n,e=h.$$p,$=e||I;return e&&(h.$$p=null),$===I?N(this,"enum_for",["each_pair"],((t=function(){return(t.$$s||this).$size()}).$$s=this,t.$$arity=0,t)):(N(this.$class().$members(),"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=I),A.yield1($,[t,e["$[]"](t)])}).$$s=this,n.$$arity=1,n)),this)},h.$$arity=0),A.defn(k,"$length",g=function(){return this.$class().$members().$length()},g.$$arity=0),A.alias(k,"size","length"),A.defn(k,"$to_a",b=function(){var n;return N(this.$class().$members(),"map",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=I),e["$[]"](t)}).$$s=this,n.$$arity=1,n))},b.$$arity=0),A.alias(k,"values","to_a"),A.defn(k,"$inspect",m=function(){var t,e,n,$=I;return(t=!($="#<struct ")!==(e=A.const_get(E,"Struct",!0,!0)["$==="](this))&&e!==I&&null!=e?this.$class().$name():e)===I||null==t||t.$$is_boolean&&1!=t||($=T($,this.$class()+" ")),$=T($=T($,N(this.$each_pair(),"map",[],(n=function(t,e){n.$$s;return null==t&&(t=I),null==e&&(e=I),t+"="+e.$inspect()},n.$$s=this,n.$$arity=2,n)).$join(", ")),">")},m.$$arity=0),A.alias(k,"to_s","inspect"),A.defn(k,"$to_h",y=function(){var r;return N(this.$class().$members(),"inject",[j([],{})],((r=function(t,e){var n,$=r.$$s||this;return null==t&&(t=I),null==e&&(e=I),n=[e,$["$[]"](e)],N(t,"[]=",A.to_a(n)),S(n.length,1),t}).$$s=this,r.$$arity=2,r))},y.$$arity=0),A.defn(k,"$values_at",v=function(t){var e,n,$=arguments.length,r=$-0;r<0&&(r=0),n=new Array(r);for(var o=0;o<$;o++)n[o-0]=arguments[o];for(var i=[],s=0,l=(n=N(n,"map",[],(e=function(t){e.$$s;return null==t&&(t=I),t.$$is_range?t.$to_a():t},e.$$s=this,e.$$arity=1,e)).$flatten()).length;s<l;s++)n[s].$$is_number||this.$raise(A.const_get(E,"TypeError",!0,!0),"no implicit conversion of "+n[s].$class()+" into Integer"),i.push(this["$[]"](n[s]));return i},v.$$arity=-1),A.defn(k,"$dig",w=function(t,e){var n,$,r=I,o=arguments.length,i=o-1;i<0&&(i=0),$=new Array(i);for(var s=1;s<o;s++)$[s-1]=arguments[s];return(r=(n=t.$$is_string&&this.$$data.hasOwnProperty(t))===I||null==n||n.$$is_boolean&&1!=n?I:this.$$data[t]||I)===I||0===$.length?r:(((n=r["$respond_to?"]("dig"))===I||null==n||n.$$is_boolean&&1!=n)&&this.$raise(A.const_get(E,"TypeError",!0,!0),r.$class()+" does not have #dig method"),N(r,"dig",A.to_a($)))},w.$$arity=-2),A.defs(k,"$_load",x=function(t){var e;return e=N(t,"values_at",A.to_a(this.$members())),N(this,"new",A.to_a(e))},x.$$arity=1)}(e.base,0,n)},Opal.modules["corelib/io"]=function(v){function t(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}v.top;var e=v,n=[v],w=v.nil,x=(v.breaker,v.slice,v.klass),k=v.module,O=v.send,E=v.gvars,$=w;v.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$-","$extend"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g=$=x(t,null,"IO",$),b=g.$$proto,m=g.$$scope,y=n.slice().concat(m);b.tty=b.closed=w,v.cdecl(m,"SEEK_SET",0),v.cdecl(m,"SEEK_CUR",1),v.cdecl(m,"SEEK_END",2),v.defn(g,"$tty?",r=function(){return this.tty},r.$$arity=0),v.defn(g,"$closed?",o=function(){return this.closed},o.$$arity=0),g.$attr_accessor("write_proc"),v.defn(g,"$write",i=function(t){return this.write_proc(t),t.$size()},i.$$arity=1),g.$attr_accessor("sync","tty"),v.defn(g,"$flush",s=function(){return w},s.$$arity=0),function(t,e){var n,$,r,o=k(t,"Writable"),i=(o.$$proto,o.$$scope);e.slice().concat(i);v.defn(o,"$<<",n=function(t){return this.$write(t),this},n.$$arity=1),v.defn(o,"$print",$=function(t){var n,e;null==E[","]&&(E[","]=w);var $=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return this.$write(O(e,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=w),e.$String(t)},n.$$s=this,n.$$arity=1,n)).$join(E[","])),w},$.$$arity=-1),v.defn(o,"$puts",r=function(t){var e,n,$,r;null==E["/"]&&(E["/"]=w);var o=arguments.length,i=o-0;i<0&&(i=0),$=new Array(i);for(var s=0;s<o;s++)$[s-0]=arguments[s];return r=E["/"],(e=$["$empty?"]())===w||null==e||e.$$is_boolean&&1!=e?this.$write(O($,"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=w),e.$String(t).$chomp()},n.$$s=this,n.$$arity=1,n)).$concat([w]).$join(r)):this.$write(E["/"]),w},r.$$arity=-1)}(m.base,y),l=m.base,a=y,(f=k(l,"Readable")).$$proto,p=f.$$scope,h=a.slice().concat(p),v.defn(f,"$readbyte",c=function(){return this.$getbyte()},c.$$arity=0),v.defn(f,"$readchar",u=function(){return this.$getc()},u.$$arity=0),v.defn(f,"$readline",_=function(t){return null==E["/"]&&(E["/"]=w),null==t&&(t=E["/"]),this.$raise(v.const_get(h,"NotImplementedError",!0,!0))},_.$$arity=-1),v.defn(f,"$readpartial",d=function(t,e){return null==e&&(e=w),this.$raise(v.const_get(h,"NotImplementedError",!0,!0))},d.$$arity=-2)}(e.base,0,n),v.cdecl(e,"STDERR",E.stderr=v.const_get(n,"IO",!0,!0).$new()),v.cdecl(e,"STDIN",E.stdin=v.const_get(n,"IO",!0,!0).$new()),v.cdecl(e,"STDOUT",E.stdout=v.const_get(n,"IO",!0,!0).$new());var r=v.global.console;return $=["object"==typeof process?function(t){process.stdout.write(t)}:function(t){r.log(t)}],O(v.const_get(n,"STDOUT",!0,!0),"write_proc=",v.to_a($)),$[t($.length,1)],$=["object"==typeof process?function(t){process.stderr.write(t)}:function(t){r.warn(t)}],O(v.const_get(n,"STDERR",!0,!0),"write_proc=",v.to_a($)),$[t($.length,1)],v.const_get(n,"STDOUT",!0,!0).$extend(v.const_get([v.const_get(n,"IO",!0,!0).$$scope],"Writable",!0,!0)),v.const_get(n,"STDERR",!0,!0).$extend(v.const_get([v.const_get(n,"IO",!0,!0).$$scope],"Writable",!0,!0))},Opal.modules["corelib/main"]=function(e){var t,n,$=e.top,r=[e];e.nil,e.breaker,e.slice;return e.add_stubs(["$include"]),e.defs($,"$to_s",t=function(){return"main"},t.$$arity=0),e.defs($,"$include",n=function(t){return e.const_get(r,"Object",!0,!0).$include(t)},n.$$arity=1)},Opal.modules["corelib/dir"]=function(s){s.top;var t=s,e=[s],l=s.nil,a=(s.breaker,s.slice,s.klass);return s.add_stubs(["$[]"]),function(t,e,n){function $(){}var r=$=a(t,null,"Dir",$),o=(r.$$proto,r.$$scope),i=n.slice().concat(o);return function(t,e){t.$$proto,t.$$scope;var r,n,$,o=e.slice().concat(t);return s.defn(t,"$chdir",r=function(t){var e=r.$$p,n=e||l,$=l;return e&&(r.$$p=null),function(){try{return $=s.current_dir,s.current_dir=t,s.yieldX(n,[])}finally{s.current_dir=$}}()},r.$$arity=1),s.defn(t,"$pwd",n=function(){return s.current_dir||"."},n.$$arity=0),s.alias(t,"getwd","pwd"),s.defn(t,"$home",$=function(){var t;return!1!==(t=s.const_get(o,"ENV",!0,!0)["$[]"]("HOME"))&&t!==l&&null!=t?t:"."},$.$$arity=0),l&&"home"}(s.get_singleton_class(r),i)}(t.base,0,e)},Opal.modules["corelib/file"]=function(f){function p(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function h(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}f.top;var t=f,e=[f],g=f.nil,s=(f.breaker,f.slice,f.klass),b=f.send,m=f.range;return f.add_stubs(["$join","$compact","$split","$==","$first","$home","$[]=","$-","$pwd","$each","$pop","$<<","$respond_to?","$coerce_to!","$+","$basename","$empty?","$rindex","$[]","$nil?","$length","$gsub","$find","$=~","$map","$each_with_index","$flatten","$reject","$end_with?","$start_with?","$sub"]),function(t,e,n){function $(){}var r=$=s(t,e,"File",$),o=(r.$$proto,r.$$scope),i=n.slice().concat(o);return f.cdecl(o,"Separator",f.cdecl(o,"SEPARATOR","/")),f.cdecl(o,"ALT_SEPARATOR",g),f.cdecl(o,"PATH_SEPARATOR",":"),f.cdecl(o,"FNM_SYSCASE",0),function(t,e){t.$$proto,t.$$scope;var n,$,r,o,i,s,l,a,c,u=e.slice().concat(t);function _(t){return($=t["$respond_to?"]("to_path"))===g||null==$||$.$$is_boolean&&1!=$||(t=t.$to_path()),t=f.Opal["$coerce_to!"](t,f.String,"to_str")}function d(){return f.const_get(u,"ALT_SEPARATOR",!0,!0)===g?f.escape_regexp(f.const_get(u,"SEPARATOR",!0,!0)):f.escape_regexp(h(f.const_get(u,"SEPARATOR",!0,!0),f.const_get(u,"ALT_SEPARATOR",!0,!0)))}return f.defn(t,"$expand_path",n=function(t,e){var n,$=g,r=g,o=g;return null==e&&(e=g),$=(t=[e,t].$compact().$join(f.const_get(u,"SEPARATOR",!0,!0))).$split(f.const_get(u,"SEPARATOR",!0,!0)),r=[],$.$first()["$=="]("~")&&(o=[0,f.const_get(u,"Dir",!0,!0).$home()],b($,"[]=",f.to_a(o)),o[p(o.length,1)]),$.$first()["$=="](".")&&(o=[0,f.const_get(u,"Dir",!0,!0).$pwd()],b($,"[]=",f.to_a(o)),o[p(o.length,1)]),b($,"each",[],((n=function(t){n.$$s;return null==t&&(t=g),t["$=="]("..")?r.$pop():r["$<<"](t)}).$$s=this,n.$$arity=1,n)),r.$join(f.const_get(u,"SEPARATOR",!0,!0))},n.$$arity=-2),f.alias(t,"realpath","expand_path"),f.defn(t,"$dirname",r=function(t){var e;e=d();var n=(t=_(t)).match(new RegExp("^["+e+"]"));return""===(t=(t=(t=t.replace(new RegExp("["+e+"]+$"),"")).replace(new RegExp("[^"+e+"]+$"),"")).replace(new RegExp("["+e+"]+$"),""))?n?"/":".":t},r.$$arity=1),f.defn(t,"$basename",o=function(t,e){var n;return null==e&&(e=g),n=d(),0==(t=_(t)).length||(e=e!==g?f.Opal["$coerce_to!"](e,f.String,"to_str"):null,t=(t=t.replace(new RegExp("(.)["+n+"]*$"),"$1")).replace(new RegExp("^(?:.*["+n+"])?([^"+n+"]+)$"),"$1"),".*"===e?t=t.replace(/\.[^\.]+$/,""):null!==e&&(e=f.escape_regexp(e),t=t.replace(new RegExp(e+"$"),""))),t},o.$$arity=-2),f.defn(t,"$extname",i=function(t){var e,n,$=g,r=g;return t=_(t),((e=($=this.$basename(t))["$empty?"]())===g||null==e||e.$$is_boolean&&1!=e)&&((e=!1!==(n=(r=$["$[]"](m(1,-1,!1)).$rindex("."))["$nil?"]())&&n!==g&&null!=n?n:h(r,1)["$=="](p($.$length(),1)))===g||null==e||e.$$is_boolean&&1!=e)?$["$[]"](f.Range.$new(h(r,1),-1,!1)):""},i.$$arity=1),f.defn(t,"$exist?",s=function(t){return null!=f.modules[t]},s.$$arity=1),f.alias(t,"exists?","exist?"),f.defn(t,"$directory?",l=function(e){var n,t=g;for(var $ in t=[],f.modules)t.push($);return e=e.$gsub(new RegExp("(^."+f.const_get(u,"SEPARATOR",!0,!0)+"+|"+f.const_get(u,"SEPARATOR",!0,!0)+"+$)")),b(t,"find",[],((n=function(t){n.$$s;return null==t&&(t=g),t["$=~"](new RegExp("^"+e))}).$$s=this,n.$$arity=1,n))},l.$$arity=1),f.defn(t,"$join",a=function(t){var $,e,o,i,s=g,n=arguments.length,r=n-0;r<0&&(r=0),i=new Array(r);for(var l=0;l<n;l++)i[l-0]=arguments[l];return i.$length()["$=="](0)?"":(s="",i=b(i.$flatten().$each_with_index(),"map",[],(($=function(t,e){var n;$.$$s;return null==t&&(t=g),null==e&&(e=g),((n=e["$=="](0)?t["$empty?"]():e["$=="](0))===g||null==n||n.$$is_boolean&&1!=n)&&((n=i.$length()["$=="](h(e,1))?t["$empty?"]():i.$length()["$=="](h(e,1)))===g||null==n||n.$$is_boolean&&1!=n)?t:f.const_get(u,"SEPARATOR",!0,!0)}).$$s=this,$.$$arity=2,$)),i=b(i,"reject",[],((e=function(t){e.$$s;return null==t&&(t=g),t["$empty?"]()}).$$s=this,e.$$arity=1,e)),b(i,"each_with_index",[],((o=function(t,e){o.$$s;var n,$,r=g;return null==t&&(t=g),null==e&&(e=g),(n=(r=i["$[]"](h(e,1)))["$nil?"]())===g||null==n||n.$$is_boolean&&1!=n?((n=!1!==($=t["$end_with?"](f.const_get(u,"SEPARATOR",!0,!0)))&&$!==g&&null!=$?r["$start_with?"](f.const_get(u,"SEPARATOR",!0,!0)):$)===g||null==n||n.$$is_boolean&&1!=n||(t=t.$sub(new RegExp(f.const_get(u,"SEPARATOR",!0,!0)+"+$"),"")),s=(n=!1!==($=t["$end_with?"](f.const_get(u,"SEPARATOR",!0,!0)))&&$!==g&&null!=$?$:r["$start_with?"](f.const_get(u,"SEPARATOR",!0,!0)))===g||null==n||n.$$is_boolean&&1!=n?""+s+t+f.const_get(u,"SEPARATOR",!0,!0):""+s+t):s=""+s+t}).$$s=this,o.$$arity=2,o)),s)},a.$$arity=-1),f.defn(t,"$split",c=function(t){return t.$split(f.const_get(u,"SEPARATOR",!0,!0))},c.$$arity=1),g&&"split"}(f.get_singleton_class(r),i)}(t.base,f.const_get(e,"IO",!0,!0),e)},Opal.modules["corelib/process"]=function(c){c.top;var t=c,e=[c],u=c.nil,_=(c.breaker,c.slice,c.klass);return c.add_stubs(["$to_f","$now","$new"]),function(t,e,n){function $(){}var r,o,i,s=$=_(t,null,"Process",$),l=(s.$$proto,s.$$scope),a=n.slice().concat(l);c.cdecl(l,"CLOCK_REALTIME",0),c.cdecl(l,"CLOCK_MONOTONIC",1),c.defs(s,"$pid",r=function(){return 0},r.$$arity=0),c.defs(s,"$times",o=function(){var t;return t=c.const_get(a,"Time",!0,!0).$now().$to_f(),c.const_get([c.const_get(a,"Benchmark",!0,!0).$$scope],"Tms",!0,!0).$new(t,t,t,t,t)},o.$$arity=0),c.defs(s,"$clock_gettime",i=function(t,e){return null==e&&(e=u),c.const_get(a,"Time",!0,!0).$now().$to_f()},i.$$arity=-2)}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=_(t,null,"Signal",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);c.defs(o,"$trap",r=function(t){return u},r.$$arity=-1)}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=_(t,null,"GC",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return c.defs(o,"$start",r=function(){return u},r.$$arity=0)}(t.base,0,e)},Opal.modules["corelib/random/seedrandom"]=function(t){t.top;var e=t,n=[t],i=(t.nil,t.breaker,t.slice,t.klass);return function(t,e,n){function $(){}var r=$=i(t,null,"Random",$),o=(r.$$proto,r.$$scope);n.slice().concat(o);!function(s,l){function t(t,e,n){var $=[],r=u(function t(e,n){var $,r=[],o=typeof e;if(n&&"object"==o)for($ in e)if(e.hasOwnProperty($))try{r.push(t(e[$],n-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,_(s)]:null==t?function(){try{if(d)return _(d.randomBytes(p));var t=new Uint8Array(p);return(f.crypto||f.msCrypto).getRandomValues(t),_(t)}catch(t){var e=f.navigator,n=e&&e.plugins;return[+new Date,f,n,f.screen,_(s)]}}():t,3),$),o=new a($),i=function(){for(var t=o.g(h),e=b,n=0;t<m;)t=(t+n)*p,e*=p,n=o.g(1);for(;y<=t;)t/=2,e/=2,n>>>=1;return(t+n)/e};return i.int32=function(){return 0|o.g(4)},i.quick=function(){return o.g(4)/4294967296},i.double=i,u(_(o.S),s),(e.pass||n||function(t,e,n,$){return $&&($.S&&c($,o),t.state=function(){return c(o,{})}),n?(l[g]=t,e):t})(i,r,"global"in e?e.global:this==l,e.state)}function a(t){var e,n=t.length,i=this,$=0,r=i.i=i.j=0,o=i.S=[];for(n||(t=[n++]);$<p;)o[$]=$++;for($=0;$<p;$++)o[$]=o[r=v&r+t[$%n]+(e=o[$])],o[r]=e;(i.g=function(t){for(var e,n=0,$=i.i,r=i.j,o=i.S;t--;)e=o[$=v&$+1],n=n*p+o[v&(o[$]=o[r=v&r+e])+(o[r]=e)];return i.i=$,i.j=r,n})(p)}function c(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function u(t,e){for(var n,$=t+"",r=0;r<$.length;)e[v&r]=v&(n^=19*e[v&r])+$.charCodeAt(r++);return _(e)}function _(t){return String.fromCharCode.apply(0,t)}var d,f=this,p=256,h=6,g="random",b=l.pow(p,h),m=l.pow(2,52),y=2*m,v=p-1;if(l["seed"+g]=t,u(l.random(),s),"object"==typeof module&&module.exports){module.exports=t;try{d=require("crypto")}catch(s){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return t})}([],Math)}(e.base,0,n)},Opal.modules["corelib/random"]=function(h){var t=h.top,e=h,n=[h],g=h.nil,b=(h.breaker,h.slice,h.klass),m=h.send;return h.add_stubs(["$require","$attr_reader","$coerce_to!","$reseed","$new_seed","$rand","$seed","$new","$===","$==","$state","$encode","$join","$map","$times","$chr","$raise"]),t.$require("corelib/random/seedrandom.js"),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_=$=b(t,null,"Random",$),d=(_.$$proto,_.$$scope),f=n.slice().concat(d);_.$attr_reader("seed","state"),h.defn(_,"$initialize",r=function(t){return null==t&&(t=h.const_get(f,"Random",!0,!0).$new_seed()),t=h.Opal["$coerce_to!"](t,h.Integer,"to_int"),this.state=t,this.$reseed(t)},r.$$arity=-1),h.defn(_,"$reseed",o=function(t){return this.seed=t,this.$rng=new Math.seedrandom(t)},o.$$arity=1);var p=new Math.seedrandom("opal",{entropy:!0});return h.defs(_,"$new_seed",i=function(){return Math.abs(p.int32())},i.$$arity=0),h.defs(_,"$rand",s=function(t){return h.const_get(f,"DEFAULT",!0,!0).$rand(t)},s.$$arity=-1),h.defs(_,"$srand",l=function(t){var e;return null==t&&(t=h.const_get(f,"Random",!0,!0).$new_seed()),t=h.Opal["$coerce_to!"](t,h.Integer,"to_int"),e=h.const_get(f,"DEFAULT",!0,!0).$seed(),h.const_get(f,"DEFAULT",!0,!0).$reseed(t),e},l.$$arity=-1),h.cdecl(d,"DEFAULT",_.$new(_.$new_seed())),h.defn(_,"$==",a=function(t){var e;return!((e=h.const_get(f,"Random",!0,!0)["$==="](t))===g||null==e||e.$$is_boolean&&1!=e)&&((e=this.$seed()["$=="](t.$seed()))?this.$state()["$=="](t.$state()):this.$seed()["$=="](t.$seed()))},a.$$arity=1),h.defn(_,"$bytes",c=function(t){var e;return t=h.Opal["$coerce_to!"](t,h.Integer,"to_int"),m(t.$times(),"map",[],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode(h.const_get([h.const_get(f,"Encoding",!0,!0).$$scope],"ASCII_8BIT",!0,!0))},c.$$arity=1),h.defn(_,"$rand",u=function($){var r=this;function t(){return r.state++,r.$rng.quick()}function e(){return Math.floor(t()*$)}return null==$?t():$.$$is_range?function(){var t=$.begin,e=$.end;if(t===g||e===g)return g;var n=e-t;return n<0?g:0===n?t:(e%1!=0||t%1!=0||$.exclude||n++,r.$rand(n)+t)}():$.$$is_number?($<=0&&r.$raise(h.const_get(f,"ArgumentError",!0,!0),"invalid argument - "+$),$%1==0?e():t()*$):(($=h.Opal["$coerce_to!"]($,h.Integer,"to_int"))<=0&&r.$raise(h.const_get(f,"ArgumentError",!0,!0),"invalid argument - "+$),e())},u.$$arity=-1),g&&"rand"}(e.base,0,n)},Opal.modules["corelib/unsupported"]=function(E){var t,e,n=E.top,$=E,r=[E],c=E.nil,A=(E.breaker,E.slice,E.klass),o=E.module;E.add_stubs(["$raise","$warn","$%"]);var i,s,l,a,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,S,R,M={};function T(t){switch(E.config.unsupported_features_severity){case"error":E.const_get(r,"Kernel",!0,!0).$raise(E.const_get(r,"NotImplementedError",!0,!0),t);break;case"warning":!function(t){if(M[t])return;M[t]=!0,n.$warn(t)}(t)}}return function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w=$=A(t,null,"String",$),x=(w.$$proto,w.$$scope),k=n.slice().concat(x),O="String#%s not supported. Mutable String methods are not supported in Opal.";E.defn(w,"$<<",r=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("<<"))},r.$$arity=-1),E.defn(w,"$capitalize!",o=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("capitalize!"))},o.$$arity=-1),E.defn(w,"$chomp!",i=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("chomp!"))},i.$$arity=-1),E.defn(w,"$chop!",s=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("chop!"))},s.$$arity=-1),E.defn(w,"$downcase!",l=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("downcase!"))},l.$$arity=-1),E.defn(w,"$gsub!",a=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("gsub!"))},a.$$arity=-1),E.defn(w,"$lstrip!",c=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("lstrip!"))},c.$$arity=-1),E.defn(w,"$next!",u=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("next!"))},u.$$arity=-1),E.defn(w,"$reverse!",_=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("reverse!"))},_.$$arity=-1),E.defn(w,"$slice!",d=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("slice!"))},d.$$arity=-1),E.defn(w,"$squeeze!",f=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("squeeze!"))},f.$$arity=-1),E.defn(w,"$strip!",p=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("strip!"))},p.$$arity=-1),E.defn(w,"$sub!",h=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("sub!"))},h.$$arity=-1),E.defn(w,"$succ!",g=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("succ!"))},g.$$arity=-1),E.defn(w,"$swapcase!",b=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("swapcase!"))},b.$$arity=-1),E.defn(w,"$tr!",m=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("tr!"))},m.$$arity=-1),E.defn(w,"$tr_s!",y=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("tr_s!"))},y.$$arity=-1),E.defn(w,"$upcase!",v=function(t){return this.$raise(E.const_get(k,"NotImplementedError",!0,!0),O["$%"]("upcase!"))},v.$$arity=-1)}($.base,0,r),i=$.base,s=r,(u=o(i,"Kernel")).$$proto,_=u.$$scope,s.slice().concat(_),d="Object freezing is not supported by Opal",E.defn(u,"$freeze",l=function(){return T(d),this},l.$$arity=0),E.defn(u,"$frozen?",a=function(){return T(d),!1},a.$$arity=0),f=$.base,p=r,(m=o(f,"Kernel")).$$proto,y=m.$$scope,p.slice().concat(y),v="Object tainting is not supported by Opal",E.defn(m,"$taint",h=function(){return T(v),this},h.$$arity=0),E.defn(m,"$untaint",g=function(){return T(v),this},g.$$arity=0),E.defn(m,"$tainted?",b=function(){return T(v),!1},b.$$arity=0),function(t,e,n){function $(){}var r,o,i,s,l=$=A(t,null,"Module",$),a=(l.$$proto,l.$$scope);n.slice().concat(a);E.defn(l,"$public",r=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return 0===e.length&&(this.$$module_function=!1),c},r.$$arity=-1),E.alias(l,"private","public"),E.alias(l,"protected","public"),E.alias(l,"nesting","public"),E.defn(l,"$private_class_method",o=function(t){return this},o.$$arity=-1),E.alias(l,"public_class_method","private_class_method"),E.defn(l,"$private_method_defined?",i=function(t){return!1},i.$$arity=1),E.defn(l,"$private_constant",s=function(t){return c},s.$$arity=-1),E.alias(l,"protected_method_defined?","private_method_defined?"),E.alias(l,"public_instance_methods","instance_methods"),E.alias(l,"public_method_defined?","method_defined?")}($.base,0,r),function(t,e){var n,$=o(t,"Kernel"),r=($.$$proto,$.$$scope);e.slice().concat(r);E.defn($,"$private_methods",n=function(t){return[]},n.$$arity=-1),E.alias($,"private_instance_methods","private_methods")}($.base,r),w=$.base,x=r,(O=o(w,"Kernel")).$$proto,S=O.$$scope,R=x.slice().concat(S),E.defn(O,"$eval",k=function(t){return this.$raise(E.const_get(R,"NotImplementedError",!0,!0),"To use Kernel#eval, you must first require 'opal-parser'. See https://github.com/opal/opal/blob/"+E.const_get(R,"RUBY_ENGINE_VERSION",!0,!0)+"/docs/opal_parser.md for details.")},k.$$arity=-1),E.defs(n,"$public",t=function(t){return c},t.$$arity=-1),E.defs(n,"$private",e=function(t){return c},e.$$arity=-1)},Opal.modules.opal=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("opal/base"),e.$require("opal/mini"),e.$require("corelib/string/inheritance"),e.$require("corelib/string/encoding"),e.$require("corelib/math"),e.$require("corelib/complex"),e.$require("corelib/rational"),e.$require("corelib/time"),e.$require("corelib/struct"),e.$require("corelib/io"),e.$require("corelib/main"),e.$require("corelib/dir"),e.$require("corelib/file"),e.$require("corelib/process"),e.$require("corelib/random"),e.$require("corelib/unsupported")},Opal.require("opal")}!function(t,e){"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define("asciidoctor",["module"],function(t){return e(t.config())}):t.Asciidoctor=e}(this,function(b){Opal.modules.set=function(L){function z(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function P(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function D(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}L.top;var t,e,a,n,$,c,r=L,o=[L],B=L.nil,q=(L.breaker,L.slice,L.klass),U=L.send,i=L.module;return L.add_stubs(["$include","$new","$nil?","$===","$raise","$each","$add","$call","$merge","$class","$respond_to?","$subtract","$dup","$join","$to_a","$equal?","$instance_of?","$==","$instance_variable_get","$is_a?","$size","$all?","$include?","$[]=","$-","$enum_for","$[]","$<<","$replace","$delete","$select","$each_key","$to_proc","$empty?","$eql?","$instance_eval","$clear","$<","$<=","$keys"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I=$=q(t,null,"Set",$),C=I.$$proto,N=I.$$scope,j=n.slice().concat(N);C.hash=B,I.$include(L.const_get(j,"Enumerable",!0,!0)),L.defs(I,"$[]",r=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$new(e)},r.$$arity=-1),L.defn(I,"$initialize",o=function(t){var e,n,$=o.$$p,r=$||B;return null==t&&(t=B),$&&(o.$$p=null),this.hash=L.const_get(j,"Hash",!0,!0).$new(),(e=t["$nil?"]())===B||null==e||e.$$is_boolean&&1!=e?(((e=L.const_get(j,"Enumerable",!0,!0)["$==="](t))===B||null==e||e.$$is_boolean&&1!=e)&&this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be enumerable"),!1!==r&&r!==B&&null!=r?U(t,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=B),e.$add(r.$call(t))}).$$s=this,n.$$arity=1,n)):this.$merge(t)):B},o.$$arity=-1),L.defn(I,"$dup",i=function(){return this.$class().$new().$merge(this)},i.$$arity=0),L.defn(I,"$-",s=function(t){var e;return((e=t["$respond_to?"]("each"))===B||null==e||e.$$is_boolean&&1!=e)&&this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be enumerable"),this.$dup().$subtract(t)},s.$$arity=1),L.alias(I,"difference","-"),L.defn(I,"$inspect",l=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},l.$$arity=0),L.defn(I,"$==",a=function(t){var e,n,$;return!((e=this["$equal?"](t))===B||null==e||e.$$is_boolean&&1!=e)||((e=t["$instance_of?"](this.$class()))===B||null==e||e.$$is_boolean&&1!=e?!((e=!1!==(n=t["$is_a?"](L.const_get(j,"Set",!0,!0)))&&n!==B&&null!=n?this.$size()["$=="](t.$size()):n)===B||null==e||e.$$is_boolean&&1!=e)&&U(t,"all?",[],(($=function(t){var e=$.$$s||this;return null==e.hash&&(e.hash=B),null==t&&(t=B),e.hash["$include?"](t)}).$$s=this,$.$$arity=1,$)):this.hash["$=="](t.$instance_variable_get("@hash")))},a.$$arity=1),L.defn(I,"$add",c=function(t){var e;return e=[t,!0],U(this.hash,"[]=",L.to_a(e)),z(e.length,1),this},c.$$arity=1),L.alias(I,"<<","add"),L.defn(I,"$classify",u=function(){var r,e,t=u.$$p,n=t||B,$=B;return t&&(u.$$p=null),n===B?this.$enum_for("classify"):($=U(L.const_get(j,"Hash",!0,!0),"new",[],((r=function(t,e){var n,$=r.$$s||this;return null==t&&(t=B),null==e&&(e=B),n=[e,$.$class().$new()],U(t,"[]=",L.to_a(n)),n[z(n.length,1)]}).$$s=this,r.$$arity=2,r)),U(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=B),$["$[]"](L.yield1(n,t)).$add(t)}).$$s=this,e.$$arity=1,e)),$)},u.$$arity=0),L.defn(I,"$collect!",_=function(){var e,t=_.$$p,n=t||B,$=B;return t&&(_.$$p=null),n===B?this.$enum_for("collect!"):($=this.$class().$new(),U(this,"each",[],((e=function(t){e.$$s;return null==t&&(t=B),$["$<<"](L.yield1(n,t))}).$$s=this,e.$$arity=1,e)),this.$replace($))},_.$$arity=0),L.alias(I,"map!","collect!"),L.defn(I,"$delete",d=function(t){return this.hash.$delete(t),this},d.$$arity=1),L.defn(I,"$delete?",f=function(t){var e;return(e=this["$include?"](t))===B||null==e||e.$$is_boolean&&1!=e?B:(this.$delete(t),this)},f.$$arity=1),L.defn(I,"$delete_if",p=function(){try{var t,e,n,$=p.$$p,r=$||B;return $&&(p.$$p=null),!1!=(t=r!==B)&&t!==B&&null!=t||L.ret(this.$enum_for("delete_if")),U(U(this,"select",[],((e=function(t){e.$$s;return null==t&&(t=B),L.yield1(r,t)}).$$s=this,e.$$arity=1,e)),"each",[],((n=function(t){var e=n.$$s||this;return null==e.hash&&(e.hash=B),null==t&&(t=B),e.hash.$delete(t)}).$$s=this,n.$$arity=1,n)),this}catch(t){if(t===L.returner)return t.$v;throw t}},p.$$arity=0),L.defn(I,"$add?",h=function(t){var e;return(e=this["$include?"](t))===B||null==e||e.$$is_boolean&&1!=e?this.$add(t):B},h.$$arity=1),L.defn(I,"$each",g=function(){var t=g.$$p,e=t||B;return t&&(g.$$p=null),e===B?this.$enum_for("each"):(U(this.hash,"each_key",[],e.$to_proc()),this)},g.$$arity=0),L.defn(I,"$empty?",b=function(){return this.hash["$empty?"]()},b.$$arity=0),L.defn(I,"$eql?",m=function(t){var e;return this.hash["$eql?"](U(t,"instance_eval",[],((e=function(){var t=e.$$s||this;return null==t.hash&&(t.hash=B),t.hash}).$$s=this,e.$$arity=0,e)))},m.$$arity=1),L.defn(I,"$clear",y=function(){return this.hash.$clear(),this},y.$$arity=0),L.defn(I,"$include?",v=function(t){return this.hash["$include?"](t)},v.$$arity=1),L.alias(I,"member?","include?"),L.defn(I,"$merge",w=function(t){var n;return U(t,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=B),e.$add(t)}).$$s=this,n.$$arity=1,n)),this},w.$$arity=1),L.defn(I,"$replace",x=function(t){return this.$clear(),this.$merge(t),this},x.$$arity=1),L.defn(I,"$size",k=function(){return this.hash.$size()},k.$$arity=0),L.alias(I,"length","size"),L.defn(I,"$subtract",O=function(t){var n;return U(t,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=B),e.$delete(t)}).$$s=this,n.$$arity=1,n)),this},O.$$arity=1),L.defn(I,"$|",E=function(t){var e;return((e=t["$respond_to?"]("each"))===B||null==e||e.$$is_boolean&&1!=e)&&this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be enumerable"),this.$dup().$merge(t)},E.$$arity=1),L.defn(I,"$superset?",A=function(t){var e,n;return!1!==(e=t["$is_a?"](L.const_get(j,"Set",!0,!0)))&&e!==B&&null!=e||this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be a set"),!!((e=P(this.$size(),t.$size()))===B||null==e||e.$$is_boolean&&1!=e)&&U(t,"all?",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=B),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},A.$$arity=1),L.alias(I,">=","superset?"),L.defn(I,"$proper_superset?",S=function(t){var e,n;return!1!==(e=t["$is_a?"](L.const_get(j,"Set",!0,!0)))&&e!==B&&null!=e||this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be a set"),!!((e=D(this.$size(),t.$size()))===B||null==e||e.$$is_boolean&&1!=e)&&U(t,"all?",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=B),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},S.$$arity=1),L.alias(I,">","proper_superset?"),L.defn(I,"$subset?",R=function(e){var t,n;return!1!==(t=e["$is_a?"](L.const_get(j,"Set",!0,!0)))&&t!==B&&null!=t||this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be a set"),!!((t=P(e.$size(),this.$size()))===B||null==t||t.$$is_boolean&&1!=t)&&U(this,"all?",[],((n=function(t){n.$$s;return null==t&&(t=B),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},R.$$arity=1),L.alias(I,"<=","subset?"),L.defn(I,"$proper_subset?",M=function(e){var t,n;return!1!==(t=e["$is_a?"](L.const_get(j,"Set",!0,!0)))&&t!==B&&null!=t||this.$raise(L.const_get(j,"ArgumentError",!0,!0),"value must be a set"),!!((t=D(e.$size(),this.$size()))===B||null==t||t.$$is_boolean&&1!=t)&&U(this,"all?",[],((n=function(t){n.$$s;return null==t&&(t=B),e["$include?"](t)}).$$s=this,n.$$arity=1,n))},M.$$arity=1),L.alias(I,"<","proper_subset?"),L.alias(I,"+","|"),L.alias(I,"union","|"),L.defn(I,"$to_a",T=function(){return this.hash.$keys()},T.$$arity=0)}(r.base,0,o),t=r.base,e=o,(n=i(t,"Enumerable")).$$proto,$=n.$$scope,c=e.slice().concat($),void L.defn(n,"$to_set",a=function(t,e){var n,$=this,r=a.$$p,o=r||B;null==t&&(t=L.const_get(c,"Set",!0,!0));var i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];return r&&(a.$$p=null),U(t,"new",[$].concat(L.to_a(n)),o.$to_proc())},a.$$arity=-1)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(h){h.top;var t,e,a,n,$,c,r=h,o=[h],g=h.nil,i=(h.breaker,h.slice,h.module),u=h.send,b=h.klass,m=h.gvars;return h.add_stubs(["$new","$attr_reader","$delete","$gsub","$==","$read","$size","$to_enum","$chomp","$each_line","$readlines","$split","$==="]),t=r.base,e=o,(n=i(t,"Kernel")).$$proto,$=n.$$scope,c=e.slice().concat($),h.defn(n,"$open",a=function(t,e){var n,$,r=a.$$p,o=r||g,i=arguments.length,s=i-1;s<0&&(s=0),n=new Array(s);for(var l=1;l<i;l++)n[l-1]=arguments[l];return r&&(a.$$p=null),$=u(h.const_get(c,"File",!0,!0),"new",[t].concat(h.to_a(n))),o!==g?h.yield1(o,$):$},a.$$arity=-2),function(t,e,n){function $(){}var r,o,u,i,s,l,a,c,_=$=b(t,null,"File",$),d=_.$$proto,f=_.$$scope,p=n.slice().concat(f);d.eof=d.path=g,_.$attr_reader("eof"),_.$attr_reader("lineno"),_.$attr_reader("path"),h.defn(_,"$initialize",r=function(t,e){var n;return null==e&&(e="r"),this.path=t,this.contents=g,this.eof=!1,this.lineno=0,n=/:(.*)/,e=(e=e.$delete("b")).$gsub(n,""),this.flags=e,h.const_get(p,"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("node")?this.fd=require("fs").openSync(t,e):g},r.$$arity=-2),h.defn(_,"$read",o=function(){var t,e=g;return(t=this.eof)===g||null==t||t.$$is_boolean&&1!=t?(e=h.const_get(p,"File",!0,!0).$read(this.path),this.eof=!0,this.lineno=e.$size(),e):""},o.$$arity=0),h.defn(_,"$each_line",u=function(t){var e,n=this,$=u.$$p,r=$||g,o=g;if(null==m["/"]&&(m["/"]=g),null==t&&(t=m["/"]),$&&(u.$$p=null),(e=n.eof)!==g&&null!=e&&(!e.$$is_boolean||1==e))return r!==g?n:[].$to_enum();if(r!==g){o=h.const_get(p,"File",!0,!0).$read(n.path),n.eof=!1,n.lineno=0;for(var i=o.$chomp(),s=o.length!=i.length,l=i.split(t),a=0,c=l.length;a<c;a++)n.lineno+=1,a<c-1||s?h.yield1(r,l[a]+t):h.yield1(r,l[a]);return n.eof=!0,n}return n.$read().$each_line()},u.$$arity=-1),h.defn(_,"$readlines",i=function(){return h.const_get(p,"File",!0,!0).$readlines(this.path)},i.$$arity=0),h.defs(_,"$readlines",s=function(t,e){return null==m["/"]&&(m["/"]=g),null==e&&(e=m["/"]),h.const_get(p,"File",!0,!0).$read(t).$split(e)},s.$$arity=-2),h.defs(_,"$file?",l=function(t){return!0},l.$$arity=1),h.defs(_,"$readable?",a=function(t){return!0},a.$$arity=1),h.defs(_,"$read",c=function(o){var i=g;return function(){if(i=h.const_get(p,"JAVASCRIPT_IO_MODULE",!0,!0),"node"["$==="](i))return require("fs").readFileSync(o,"utf8");if("phantomjs"["$==="](i))return require("fs").read(o);if("java_nio"["$==="](i)){var t=Java.type("java.nio.file.Paths"),e=Java.type("java.nio.file.Files").readAllLines(t.get(o),Java.type("java.nio.charset.StandardCharsets").UTF_8),n=[];return e.forEach(function(t){n.push(t)}),n.join("\n")}if("xmlhttprequest"["$==="](i)){n="";var $=-1;try{var r=new XMLHttpRequest;r.open("GET",o,!1),r.addEventListener("load",function(){0!=($=this.status)&&200!=$||(n=this.responseText)}),r.overrideMimeType("text/plain"),r.send()}catch(t){$=0}if(404==$||0==$&&""==n)throw h.const_get(p,"IOError",!0,!0).$new("No such file or directory: "+o);return n}return"spidermonkey"["$==="](i)?read(o):""}()},c.$$arity=1)}(r.base,0,o),function(t,e,n){function $(){}var r,o=$=b(t,null,"IO",$),i=(o.$$proto,o.$$scope),s=n.slice().concat(i);return h.defs(o,"$read",r=function(t){return h.const_get(s,"File",!0,!0).$read(t)},r.$$arity=1)}(r.base,0,o)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(l){l.top;var t=l,e=[l],a=l.nil,c=(l.breaker,l.slice,l.klass),u=l.send;return l.add_stubs(["$[]=","$-"]),function(t,e,n){function $(){}var r,o=$=c(t,null,"MatchData",$),i=o.$$proto,s=o.$$scope;n.slice().concat(s);return i.matches=a,l.defn(o,"$[]=",r=function(t,e){var n,$,r;return n=[t,e],u(this.matches,"[]=",l.to_a(n)),n[($=n.length,r=1,"number"==typeof $&&"number"==typeof r?$-r:$["$-"](r))]},r.$$arity=2),a&&"[]="}(t.base,0,e)},Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(o){o.top;var t=o,e=[o],i=(o.nil,o.breaker,o.slice,o.module);return function(t,e){var n,$=i(t,"Kernel"),r=($.$$proto,$.$$scope);e.slice().concat(r);o.defn($,"$freeze",n=function(){return this},n.$$arity=0)}(t.base,e)},Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(t){t.top;var e,n,$,r,o=t,i=[t],s=t.nil,l=(t.breaker,t.slice,t.module),a=t.klass;return e=o.base,n=i,($=l(e,"ThreadSafe")).$$proto,r=$.$$scope,n.slice().concat(r),function(t,e,n){function $(){}var r=$=a(t,e,"Cache",$),o=(r.$$proto,r.$$scope);n.slice().concat(o);return s}(o.base,t.const_get([t.Object.$$scope],"Hash",!0,!0),i)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){a.top;var t=a,e=[a],c=a.nil,u=(a.breaker,a.slice,a.klass),_=a.send;return a.add_stubs(["$method_defined?","$<","$length","$bytes","$to_s","$byteslice","$==","$with_index","$select","$[]","$even?","$_original_unpack"]),function(t,e,n){function $(){}var r,o,i,s=$=u(t,null,"String",$),l=(s.$$proto,s.$$scope);n.slice().concat(l);return((r=s["$method_defined?"]("limit_bytesize"))===c||null==r||r.$$is_boolean&&1!=r)&&a.defn(s,"$limit_bytesize",o=function(t){var e,n,$;return n=t,$=this.$bytes().$length(),(e="number"==typeof n&&"number"==typeof $?n<$:n["$<"]($))===c||null==e||e.$$is_boolean&&1!=e?this.$to_s():this.$byteslice(0,t).$to_s()},o.$$arity=1),((r=s["$method_defined?"]("limit"))===c||null==r||r.$$is_boolean&&1!=r)&&a.alias(s,"limit","limit_bytesize"),a.alias(s,"_original_unpack","unpack"),a.defn(s,"$unpack",i=function(t){var n;return t["$=="]("C3")?_(this["$[]"](0,3).$bytes().$select(),"with_index",[],((n=function(t,e){n.$$s;return null==t&&(t=c),null==e&&(e=c),e["$even?"]()}).$$s=this,n.$$arity=2,n)):this.$_original_unpack(t)},i.$$arity=1),c&&"unpack"}(t.base,0,e)},Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,$=(t.breaker,t.slice,t.send),r=t.gvars,o=n;return null==r.stdout&&(r.stdout=n),null==r.stderr&&(r.stderr=n),t.add_stubs(["$write_proc=","$-"]),o=[function(t){print(t)}],$(r.stdout,"write_proc=",t.to_a(o)),o[e(o.length,1)],o=[function(t){print(t)}],$(r.stderr,"write_proc=",t.to_a(o)),o[e(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(t){function e(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}t.top;var n=t.nil,$=(t.breaker,t.slice,t.send),r=t.gvars,o=n;return null==r.stdout&&(r.stdout=n),null==r.stderr&&(r.stderr=n),t.add_stubs(["$write_proc=","$-"]),o=[function(t){console.log(t)}],$(r.stdout,"write_proc=",t.to_a(o)),o[e(o.length,1)],o=[function(t){console.error(t)}],$(r.stderr,"write_proc=",t.to_a(o)),o[e(o.length,1)]},Opal.modules["asciidoctor/js/opal_ext/node/io"]=function(s){s.top;var t=s,e=[s],l=(s.nil,s.breaker,s.slice,s.klass);return function(t,e,n){function $(){}var r,o=$=l(t,null,"IO",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return s.defs(o,"$binread",r=function(t){return function(t){try{return t()}catch(t){if("EACCES"===t.code||"EISDIR"===t.code||"EMFILE"===t.code||"ENOENT"===t.code||"EPERM"===t.code)throw s.IOError.$new(t.message);throw t}}(function(){return require("fs").readFileSync(t).toString("binary")})},r.$$arity=1)}(t.base,0,e)},Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(s){s.top;var t=s,e=[s],l=s.nil,a=(s.breaker,s.slice,s.klass);return s.add_stubs(["$exist?"]),function(t,e,n){function $(){}var r,o=$=a(t,null,"File",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return s.defs(o,"$readable?",r=function(t){var e;return!((e=this["$exist?"](t))===l||null==e||e.$$is_boolean&&1!=e)&&"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},r.$$arity=1)}(t.base,0,e)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var e=t.top,n=t,$=[t],r=t.nil;t.breaker,t.slice;t.add_stubs(["$require","$=="]);var o,i,s,l,a="object"==typeof process&&"object"==typeof process.versions&&1!=process.browser,c="object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),u="object"==typeof window,_="object"==typeof Java&&Java.type,d="object"==typeof java,f="object"==typeof window&&"object"==typeof window.phantom,p="function"==typeof importScripts,h="object"==typeof JSRuntime;if(t.load("pathname"),t.load("base64"),"object"==typeof b&&"object"==typeof b.runtime){var g=b.runtime;o=g.platform,i=g.engine,s=g.framework,l=g.ioModule}if(void 0===o&&(a?(o=o||"node",i=i||"v8",c&&(s=s||"electron")):_?(o=plaform||"java",i=i||"nashorn"):d?(o=o||"java",i=i||"rhino"):h?(o=o||"standalone",s=s||"spidermonkey"):u&&(o=o||"browser",f&&(s=s||"phantomjs")),p&&(s=s||"webworker")),void 0===o)throw new Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");if(void 0===s&&(s=""),void 0===i&&(i=""),void 0!==l){if("spidermonkey"!=l&&"phantomjs"!=l&&"node"!=l&&"java_nio"!=l&&"xmlhttprequest"!=l)throw new Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest")}else if("spidermonkey"===s)l="spidermonkey";else if("phantomjs"===s)l="phantomjs";else if("node"===o)l="node";else if("nashorn"===i)l="java_nio";else{if("browser"!==o&&"undefined"==typeof XmlHTTPRequest)throw new Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");l="xmlhttprequest"}return t.cdecl(n,"JAVASCRIPT_IO_MODULE",l),t.cdecl(n,"JAVASCRIPT_PLATFORM",o),t.cdecl(n,"JAVASCRIPT_ENGINE",i),t.cdecl(n,"JAVASCRIPT_FRAMEWORK",s),e.$require("asciidoctor/js/opal_ext/file"),e.$require("asciidoctor/js/opal_ext/match_data"),e.$require("asciidoctor/js/opal_ext/kernel"),e.$require("asciidoctor/js/opal_ext/thread_safe"),e.$require("asciidoctor/js/opal_ext/string"),t.const_get($,"JAVASCRIPT_ENGINE",!0,!0)["$=="]("nashorn")&&e.$require("asciidoctor/js/opal_ext/nashorn/io"),t.const_get($,"JAVASCRIPT_FRAMEWORK",!0,!0)["$=="]("electron")&&e.$require("asciidoctor/js/opal_ext/electron/io"),t.const_get($,"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("node")?(e.$require("asciidoctor/js/opal_ext/node/io"),e.$require("asciidoctor/js/opal_ext/node/file"),t.load("nodejs")):r},Opal.modules["asciidoctor/js/rx"]=function(t){t.top;var e,n,$,r,o,i=t,s=[t],l=(t.nil,t.breaker,t.slice,t.module);return e=i.base,n=s,($=l(e,"Asciidoctor")).$$proto,r=$.$$scope,o=n.slice().concat(r),t.cdecl(r,"P_L","A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞭꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"),t.cdecl(r,"P_Nl","ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ"),t.cdecl(r,"P_Nd","0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９"),t.cdecl(r,"P_Pc","_‿⁀⁔︳︴﹍-﹏＿"),t.cdecl(r,"CC_ALPHA",""+t.const_get(o,"P_L",!0,!0)+t.const_get(o,"P_Nl",!0,!0)),t.cdecl(r,"CG_ALPHA","["+t.const_get(o,"CC_ALPHA",!0,!0)+"]"),t.cdecl(r,"CC_ALNUM",""+t.const_get(o,"CC_ALPHA",!0,!0)+t.const_get(o,"P_Nd",!0,!0)),t.cdecl(r,"CG_ALNUM","["+t.const_get(o,"CC_ALNUM",!0,!0)+"]"),t.cdecl(r,"CC_WORD",""+t.const_get(o,"CC_ALNUM",!0,!0)+t.const_get(o,"P_Pc",!0,!0)),t.cdecl(r,"CG_WORD","["+t.const_get(o,"CC_WORD",!0,!0)+"]"),t.cdecl(r,"CG_BLANK","[ \\t]"),t.cdecl(r,"CC_EOL","(?=\\n|$)"),t.cdecl(r,"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),void t.cdecl(r,"CC_ALL","[\\s\\S]")},Opal.modules.strscan=function(I){I.top;var t=I,e=[I],C=I.nil,N=(I.breaker,I.slice,I.klass),j=I.send;return I.add_stubs(["$attr_reader","$anchor","$scan_until","$length","$size","$rest","$pos=","$-","$private"]),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R=$=N(t,null,"StringScanner",$),M=R.$$proto,T=R.$$scope;n.slice().concat(T);return M.pos=M.string=M.working=M.matched=M.prev_pos=M.match=C,R.$attr_reader("pos"),R.$attr_reader("matched"),I.defn(R,"$initialize",r=function(t){return this.string=t,this.pos=0,this.matched=C,this.working=t,this.match=[]},r.$$arity=1),R.$attr_reader("string"),I.defn(R,"$beginning_of_line?",o=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},o.$$arity=0),I.alias(R,"bol?","beginning_of_line?"),I.defn(R,"$scan",i=function(t){var e=this,n=(t=e.$anchor(t)).exec(e.working);return null==n?e.matched=C:"object"==typeof n?(e.prev_pos=e.pos,e.pos+=n[0].length,e.working=e.working.substring(n[0].length),e.matched=n[0],(e.match=n)[0]):"string"==typeof n?(e.pos+=n.length,e.working=e.working.substring(n.length),n):C},i.$$arity=1),I.defn(R,"$scan_until",s=function(t){var e=this;t=e.$anchor(t);for(var n,$=e.pos,r=e.working;;){if(n=t.exec(r),$+=1,r=r.substr(1),null!=n)return e.matched=e.string.substr(e.pos,$-e.pos-1+n[0].length),e.prev_pos=$-1,e.pos=$,e.working=r.substr(n[0].length),e.matched;if(0===r.length)return e.matched=C}},s.$$arity=1),I.defn(R,"$[]",l=function(t){var e=this.match;return t<0&&(t+=e.length),t<0||t>=e.length?C:null==e[t]?C:e[t]},l.$$arity=1),I.defn(R,"$check",a=function(t){var e=(t=this.$anchor(t)).exec(this.working);return this.matched=null==e?C:e[0]},a.$$arity=1),I.defn(R,"$check_until",c=function(t){var e=this.prev_pos,n=this.pos,$=this.$scan_until(t);return $!==C&&(this.matched=$.substr(-1),this.working=this.string.substr(n)),this.prev_pos=e,this.pos=n,$},c.$$arity=1),I.defn(R,"$peek",u=function(t){return this.working.substring(0,t)},u.$$arity=1),I.defn(R,"$eos?",_=function(){return 0===this.working.length},_.$$arity=0),I.defn(R,"$exist?",d=function(t){var e=t.exec(this.working);return null==e?C:0==e.index?0:e.index+1},d.$$arity=1),I.defn(R,"$skip",f=function(t){var e=(t=this.$anchor(t)).exec(this.working);if(null==e)return this.matched=C;var n=e[0],$=n.length;return this.matched=n,this.prev_pos=this.pos,this.pos+=$,this.working=this.working.substring($),$},f.$$arity=1),I.defn(R,"$skip_until",p=function(t){var e=this.$scan_until(t);return e===C?C:(this.matched=e.substr(-1),e.length)},p.$$arity=1),I.defn(R,"$get_byte",h=function(){var t=this,e=C;return t.pos<t.string.length?(t.prev_pos=t.pos,t.pos+=1,e=t.matched=t.working.substring(0,1),t.working=t.working.substring(1)):t.matched=C,e},h.$$arity=0),I.alias(R,"getch","get_byte"),I.defn(R,"$match?",g=function(t){var e=(t=this.$anchor(t)).exec(this.working);return null==e?C:(this.prev_pos=this.pos,e[0].length)},g.$$arity=1),I.defn(R,"$pos=",b=function(t){return t<0&&(t+=this.string.$length()),this.pos=t,this.working=this.string.slice(t)},b.$$arity=1),I.defn(R,"$matched_size",m=function(){return this.matched===C?C:this.matched.length},m.$$arity=0),I.defn(R,"$post_match",y=function(){return this.matched===C?C:this.string.substr(this.pos)},y.$$arity=0),I.defn(R,"$pre_match",v=function(){return this.matched===C?C:this.string.substr(0,this.prev_pos)},v.$$arity=0),I.defn(R,"$reset",w=function(){return this.working=this.string,this.matched=C,this.pos=0},w.$$arity=0),I.defn(R,"$rest",x=function(){return this.working},x.$$arity=0),I.defn(R,"$rest?",k=function(){return 0!==this.working.length},k.$$arity=0),I.defn(R,"$rest_size",O=function(){return this.$rest().$size()},O.$$arity=0),I.defn(R,"$terminate",E=function(){var t,e,n;return this.match=C,t=[this.string.$length()],j(this,"pos=",I.to_a(t)),t[(e=t.length,n=1,"number"==typeof e&&"number"==typeof n?e-n:e["$-"](n))]},E.$$arity=0),I.defn(R,"$unscan",A=function(){return this.pos=this.prev_pos,this.prev_pos=C,this.match=C,this},A.$$arity=0),R.$private(),I.defn(R,"$anchor",S=function(t){var e=t.toString().match(/\/([^\/]+)$/);return e=e?e[1]:void 0,new RegExp("^(?:"+t.source+")",e)},S.$$arity=1),C&&"anchor"}(t.base,0,e)},Opal.modules["asciidoctor/js"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/js/opal_ext"),e.$require("asciidoctor/js/rx"),e.$require("strscan")},Opal.modules["asciidoctor/version"]=function(r){r.top;var t=r,e=[r],o=(r.nil,r.breaker,r.slice,r.module);return function(t,e){var n=o(t,"Asciidoctor"),$=(n.$$proto,n.$$scope);e.slice().concat($);r.cdecl($,"VERSION","1.5.6.dev")}(t.base,e)},Opal.modules["asciidoctor/timings"]=function(p){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function g(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function b(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}p.top;var t,e,n,$,r,o=p,i=[p],m=p.nil,s=(p.breaker,p.slice,p.module),y=p.klass,v=p.hash2,w=p.send,x=p.gvars;return p.add_stubs(["$now","$[]=","$-","$delete","$>","$+","$[]","$puts","$%","$to_f","$read_parse","$convert","$read_parse_convert"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_=$=y(t,null,"Timings",$),d=_.$$proto,f=_.$$scope;n.slice().concat(f),d.timers=d.log=m,p.defn(_,"$initialize",r=function(){return this.log=v([],{}),this.timers=v([],{})},r.$$arity=0),p.defn(_,"$start",o=function(t){var e;return e=[t,p.const_get([p.Object.$$scope],"Time",!0,!0).$now()],w(this.timers,"[]=",p.to_a(e)),e[h(e.length,1)]},o.$$arity=1),p.defn(_,"$record",i=function(t){var e;return e=[t,h(p.const_get([p.Object.$$scope],"Time",!0,!0).$now(),this.timers.$delete(t))],w(this.log,"[]=",p.to_a(e)),e[h(e.length,1)]},i.$$arity=1),p.defn(_,"$read_parse",s=function(){var t,e,n;return(t=g(n=b(!1!==(e=this.log["$[]"]("read"))&&e!==m&&null!=e?e:0,!1!==(e=this.log["$[]"]("parse"))&&e!==m&&null!=e?e:0),0))===m||null==t||t.$$is_boolean&&1!=t?m:n},s.$$arity=0),p.defn(_,"$convert",l=function(){var t;return!1!==(t=this.log["$[]"]("convert"))&&t!==m&&null!=t?t:0},l.$$arity=0),p.defn(_,"$read_parse_convert",a=function(){var t,e,n;return(t=g(n=b(b(!1!==(e=this.log["$[]"]("read"))&&e!==m&&null!=e?e:0,!1!==(e=this.log["$[]"]("parse"))&&e!==m&&null!=e?e:0),!1!==(e=this.log["$[]"]("convert"))&&e!==m&&null!=e?e:0),0))===m||null==t||t.$$is_boolean&&1!=t?m:n},a.$$arity=0),p.defn(_,"$total",c=function(){var t,e,n;return(t=g(n=b(b(b(!1!==(e=this.log["$[]"]("read"))&&e!==m&&null!=e?e:0,!1!==(e=this.log["$[]"]("parse"))&&e!==m&&null!=e?e:0),!1!==(e=this.log["$[]"]("convert"))&&e!==m&&null!=e?e:0),!1!==(e=this.log["$[]"]("write"))&&e!==m&&null!=e?e:0),0))===m||null==t||t.$$is_boolean&&1!=t?m:n},c.$$arity=0),p.defn(_,"$print_report",u=function(t,e){return null==x.stdout&&(x.stdout=m),null==t&&(t=x.stdout),null==e&&(e=m),!1!==e&&e!==m&&null!=e&&t.$puts("Input file: "+e),t.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f())),t.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f())),t.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},u.$$arity=-1)}($.base,0,r)},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(s){s.top;var t=s,e=[s],l=s.nil,a=(s.breaker,s.slice,s.klass);return s.add_stubs(["$method_defined?"]),function(t,e,n){function $(){}var r,o=$=a(t,null,"NilClass",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);((r=o["$method_defined?"]("nil_or_empty?"))===l||null==r||r.$$is_boolean&&1!=r)&&s.alias(o,"nil_or_empty?","nil?")}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=a(t,null,"String",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);((r=o["$method_defined?"]("nil_or_empty?"))===l||null==r||r.$$is_boolean&&1!=r)&&s.alias(o,"nil_or_empty?","empty?")}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=a(t,null,"Array",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);((r=o["$method_defined?"]("nil_or_empty?"))===l||null==r||r.$$is_boolean&&1!=r)&&s.alias(o,"nil_or_empty?","empty?")}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=a(t,null,"Hash",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);((r=o["$method_defined?"]("nil_or_empty?"))===l||null==r||r.$$is_boolean&&1!=r)&&s.alias(o,"nil_or_empty?","empty?")}(t.base,0,e),function(t,e,n){function $(){}var r,o=$=a(t,null,"Numeric",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return(r=o["$method_defined?"]("nil_or_empty?"))===l||null==r||r.$$is_boolean&&1!=r?s.alias(o,"nil_or_empty?","nil?"):l}(t.base,0,e)},Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(s){s.top;var t=s,e=[s],l=s.nil,a=(s.breaker,s.slice,s.klass);return s.add_stubs(["$method_defined?"]),function(t,e,n){function $(){}var r,o=$=a(t,null,"Regexp",$),i=(o.$$proto,o.$$scope);n.slice().concat(i);return(r=o["$method_defined?"]("match?"))===l||null==r||r.$$is_boolean&&1!=r?s.alias(o,"match?","==="):l}(t.base,0,e)},Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(l){l.top;var t=l,e=[l],a=l.nil,c=(l.breaker,l.slice,l.klass);return l.add_stubs(["$method_defined?","$<","$bytesize","$valid_encoding?","$force_encoding","$byteslice","$-"]),function(t,e,n){function $(){}var r,o,i=$=c(t,null,"String",$),s=(i.$$proto,i.$$scope);n.slice().concat(s);return(r=i["$method_defined?"]("limit_bytesize"))===a||null==r||r.$$is_boolean&&1!=r?(l.defn(i,"$limit_bytesize",o=function(t){var e,n,$,r,o,i,s=a;if($=t,r=this.$bytesize(),(e="number"==typeof $&&"number"==typeof r?$<r:$["$<"](r))===a||null==e||e.$$is_boolean&&1!=e)return this;for(;(n=(s=this.$byteslice(0,t)).$force_encoding(l.const_get([l.const_get([l.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0))["$valid_encoding?"]())===a||null==n||n.$$is_boolean&&1!=n;)i=1,t="number"==typeof(o=t)&&"number"==typeof i?o-i:o["$-"](i);return s},o.$$arity=1),a&&"limit_bytesize"):a}(t.base,0,e)},Opal.modules["asciidoctor/core_ext"]=function(t){var e,n=t.top,$=[t],r=t.nil;t.breaker,t.slice;return t.add_stubs(["$require","$!="]),n.$require("asciidoctor/core_ext/nil_or_empty"),n.$require("asciidoctor/core_ext/regexp/is_match"),(e=t.const_get($,"RUBY_MIN_VERSION_1_9",!0,!0))===r||null==e||e.$$is_boolean&&1!=e?((e=t.const_get($,"RUBY_ENGINE",!0,!0)["$!="]("opal"))===r||null==e||e.$$is_boolean,r):n.$require("asciidoctor/core_ext/string/limit_bytesize")},Opal.modules["asciidoctor/helpers"]=function(a){function c(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}a.top;var t,e,n,$,r,o,i,s,l,u,_,d,f,p,h,g,b,m,y,v,w=a,x=[a],k=a.nil,O=(a.breaker,a.slice,a.module),E=a.send,A=a.range,S=a.gvars;return a.add_stubs(["$require","$==","$===","$fail","$warn","$chomp","$message","$class","$normalize_lines_from_string","$normalize_lines_array","$empty?","$unpack","$[]","$map","$each_line","$encode","$force_encoding","$join","$to_proc","$[]=","$-","$rstrip","$encoding","$nil_or_empty?","$include?","$match?","$=~","$gsub","$each_byte","$sprintf","$length","$extname","$basename","$directory?","$dirname","$!","$!=","$mkdir_p","$mkdir"]),t=w.base,e=x,(m=O(t,"Asciidoctor")).$$proto,y=m.$$scope,v=e.slice().concat(y),n=y.base,$=v,(h=O(n,"Helpers")).$$proto,g=h.$$scope,b=$.slice().concat(g),a.defs(h,"$require_library",r=function(e,n,$){var r=this,o=k,i=k;null==n&&(n=!0),null==$&&($="abort");try{return r.$require(e)}catch(t){if(!a.rescue(t,[a.const_get([a.Object.$$scope],"LoadError",!0,!0)]))throw t;o=t;try{return!1!==n&&n!==k&&null!=n?(n["$=="](!0)&&(n=e),"abort"["$==="](i=$)?r.$fail("asciidoctor: FAILED: required gem '"+n+"' is not installed. Processing aborted."):"warn"["$==="](i)?r.$warn("asciidoctor: WARNING: optional gem '"+n+"' is not installed. Functionality disabled."):k):"abort"["$==="](i=$)?r.$fail("asciidoctor: FAILED: "+o.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](i)?r.$warn("asciidoctor: WARNING: "+o.$message().$chomp(".")+". Functionality disabled."):k}finally{a.pop_exception()}}},r.$$arity=-2),a.defs(h,"$normalize_lines",o=function(t){return t.$class()["$=="](a.const_get([a.Object.$$scope],"String",!0,!0))?this.$normalize_lines_from_string(t):this.$normalize_lines_array(t)},o.$$arity=1),a.defs(h,"$normalize_lines_array",i=function(t){var e,n,$,r=k,o=k,i=k,s=k,l=k;return(e=t["$empty?"]())===k||null==e||e.$$is_boolean&&1!=e?(r=(o=t["$[]"](0)).$unpack("C3"),(e=a.const_get(b,"COERCE_ENCODING",!0,!0))===k||null==e||e.$$is_boolean&&1!=e?(r["$=="](a.const_get(b,"BOM_BYTES_UTF_8",!0,!0))&&(l=[0,o["$[]"](A(3,-1,!1))],E(t,"[]=",a.to_a(l)),l[c(l.length,1)]),E(t,"map",[],"rstrip".$to_proc())):(i=a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),(s=r["$[]"](0,2))["$=="](a.const_get(b,"BOM_BYTES_UTF_16LE",!0,!0))?E(t.$join().$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](A(1,-1,!1)).$encode(i).$each_line(),"map",[],"rstrip".$to_proc()):s["$=="](a.const_get(b,"BOM_BYTES_UTF_16BE",!0,!0))?(l=[0,o.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](A(1,-1,!1))],E(t,"[]=",a.to_a(l)),l[c(l.length,1)],E(t,"map",[],((n=function(t){return n.$$s,null==t&&(t=k),""+t.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0)).$encode(i).$rstrip()}).$$s=this,n.$$arity=1,n))):(r["$=="](a.const_get(b,"BOM_BYTES_UTF_8",!0,!0))&&(l=[0,o.$force_encoding(i)["$[]"](A(1,-1,!1))],E(t,"[]=",a.to_a(l)),l[c(l.length,1)]),E(t,"map",[],(($=function(t){return $.$$s,null==t&&(t=k),t.$encoding()["$=="](i)?t.$rstrip():t.$force_encoding(i).$rstrip()}).$$s=this,$.$$arity=1,$))))):t},i.$$arity=1),a.defs(h,"$normalize_lines_from_string",s=function(t){var e,n=k,$=k,r=k;return(e=t["$nil_or_empty?"]())===k||null==e||e.$$is_boolean&&1!=e?(n=t.$unpack("C3"),(e=a.const_get(b,"COERCE_ENCODING",!0,!0))===k||null==e||e.$$is_boolean&&1!=e?n["$=="](a.const_get(b,"BOM_BYTES_UTF_8",!0,!0))&&(t=t["$[]"](A(3,-1,!1))):($=a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),(r=n["$[]"](0,2))["$=="](a.const_get(b,"BOM_BYTES_UTF_16LE",!0,!0))?t=t.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](A(1,-1,!1)).$encode($):r["$=="](a.const_get(b,"BOM_BYTES_UTF_16BE",!0,!0))?t=t.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](A(1,-1,!1)).$encode($):n["$=="](a.const_get(b,"BOM_BYTES_UTF_8",!0,!0))?t=t.$encoding()["$=="]($)?t["$[]"](A(1,-1,!1)):t.$force_encoding($)["$[]"](A(1,-1,!1)):t.$encoding()["$=="]($)||(t=t.$force_encoding($))),E(t.$each_line(),"map",[],"rstrip".$to_proc())):[]},s.$$arity=1),a.defs(h,"$uriish?",l=function(t){var e;return!1!==(e=t["$include?"](":"))&&e!==k&&null!=e?a.const_get(b,"UriSniffRx",!0,!0)["$match?"](t):e},l.$$arity=1),a.defs(h,"$uri_prefix",u=function(t){var e,n;return(e=!1!==(n=t["$include?"](":"))&&n!==k&&null!=n?a.const_get(b,"UriSniffRx",!0,!0)["$=~"](t):n)===k||null==e||e.$$is_boolean&&1!=e?k:(e=S["~"])===k?k:e["$[]"](0)},u.$$arity=1),a.cdecl(g,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),a.defs(h,"$encode_uri",_=function(t){var $;return E(t,"gsub",[a.const_get(b,"REGEXP_ENCODE_URI_CHARS",!0,!0)],(($=function(){var t,n,e=$.$$s||this;return E(((t=S["~"])===k?k:t["$[]"](0)).$each_byte(),"map",[],(n=function(t){var e=n.$$s||this;return null==t&&(t=k),e.$sprintf("%%%02X",t)},n.$$s=e,n.$$arity=1,n)).$join()}).$$s=this,$.$$arity=0,$))},_.$$arity=1),a.defs(h,"$rootname",d=function(t){return t["$[]"](0,c(t.$length(),a.const_get([a.Object.$$scope],"File",!0,!0).$extname(t).$length()))},d.$$arity=1),a.defs(h,"$basename",f=function(t,e){return null==e&&(e=k),!1!==e&&e!==k&&null!=e?a.const_get([a.Object.$$scope],"File",!0,!0).$basename(t,e["$=="](!0)?a.const_get([a.Object.$$scope],"File",!0,!0).$extname(t):e):a.const_get([a.Object.$$scope],"File",!0,!0).$basename(t)},f.$$arity=-2),void a.defs(h,"$mkdir_p",p=function(t){var e,n,$=k;return(e=a.const_get([a.Object.$$scope],"File",!0,!0)["$directory?"](t))===k||null==e||e.$$is_boolean&&1!=e?($=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(t),(e=!1!==(n=a.const_get([a.Object.$$scope],"File",!0,!0)["$directory?"]($=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(t))["$!"]())&&n!==k&&null!=n?$["$!="]("."):n)===k||null==e||e.$$is_boolean&&1!=e||this.$mkdir_p($),a.const_get([a.Object.$$scope],"Dir",!0,!0).$mkdir(t)):k},p.$$arity=1)},Opal.modules["asciidoctor/substitutors"]=function(x){function k(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function O(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function E(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function p(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}x.top;var t,e,n,$,r,o,i,s,l,a,c,u,_,d,f,h,g,b,m,y,v,w,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K=x,W=[x],X=x.nil,V=(x.breaker,x.slice),J=x.module,Z=x.hash2,Q=x.send,tt=x.gvars,et=x.range;return x.add_stubs(["$freeze","$+","$keys","$attr_reader","$empty?","$===","$[]","$each","$<<","$*","$include?","$extract_passthroughs","$sub_specialchars","$sub_quotes","$sub_attributes","$split","$sub_replacements","$sub_macros","$highlight_source","$sub_callouts","$sub_post_replacements","$warn","$restore_passthroughs","$apply_subs","$compat_mode","$gsub","$nil_or_empty?","$==","$size","$unescape_brackets","$resolve_pass_subs","$[]=","$-","$length","$>","$end_with?","$parse_attributes","$start_with?","$!","$to_sym","$attributes","$document","$basebackend?","$to_i","$convert","$new","$clear","$convert_quoted_text","$do_replacement","$tr","$store_attribute","$fetch","$attribute_undefined","$counter","$key?","$downcase","$attribute_missing","$unescape_bracketed_text","$inject","$strip","$map","$pop","$rstrip","$extensions","$inline_macros?","$inline_macros","$regexp","$instance","$config","$process_method","$register","$basename","$split_simple_csv","$normalize_string","$!=","$!~","$chop","$delete","$sub","$encode_uri","$sub_inline_xrefs","$sub_inline_anchors","$find","$references","$id","$index","$text","$rootname","$key","$attr?","$escape","$attr","$read_next_id","$callouts","$<","$parse_quoted_text_attributes","$shorthand_property_syntax","$shift","$concat","$parse_into","$parse","$each_char","$join","$match?","$chr","$dup","$&","$resolve_subs","$nil?","$require_library","$set_attr","$sub_source","$resolve_highlight_lines","$highlight","$find_by_alias","$find_by_mimetype","$name","$option?","$=~","$to_a","$uniq","$sort","$resolve_block_subs"]),t=K.base,e=W,(G=J(t,"Asciidoctor")).$$proto,H=G.$$scope,Y=e.slice().concat(H),n=H.base,$=Y,(q=J(n,"Substitutors")).$$proto,U=q.$$scope,F=$.slice().concat(U),x.cdecl(U,"SpecialCharsRx",/[<&>]/),x.cdecl(U,"SpecialCharsTr",Z([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),x.cdecl(U,"BASIC_SUBS",["specialcharacters"].$freeze()),x.cdecl(U,"HEADER_SUBS",["specialcharacters","attributes"].$freeze()),x.cdecl(U,"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"].$freeze()),x.cdecl(U,"PASS_SUBS",[].$freeze()),x.cdecl(U,"TITLE_SUBS",["specialcharacters","quotes","replacements","macros","attributes","post_replacements"].$freeze()),x.cdecl(U,"VERBATIM_SUBS",["specialcharacters","callouts"].$freeze()),x.cdecl(U,"SUB_GROUPS",Z(["none","normal","verbatim","specialchars"],{none:[].$freeze(),normal:x.const_get(F,"NORMAL_SUBS",!0,!0),verbatim:x.const_get(F,"VERBATIM_SUBS",!0,!0),specialchars:x.const_get(F,"BASIC_SUBS",!0,!0)})),x.cdecl(U,"SUB_HINTS",Z(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),x.cdecl(U,"SUB_OPTIONS",Z(["block","inline"],{block:k(k(x.const_get(F,"SUB_GROUPS",!0,!0).$keys(),x.const_get(F,"NORMAL_SUBS",!0,!0)),["callouts"]),inline:k(x.const_get(F,"SUB_GROUPS",!0,!0).$keys(),x.const_get(F,"NORMAL_SUBS",!0,!0))})),x.cdecl(U,"SUB_HIGHLIGHT",["coderay","pygments"]),x.cdecl(U,"PASS_START",""),x.cdecl(U,"PASS_END",""),x.cdecl(U,"PASS_MATCH",/\u0096(\d+)\u0097/),x.cdecl(U,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),x.cdecl(U,"PLUS","+"),x.cdecl(U,"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m),x.cdecl(U,"PygmentsWrapperPreRx",/<pre[^>]*>(.*?)<\/pre>\s*/m),q.$attr_reader("passthroughs"),x.defn(q,"$apply_subs",r=function(t,i,e){var n,$,r,s,o=X,l=X,a=X,c=X;if(null==this.passthroughs&&(this.passthroughs=X),null==i&&(i=x.const_get(F,"NORMAL_SUBS",!0,!0)),null==e&&(e=!1),!((n=!1!==($=t["$empty?"]())&&$!==X&&null!=$?$:i["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n))return t;if(!1!==e&&e!==X&&null!=e)if((n=x.const_get([x.Object.$$scope],"Symbol",!0,!0)["$==="](i))===X||null==n||n.$$is_boolean&&1!=n){if(o=[],Q(i,"each",[],((r=function(t){r.$$s;var e,n=X;return null==t&&(t=X),(e=n=x.const_get(F,"SUB_GROUPS",!0,!0)["$[]"](t))===X||null==e||e.$$is_boolean&&1!=e?o["$<<"](t):(e=n["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?o=k(o,n):X}).$$s=this,r.$$arity=1,r)),(n=(i=o)["$empty?"]())!==X&&null!=n&&(!n.$$is_boolean||1==n))return t}else i=!1!==(n=x.const_get(F,"SUB_GROUPS",!0,!0)["$[]"](i))&&n!==X&&null!=n?n:[i];return l=(n=a=x.const_get([x.Object.$$scope],"Array",!0,!0)["$==="](t))===X||null==n||n.$$is_boolean&&1!=n?t:O(t,x.const_get(F,"EOL",!0,!0)),(n=c=i["$include?"]("macros"))===X||null==n||n.$$is_boolean&&1!=n||(l=this.$extract_passthroughs(l),(n=this.passthroughs["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n||(c=!1)),Q(i,"each",[],((s=function(t){var e,n,$,r=s.$$s||this,o=X;return null==t&&(t=X),"specialcharacters"["$==="](o=t)?(e=!1!==(n=!1!==($=l["$include?"]("<"))&&$!==X&&null!=$?$:l["$include?"]("&"))&&n!==X&&null!=n?n:l["$include?"](">"))===X||null==e||e.$$is_boolean&&1!=e?X:l=r.$sub_specialchars(l):"quotes"["$==="](o)?l=r.$sub_quotes(l):"attributes"["$==="](o)?(e=l["$include?"]("{"))===X||null==e||e.$$is_boolean&&1!=e?X:l=O(r.$sub_attributes(l.$split(x.const_get(F,"EOL",!0,!0),-1)),x.const_get(F,"EOL",!0,!0)):"replacements"["$==="](o)?l=r.$sub_replacements(l):"macros"["$==="](o)?l=r.$sub_macros(l):"highlight"["$==="](o)?l=r.$highlight_source(l,i["$include?"]("callouts")):"callouts"["$==="](o)?(e=i["$include?"]("highlight"))===X||null==e||e.$$is_boolean&&1!=e?l=r.$sub_callouts(l):X:"post_replacements"["$==="](o)?l=r.$sub_post_replacements(l):r.$warn("asciidoctor: WARNING: unknown substitution type "+t)}).$$s=this,s.$$arity=1,s)),!1!==c&&c!==X&&null!=c&&(l=this.$restore_passthroughs(l)),!1!==a&&a!==X&&null!=a?l.$split(x.const_get(F,"EOL",!0,!0),-1):l},r.$$arity=-2),x.defn(q,"$apply_normal_subs",o=function(t){var e;return this.$apply_subs((e=x.const_get([x.Object.$$scope],"Array",!0,!0)["$==="](t))===X||null==e||e.$$is_boolean&&1!=e?t:O(t,x.const_get(F,"EOL",!0,!0)))},o.$$arity=1),x.defn(q,"$apply_title_subs",i=function(t){return this.$apply_subs(t,x.const_get(F,"TITLE_SUBS",!0,!0))},i.$$arity=1),x.defn(q,"$apply_header_subs",s=function(t){return this.$apply_subs(t,x.const_get(F,"HEADER_SUBS",!0,!0))},s.$$arity=1),x.defn(q,"$extract_passthroughs",l=function(t){var e,n,$,_,d,a,f,r,o,i;return null==this.document&&(this.document=X),f=this.document.$compat_mode(),(e=!1!==(n=!1!==($=t["$include?"]("++"))&&$!==X&&null!=$?$:t["$include?"]("$$"))&&n!==X&&null!=n?n:t["$include?"]("ss:"))===X||null==e||e.$$is_boolean&&1!=e||(t=Q(t,"gsub",[x.const_get(F,"PassInlineMacroRx",!0,!0)],((_=function(){var t,e=_.$$s||this,n=X,$=X,r=X,o=X,i=X,s=X,l=X,a=X,c=X,u=X;if(null==e.passthroughs&&(e.passthroughs=X),null==tt["~"]&&(tt["~"]=X),n=tt["~"],$=X,(t=(r=n["$[]"](4))["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t){if((t=!1!==f&&f!==X&&null!=f?r["$=="]("++"):f)!==X&&null!=t&&(!t.$$is_boolean||1==t))return(t=n["$[]"](2)["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?n["$[]"](1)+"["+n["$[]"](2)+"]"+n["$[]"](3)+"++"+e.$extract_passthroughs(n["$[]"](5))+"++":""+n["$[]"](1)+n["$[]"](3)+"++"+e.$extract_passthroughs(n["$[]"](5))+"++";if(s=n["$[]"](2),(t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||s["$=="]("")&&(s=X),l=n["$[]"](3).$length(),a=n["$[]"](5),(c=!1)!==s&&s!==X&&null!=s){if(!((t=p(l,0))===X||null==t||t.$$is_boolean&&1!=t))return n["$[]"](1)+"["+s+"]"+O("\\",E(l,1))+r+n["$[]"](5)+r;n["$[]"](1)["$=="]("\\")?($="["+s+"]",s=X):((t=r["$=="]("++")?s["$end_with?"]("x-"):r["$=="]("++"))===X||null==t||t.$$is_boolean&&1!=t||(c=!0,s=s["$[]"](et(0,-2,!0))),s=e.$parse_attributes(s))}else if((t=p(l,0))!==X&&null!=t&&(!t.$$is_boolean||1==t))return""+O("\\",E(l,1))+r+n["$[]"](5)+r;u=r["$=="]("+++")?[]:x.const_get(F,"BASIC_SUBS",!0,!0),i=e.passthroughs.$size(),o=!1!==s&&s!==X&&null!=s?!1!==c&&c!==X&&null!=c?[i,Z(["text","subs","type","attributes"],{text:a,subs:x.const_get(F,"NORMAL_SUBS",!0,!0),type:"monospaced",attributes:s})]:[i,Z(["text","subs","type","attributes"],{text:a,subs:u,type:"unquoted",attributes:s})]:[i,Z(["text","subs"],{text:a,subs:u})],Q(e.passthroughs,"[]=",x.to_a(o)),o[E(o.length,1)]}else{if(n["$[]"](6)["$=="]("\\"))return n["$[]"](0)["$[]"](et(1,-1,!1));o=[i=e.passthroughs.$size(),Z(["text","subs"],{text:e.$unescape_brackets(n["$[]"](8)),subs:(t=n["$[]"](7)["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?e.$resolve_pass_subs(n["$[]"](7)):[]})],Q(e.passthroughs,"[]=",x.to_a(o)),o[E(o.length,1)]}return""+$+x.const_get(F,"PASS_START",!0,!0)+i+x.const_get(F,"PASS_END",!0,!0)}).$$s=this,_.$$arity=0,_))),n=x.const_get(F,"PassInlineRx",!0,!0)["$[]"](f),r=null==(e=x.to_ary(n))[0]?X:e[0],o=null==e[1]?X:e[1],i=null==e[2]?X:e[2],(e=!1!==(n=t["$include?"](r))&&n!==X&&null!=n?n:($=!1!==o&&o!==X&&null!=o)?t["$include?"](o):o)===X||null==e||e.$$is_boolean&&1!=e||(t=Q(t,"gsub",[i],((d=function(){var t,e,n,$,r=d.$$s||this,o=X,i=X,s=X,l=X,a=X,c=X,u=X;if(null==r.passthroughs&&(r.passthroughs=X),null==tt["~"]&&(tt["~"]=X),i=(o=tt["~"])["$[]"](1),s=o["$[]"](2),e=(t=o["$[]"](3)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?X:"\\",l=o["$[]"](4),n=o["$[]"](5),(t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||s["$=="]("")&&(s=X),!1!==f&&f!==X&&null!=f?a=!0:(t=a=!1!==s&&s!==X&&null!=s?s["$end_with?"]("x-"):s)===X||null==t||t.$$is_boolean&&1!=t||(s=s["$[]"](et(0,-2,!0))),!1!==s&&s!==X&&null!=s){if((t=l["$=="]("`")?a["$!"]():l["$=="]("`"))!==X&&null!=t&&(!t.$$is_boolean||1==t))return i+"["+s+"]"+e+"`"+r.$extract_passthroughs(n)+"`";if(!1!==e&&e!==X&&null!=e)return i+"["+s+"]"+o["$[]"](3)["$[]"](et(1,-1,!1));i["$=="]("\\")?(i="["+s+"]",s=X):s=r.$parse_attributes(s)}else{if(!((t=l["$=="]("`")?a["$!"]():l["$=="]("`"))===X||null==t||t.$$is_boolean&&1!=t))return""+i+e+"`"+r.$extract_passthroughs(n)+"`";if(!1!==e&&e!==X&&null!=e)return""+i+o["$[]"](3)["$[]"](et(1,-1,!1))}return $=r.passthroughs.$size(),!1!==f&&f!==X&&null!=f?c=[$,Z(["text","subs","attributes","type"],{text:n,subs:x.const_get(F,"BASIC_SUBS",!0,!0),attributes:s,type:"monospaced"})]:!1!==s&&s!==X&&null!=s?!1!==a&&a!==X&&null!=a?(u=l["$=="]("`")?x.const_get(F,"BASIC_SUBS",!0,!0):x.const_get(F,"NORMAL_SUBS",!0,!0),c=[$,Z(["text","subs","attributes","type"],{text:n,subs:u,attributes:s,type:"monospaced"})]):c=[$,Z(["text","subs","attributes","type"],{text:n,subs:x.const_get(F,"BASIC_SUBS",!0,!0),attributes:s,type:"unquoted"})]:c=[$,Z(["text","subs"],{text:n,subs:x.const_get(F,"BASIC_SUBS",!0,!0)})],Q(r.passthroughs,"[]=",x.to_a(c)),c[E(c.length,1)],""+i+x.const_get(F,"PASS_START",!0,!0)+$+x.const_get(F,"PASS_END",!0,!0)}).$$s=this,d.$$arity=0,d))),(e=!1!==(n=t["$include?"](":"))&&n!==X&&null!=n?!1!==($=t["$include?"]("stem:"))&&$!==X&&null!=$?$:t["$include?"]("math:"):n)===X||null==e||e.$$is_boolean&&1!=e||(t=Q(t,"gsub",[x.const_get(F,"StemInlineMacroRx",!0,!0)],((a=function(){var t,e,n,$,r=a.$$s||this,o=X,i=X,s=X,l=X;return null==r.document&&(r.document=X),null==r.passthroughs&&(r.passthroughs=X),null==tt["~"]&&(tt["~"]=X),o=tt["~"],(t=o["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?((i=o["$[]"](1).$to_sym())["$=="]("stem")&&(i=((t=(s=r.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?s:"asciimath").$to_sym()),e=r.$unescape_brackets(o["$[]"](3)),l=(t=o["$[]"](2)["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?r.$resolve_pass_subs(o["$[]"](2)):(t=r.document["$basebackend?"]("html"))===X||null==t||t.$$is_boolean&&1!=t?[]:x.const_get(F,"BASIC_SUBS",!0,!0),n=[$=r.passthroughs.$size(),Z(["text","subs","type"],{text:e,subs:l,type:i})],Q(r.passthroughs,"[]=",x.to_a(n)),E(n.length,1),""+x.const_get(F,"PASS_START",!0,!0)+$+x.const_get(F,"PASS_END",!0,!0)):o["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=this,a.$$arity=0,a))),t},l.$$arity=1),x.defn(q,"$restore_passthroughs",a=function(t,e){var n,$,o,r=this;return null==r.passthroughs&&(r.passthroughs=X),null==e&&(e=!0),function(){try{return(n=!1!==e&&e!==X&&null!=e?!1!==($=r.passthroughs["$empty?"]())&&$!==X&&null!=$?$:t["$include?"](x.const_get(F,"PASS_START",!0,!0))["$!"]():e)===X||null==n||n.$$is_boolean&&1!=n?Q(t,"gsub",[x.const_get(F,"PASS_MATCH",!0,!0)],((o=function(){var t,e,n=o.$$s||this,$=X,r=X;return null==n.passthroughs&&(n.passthroughs=X),$=n.passthroughs["$[]"](((t=tt["~"])===X?X:t["$[]"](1)).$to_i()),r=n.$apply_subs($["$[]"]("text"),$["$[]"]("subs")),(t=e=$["$[]"]("type"))===X||null==t||t.$$is_boolean&&1!=t||(r=x.const_get(F,"Inline",!0,!0).$new(n,"quoted",r,Z(["type","attributes"],{type:e,attributes:$["$[]"]("attributes")})).$convert()),(t=r["$include?"](x.const_get(F,"PASS_START",!0,!0)))===X||null==t||t.$$is_boolean&&1!=t?r:n.$restore_passthroughs(r,!1)}).$$s=r,o.$$arity=0,o)):t}finally{!1!==e&&e!==X&&null!=e&&r.passthroughs.$clear()}}()},a.$$arity=-2),(c=x.const_get([x.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0))===X||null==c||c.$$is_boolean&&1!=c?x.defn(q,"$sub_specialchars",_=function(t){var e;return Q(t,"gsub",[x.const_get(F,"SpecialCharsRx",!0,!0)],((e=function(){var t;return e.$$s,x.const_get(F,"SpecialCharsTr",!0,!0)["$[]"]((t=tt["~"])===X?X:t["$[]"](0))}).$$s=this,e.$$arity=0,e))},_.$$arity=1):x.defn(q,"$sub_specialchars",u=function(t){return t.$gsub(x.const_get(F,"SpecialCharsRx",!0,!0),x.const_get(F,"SpecialCharsTr",!0,!0))},u.$$arity=1),x.alias(q,"sub_specialcharacters","sub_specialchars"),x.const_get(F,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(x.defn(q,"$sub_quotes",d=function(o){var i;return null==this.document&&(this.document=X),Q(x.const_get(F,"QUOTE_SUBS",!0,!0)["$[]"](this.document.$compat_mode()),"each",[],((i=function(e,n,t){var $,r=i.$$s||this;return null==e&&(e=X),null==n&&(n=X),null==t&&(t=X),o=Q(o,"gsub",[t],(($=function(){var t=$.$$s||this;return null==tt["~"]&&(tt["~"]=X),t.$convert_quoted_text(tt["~"],e,n)}).$$s=r,$.$$arity=0,$))}).$$s=this,i.$$arity=3,i)),o},d.$$arity=1),x.defn(q,"$sub_replacements",f=function(o){var i;return Q(x.const_get(F,"REPLACEMENTS",!0,!0),"each",[],((i=function(t,e,n){var $,r=i.$$s||this;return null==t&&(t=X),null==e&&(e=X),null==n&&(n=X),o=Q(o,"gsub",[t],(($=function(){var t=$.$$s||this;return null==tt["~"]&&(tt["~"]=X),t.$do_replacement(tt["~"],e,n)}).$$s=r,$.$$arity=0,$))}).$$s=this,i.$$arity=3,i)),o},f.$$arity=1)),x.defn(q,"$do_replacement",h=function(t,e,n){var $,r=X,o=X;return($=(r=t["$[]"](0))["$include?"]("\\"))===X||null==$||$.$$is_boolean&&1!=$?"none"["$==="](o=n)?e:"leading"["$==="](o)?""+t["$[]"](1)+e:"bounding"["$==="](o)?""+t["$[]"](1)+e+t["$[]"](2):X:r.$tr("\\","")},h.$$arity=3),x.defn(q,"$sub_attributes",g=function(t,g){var e,r,n,$=this,b=X,m=X,o=X;return null==$.document&&($.document=X),null==g&&(g=Z([],{})),(e=t["$nil_or_empty?"]())===X||null==e||e.$$is_boolean&&1!=e?((e=n=x.const_get([x.Object.$$scope],"String",!0,!0)["$==="](t))===X||null==e||e.$$is_boolean&&1!=e||(t=[t]),b=$.document.$attributes(),m=X,o=[],function(){var e=x.new_brk();try{Q(t,"each",[],((r=function(t){var e,f,n,$=r.$$s||this,p=X,h=X;return null==t&&(t=X),h=p=!1,(e=t["$include?"]("{"))===X||null==e||e.$$is_boolean&&1!=e||(t=function(){var d=x.new_brk();try{return Q(t,"gsub",[x.const_get(F,"AttributeReferenceRx",!0,!0)],((f=function(){var t,e,n,$=f.$$s||this,r=X,o=X,i=X,s=X,l=X,a=X,c=X,u=X,_=X;return null==$.document&&($.document=X),null==tt["~"]&&(tt["~"]=X),r=tt["~"],(t=!1!==(e=r["$[]"](1)["$=="]("\\"))&&e!==X&&null!=e?e:r["$[]"](4)["$=="]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(t=r["$[]"](3)["$nil_or_empty?"]()["$!"]())===X||null==t||t.$$is_boolean&&1!=t?(t=b["$key?"](_=r["$[]"](2).$downcase()))===X||null==t||t.$$is_boolean&&1!=t?(t=x.const_get(F,"INTRINSIC_ATTRIBUTES",!0,!0)["$key?"](_))===X||null==t||t.$$is_boolean&&1!=t?(l=!1!==(t=m)&&t!==X&&null!=t?t:m=!1!==(e=g["$[]"]("attribute_missing"))&&e!==X&&null!=e?e:b.$fetch("attribute-missing",x.const_get(F,"Compliance",!0,!0).$attribute_missing()),"skip"["$==="](l)?r["$[]"](0):"drop-line"["$==="](l)?($.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+_),p=!0,void x.brk("",d)):"warn"["$==="](l)?($.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+_),r["$[]"](0)):(h=!0,"")):x.const_get(F,"INTRINSIC_ATTRIBUTES",!0,!0)["$[]"](_):b["$[]"](_):(o=k((i=r["$[]"](3)).$length(),1),s=r["$[]"](2)["$[]"](x.Range.$new(o,-1,!1)),"set"["$==="](l=i)?(a=s.$split(":"),e=x.const_get(F,"Parser",!0,!0).$store_attribute(a["$[]"](0),!1!==(n=a["$[]"](1))&&n!==X&&null!=n?n:"",$.document),null==(t=x.to_ary(e))[0]||t[0],!1!==(c=null==t[1]?X:t[1])&&c!==X&&null!=c||b.$fetch("attribute-undefined",x.const_get(F,"Compliance",!0,!0).$attribute_undefined())["$=="]("drop-line")&&(p=!0,x.brk("",d)),h=!0,""):"counter"["$==="](l)||"counter2"["$==="](l)?(a=s.$split(":"),u=$.document.$counter(a["$[]"](0),a["$[]"](1)),i["$=="]("counter2")?(h=!0,""):u):($.$warn("asciidoctor: WARNING: illegal attribute directive: "+r["$[]"](3)),r["$[]"](0))):"{"+r["$[]"](2)+"}"}).$$s=$,f.$$brk=d,f.$$arity=0,f))}catch(t){if(t===d)return t.$v;throw t}}()),(e=!1!==(n=p)&&n!==X&&null!=n?n:!1!==h&&h!==X&&null!=h?t["$empty?"]():h)===X||null==e||e.$$is_boolean&&1!=e?o["$<<"](t):X}).$$s=$,r.$$brk=e,r.$$arity=1,r))}catch(t){if(t===e)return t.$v;throw t}}(),!1!==n&&n!==X&&null!=n?O(o,x.const_get(F,"EOL",!0,!0)):o):t},g.$$arity=-2),x.defn(q,"$sub_macros",b=function(t){var e,n,$,s,u,c,r,_,a,d,f,i,p,o,h,l,g=this,b=X,m=X,y=X,v=X,w=X;return null==g.document&&(g.document=X),(e=t["$nil_or_empty?"]())===X||null==e||e.$$is_boolean&&1!=e?(b=Z([],{}),m=["square_bracket",t["$include?"]("[")],Q(b,"[]=",x.to_a(m)),m[E(m.length,1)],m=["round_bracket",t["$include?"]("(")],Q(b,"[]=",x.to_a(m)),m[E(m.length,1)],m=["colon",o=t["$include?"](":")],Q(b,"[]=",x.to_a(m)),m[E(m.length,1)],m=["macroish",(e=b["$[]"]("square_bracket"),!1!==e&&e!==X&&null!=e?o:e)],Q(b,"[]=",x.to_a(m)),m[E(m.length,1)],m=["macroish_short_form",(n=b["$[]"]("square_bracket"),e=!1!==n&&n!==X&&null!=n?o:n,!1!==e&&e!==X&&null!=e?t["$include?"](":["):e)],Q(b,"[]=",x.to_a(m)),m[E(m.length,1)],y=g.document.$attributes(),h=y["$key?"]("linkattrs"),l=y["$key?"]("experimental"),v=""+t,!1!==l&&l!==X&&null!=l&&((e=!1!==(n=b["$[]"]("macroish_short_form"))&&n!==X&&null!=n?!1!==($=v["$include?"]("kbd:"))&&$!==X&&null!=$?$:v["$include?"]("btn:"):n)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"KbdBtnInlineMacroRx",!0,!0)],((s=function(){var t,$,e=s.$$s||this,n=X,r=X,o=X,i=X;return null==tt["~"]&&(tt["~"]=X),(t=(r=(n=tt["~"])["$[]"](0))["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(t=r["$start_with?"]("kbd"))===X||null==t||t.$$is_boolean&&1!=t?(t=r["$start_with?"]("btn"))===X||null==t||t.$$is_boolean&&1!=t?X:(i=e.$unescape_bracketed_text(n["$[]"](1)),x.const_get(F,"Inline",!0,!0).$new(e,"button",i).$convert()):(o=(o=e.$unescape_bracketed_text(n["$[]"](1)))["$=="]("+")?["+"]:Q(o.$split(x.const_get(F,"KbdDelimiterRx",!0,!0)),"inject",[[]],(($=function(t,e){var n;return $.$$s,null==t&&(t=X),null==e&&(e=X),(n=e["$end_with?"]("++"))===X||null==n||n.$$is_boolean&&1!=n?t["$<<"](e.$strip()):(t["$<<"](e["$[]"](et(0,-2,!0)).$strip()),t["$<<"]("+")),t}).$$s=e,$.$$arity=2,$)),x.const_get(F,"Inline",!0,!0).$new(e,"kbd",X,Z(["attributes"],{attributes:Z(["keys"],{keys:o})})).$convert()):r["$[]"](et(1,-1,!1))}).$$s=g,s.$$arity=0,s))),(e=!1!==(n=b["$[]"]("macroish"))&&n!==X&&null!=n?v["$include?"]("menu:"):n)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"MenuInlineMacroRx",!0,!0)],((u=function(){var t,e,n,$,r=u.$$s||this,o=X,i=X,s=X,l=X,a=X,c=X;return null==tt["~"]&&(tt["~"]=X),(t=(i=(o=tt["~"])["$[]"](0))["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?($=o["$[]"](1),(t=(s=o["$[]"](2))["$!"]())===X||null==t||t.$$is_boolean&&1!=t?(t=c=(e=s["$include?"]("&gt;"))===X||null==e||e.$$is_boolean&&1!=e?(e=s["$include?"](","))===X||null==e||e.$$is_boolean&&1!=e?X:",":"&gt;")===X||null==t||t.$$is_boolean&&1!=t?(l=[],a=s.$rstrip()):a=(l=Q(s.$split(c),"map",[],((n=function(t){return n.$$s,null==t&&(t=X),t.$strip()}).$$s=r,n.$$arity=1,n))).$pop():(l=[],a=X),x.const_get(F,"Inline",!0,!0).$new(r,"menu",X,Z(["attributes"],{attributes:Z(["menu","submenus","menuitem"],{menu:$,submenus:l,menuitem:a})})).$convert()):i["$[]"](et(1,-1,!1))}).$$s=g,u.$$arity=0,u))),(e=!1!==(n=v["$include?"]('"'))&&n!==X&&null!=n?v["$include?"]("&gt;"):n)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"MenuInlineRx",!0,!0)],((c=function(){var t,e,n,$,r,o=c.$$s||this,i=X,s=X,l=X,a=X;return null==tt["~"]&&(tt["~"]=X),(t=(s=(i=tt["~"])["$[]"](0))["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(l=i["$[]"](1),e=Q(l.$split("&gt;"),"map",[],((n=function(t){return n.$$s,null==t&&(t=X),t.$strip()}).$$s=o,n.$$arity=1,n)),$=null==(t=x.to_ary(e))[0]?X:t[0],r=(a=V.call(t,1)).$pop(),x.const_get(F,"Inline",!0,!0).$new(o,"menu",X,Z(["attributes"],{attributes:Z(["menu","submenus","menuitem"],{menu:$,submenus:a,menuitem:r})})).$convert()):s["$[]"](et(1,-1,!1))}).$$s=g,c.$$arity=0,c)))),(e=!1!==(n=w=g.document.$extensions())&&n!==X&&null!=n?w["$inline_macros?"]():n)===X||null==e||e.$$is_boolean&&1!=e||Q(w.$inline_macros(),"each",[],((r=function(o){var i,t=r.$$s||this;return null==o&&(o=X),v=Q(v,"gsub",[o.$instance().$regexp()],((i=function(){var t,e,n,$=i.$$s||this,r=X;return null==tt["~"]&&(tt["~"]=X),r=tt["~"],(t=r["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(e=r["$[]"](1),n=o.$config()["$[]"]("format")["$=="]("short")?Z([],{}):o.$config()["$[]"]("content_model")["$=="]("attributes")?$.$parse_attributes(r["$[]"](2),!1!==(t=o.$config()["$[]"]("pos_attrs"))&&t!==X&&null!=t?t:[],Z(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):Z(["text"],{text:$.$unescape_bracketed_text(r["$[]"](2))}),o.$process_method()["$[]"]($,e,n)):r["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=t,i.$$arity=0,i))}).$$s=g,r.$$arity=1,r)),(e=!1!==(n=b["$[]"]("macroish"))&&n!==X&&null!=n?!1!==($=v["$include?"]("image:"))&&$!==X&&null!=$?$:v["$include?"]("icon:"):n)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"ImageInlineMacroRx",!0,!0)],((_=function(){var t,e,n,$,r,o,i=_.$$s||this,s=X,l=X,a=X;return null==i.document&&(i.document=X),null==tt["~"]&&(tt["~"]=X),(t=(s=tt["~"])["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?($=i.$unescape_bracketed_text(s["$[]"](2)),(t=s["$[]"](0)["$start_with?"]("icon:"))===X||null==t||t.$$is_boolean&&1!=t?(l="image",a=["alt","width","height"]):(l="icon",a=["size"]),r=i.$sub_attributes(s["$[]"](1)),l["$=="]("icon")||i.document.$register("images",r),!(t="alt")!==(n=(e=o=i.$parse_attributes($,a))["$[]"](t))&&n!==X&&null!=n||e["$[]="](t,x.const_get(F,"Helpers",!0,!0).$basename(r,!0).$tr("_-"," ")),x.const_get(F,"Inline",!0,!0).$new(i,"image",X,Z(["type","target","attributes"],{type:l,target:r,attributes:o})).$convert()):s["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=g,_.$$arity=0,_))),(e=!1!==(n=b["$[]"]("macroish_short_form"))&&n!==X&&null!=n?n:b["$[]"]("round_bracket"))===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"IndextermInlineMacroRx",!0,!0)],((a=function(){var t,e,n=a.$$s||this,$=X,r=X,o=X,i=X,s=X,l=X;return null==n.document&&(n.document=X),null==tt["~"]&&(tt["~"]=X),(t=($=tt["~"])["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?((t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||$["$[]"](1)["$=="]("")&&(m=[1,X],Q($,"[]=",x.to_a(m)),m[E(m.length,1)]),r=0,o=X,((t=i=$["$[]"](1))===X||null==t||t.$$is_boolean&&1!=t)&&((t=!1!==(e=(o=$["$[]"](3))["$start_with?"]("("))&&e!==X&&null!=e?o["$end_with?"](")"):e)===X||null==t||t.$$is_boolean&&1!=t?r=2:(o=o["$[]"](et(1,-1,!0)),r=3)),(t=!1!==(e=i["$=="]("indexterm"))&&e!==X&&null!=e?e:r["$=="](3))===X||null==t||t.$$is_boolean&&1!=t?(l=(t=i["$!"]())===X||null==t||t.$$is_boolean&&1!=t?n.$normalize_string($["$[]"](2),!0):n.$normalize_string(o),n.document.$register("indexterms",[l]),x.const_get(F,"Inline",!0,!0).$new(n,"indexterm",l,Z(["type"],{type:"visible"})).$convert()):(s=(t=i["$!"]())===X||null==t||t.$$is_boolean&&1!=t?n.$split_simple_csv(n.$normalize_string($["$[]"](2),!0)):n.$split_simple_csv(n.$normalize_string(o)),n.document.$register("indexterms",[].concat(x.to_a(s))),x.const_get(F,"Inline",!0,!0).$new(n,"indexterm",X,Z(["attributes"],{attributes:Z(["terms"],{terms:s})})).$convert())):$["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=g,a.$$arity=0,a))),(e=(n=!1!==o&&o!==X&&null!=o)?v["$include?"]("://"):o)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"LinkInlineRx",!0,!0)],((d=function(){var t,e,n,$,r,o=d.$$s||this,i=X,s=X,l=X,a=X,c=X,u=X,_=X;return null==o.document&&(o.document=X),null==tt["~"]&&(tt["~"]=X),i=tt["~"],(t=i["$[]"](2)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?((t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||i["$[]"](3)["$=="]("")&&(m=[3,X],Q(i,"[]=",x.to_a(m)),m[E(m.length,1)]),(t=(e=i["$[]"](1)["$=="]("link:"))?i["$[]"](3)["$!"]():i["$[]"](1)["$=="]("link:"))===X||null==t||t.$$is_boolean&&1!=t?(s=(t=i["$[]"](1)["$!="]("link:"))===X||null==t||t.$$is_boolean&&1!=t?"":i["$[]"](1),l=i["$[]"](2),a="",((t=!1!==(e=i["$[]"](3))&&e!==X&&null!=e?e:x.const_get(F,"UriTerminatorRx",!0,!0)["$!~"](l))===X||null==t||t.$$is_boolean&&1!=t)&&(c=(t=tt["~"])===X?X:t["$[]"](0),")"["$==="](c)?(l=l.$chop(),a=")"):";"["$==="](c)?(e=s["$start_with?"]("&lt;"),(t=!1!==e&&e!==X&&null!=e?l["$end_with?"]("&gt;"):e)===X||null==t||t.$$is_boolean&&1!=t?(t=(l=l.$chop())["$end_with?"](")"))===X||null==t||t.$$is_boolean&&1!=t?a=";":(l=l.$chop(),a=");"):(s=s["$[]"](et(4,-1,!1)),l=l["$[]"](et(0,-4,!0)))):":"["$==="](c)&&((t=(l=l.$chop())["$end_with?"](")"))===X||null==t||t.$$is_boolean&&1!=t?a=":":(l=l.$chop(),a="):"))),o.document.$register("links",l),r=Z(["type","target"],{type:"link",target:l}),u=X,(t=i["$[]"](3)["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?((t=(e=!1!==h&&h!==X&&null!=h)?!1!==(n=i["$[]"](3)["$start_with?"]('"'))&&n!==X&&null!=n?n:!1!==($=i["$[]"](3)["$include?"](","))&&$!==X&&null!=$?i["$[]"](3)["$include?"]("="):$:h)===X||null==t||t.$$is_boolean&&1!=t?_=o.$sub_attributes(i["$[]"](3).$gsub("\\]","]")):(u=o.$parse_attributes(o.$sub_attributes(i["$[]"](3).$gsub("\\]","]")),[]),(t=u["$key?"]("id"))===X||null==t||t.$$is_boolean&&1!=t||(m=["id",u.$delete("id")],Q(r,"[]=",x.to_a(m)),m[E(m.length,1)]),_=!1!==(t=u["$[]"](1))&&t!==X&&null!=t?t:""),(t=_["$end_with?"]("^"))===X||null==t||t.$$is_boolean&&1!=t||(_=_.$chop(),!1!==u&&u!==X&&null!=u?!(t="window")!==(n=(e=u)["$[]"](t))&&n!==X&&null!=n||e["$[]="](t,"_blank"):u=Z(["window"],{window:"_blank"}))):_="",(t=_["$empty?"]())===X||null==t||t.$$is_boolean&&1!=t||(_=(t=y["$key?"]("hide-uri-scheme"))===X||null==t||t.$$is_boolean&&1!=t?l:l.$sub(x.const_get(F,"UriSniffRx",!0,!0),""),!1!==u&&u!==X&&null!=u?(m=["role",(t=u["$key?"]("role"))===X||null==t||t.$$is_boolean&&1!=t?"bare":"bare "+u["$[]"]("role")],Q(u,"[]=",x.to_a(m)),m[E(m.length,1)]):u=Z(["role"],{role:"bare"})),!1!==u&&u!==X&&null!=u&&(m=["attributes",u],Q(r,"[]=",x.to_a(m)),m[E(m.length,1)]),""+s+x.const_get(F,"Inline",!0,!0).$new(o,"anchor",_,r).$convert()+a):i["$[]"](0)):""+i["$[]"](1)+i["$[]"](2)["$[]"](et(1,-1,!1))+i["$[]"](3)}).$$s=g,d.$$arity=0,d))),(e=!1!==(n=!1!==($=b["$[]"]("macroish"))&&$!==X&&null!=$?v["$include?"]("link:"):$)&&n!==X&&null!=n?n:v["$include?"]("mailto:"))===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"LinkInlineMacroRx",!0,!0)],((f=function(){var t,e,n,$,r,o,i=f.$$s||this,s=X,l=X,a=X,c=X;return null==i.document&&(i.document=X),null==tt["~"]&&(tt["~"]=X),s=tt["~"],(t=s["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?($=s["$[]"](1),r=s["$[]"](0)["$start_with?"]("mailto:"),o=Z(["type","target"],{type:"link",target:l=!1!==r&&r!==X&&null!=r?"mailto:"+$:$}),a=X,c=(t=(e=!1!==h&&h!==X&&null!=h)?!1!==(n=s["$[]"](2)["$start_with?"]('"'))&&n!==X&&null!=n?n:s["$[]"](2)["$include?"](","):h)===X||null==t||t.$$is_boolean&&1!=t?i.$sub_attributes(s["$[]"](2).$gsub("\\]","]")):(a=i.$parse_attributes(i.$sub_attributes(s["$[]"](2).$gsub("\\]","]")),[]),(t=a["$key?"]("id"))===X||null==t||t.$$is_boolean&&1!=t||(m=["id",a.$delete("id")],Q(o,"[]=",x.to_a(m)),m[E(m.length,1)]),!1!==r&&r!==X&&null!=r&&((t=a["$key?"](2))===X||null==t||t.$$is_boolean&&1!=t||(m=["target",l+"?subject="+x.const_get(F,"Helpers",!0,!0).$encode_uri(a["$[]"](2))],Q(o,"[]=",x.to_a(m)),l=m[E(m.length,1)],(t=a["$key?"](3))===X||null==t||t.$$is_boolean&&1!=t||(m=["target",l+"&amp;body="+x.const_get(F,"Helpers",!0,!0).$encode_uri(a["$[]"](3))],Q(o,"[]=",x.to_a(m)),l=m[E(m.length,1)]))),a["$[]"](1)),i.document.$register("links",l),(t=c["$end_with?"]("^"))===X||null==t||t.$$is_boolean&&1!=t||(c=c.$chop(),!1!==a&&a!==X&&null!=a?!(t="window")!==(n=(e=a)["$[]"](t))&&n!==X&&null!=n||e["$[]="](t,"_blank"):a=Z(["window"],{window:"_blank"})),(t=c["$empty?"]())===X||null==t||t.$$is_boolean&&1!=t||(!1!==r&&r!==X&&null!=r?c=$:(c=(t=y["$key?"]("hide-uri-scheme"))===X||null==t||t.$$is_boolean&&1!=t?l:l.$sub(x.const_get(F,"UriSniffRx",!0,!0),""),!1!==a&&a!==X&&null!=a?(m=["role",(t=a["$key?"]("role"))===X||null==t||t.$$is_boolean&&1!=t?"bare":"bare "+a["$[]"]("role")],Q(a,"[]=",x.to_a(m)),m[E(m.length,1)]):a=Z(["role"],{role:"bare"}))),!1!==a&&a!==X&&null!=a&&(m=["attributes",a],Q(o,"[]=",x.to_a(m)),m[E(m.length,1)]),x.const_get(F,"Inline",!0,!0).$new(i,"anchor",c,o).$convert()):s["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=g,f.$$arity=0,f))),(e=v["$include?"]("@"))===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"EmailInlineMacroRx",!0,!0)],((i=function(){var t,e,n,$=i.$$s||this,r=X,o=X;return null==$.document&&($.document=X),null==tt["~"]&&(tt["~"]=X),o=(r=tt["~"])["$[]"](0),(t=e=r["$[]"](1))===X||null==t||t.$$is_boolean&&1!=t?(n="mailto:"+o,$.document.$register("links",n),x.const_get(F,"Inline",!0,!0).$new($,"anchor",o,Z(["type","target"],{type:"link",target:n})).$convert()):"\\"["$==="](e)?o["$[]"](et(1,-1,!1)):o}).$$s=g,i.$$arity=0,i))),(e=!1!==(n=b["$[]"]("macroish_short_form"))&&n!==X&&null!=n?v["$include?"]("footnote"):n)===X||null==e||e.$$is_boolean&&1!=e||(v=Q(v,"gsub",[x.const_get(F,"FootnoteInlineMacroRx",!0,!0)],((p=function(){var t,e,n,$=p.$$s||this,r=X,o=X,i=X,s=X,l=X,a=X,c=X;return null==$.document&&($.document=X),null==tt["~"]&&(tt["~"]=X),(t=(r=tt["~"])["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(r["$[]"](1)["$=="]("footnote")?(o=X,i=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(r["$[]"](2),!0))),!1),s=$.document.$counter("footnote-number"),$.document.$register("footnotes",x.const_get([x.const_get(F,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,o,i)),a=l=X):(e=r["$[]"](2).$split(",",2),t=x.to_ary(e),o=null==t[0]?X:t[0],i=null==t[1]?X:t[1],o=o.$strip(),(t=i["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?(i=$.$restore_passthroughs($.$sub_inline_xrefs($.$sub_inline_anchors($.$normalize_string(i,!0))),!1),s=$.document.$counter("footnote-number"),$.document.$register("footnotes",x.const_get([x.const_get(F,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(s,o,i)),l="ref",a=X):((t=c=Q($.document.$references()["$[]"]("footnotes"),"find",[],((n=function(t){return n.$$s,null==t&&(t=X),t.$id()["$=="](o)}).$$s=$,n.$$arity=1,n)))===X||null==t||t.$$is_boolean&&1!=t?(s=X,i=o):(s=c.$index(),i=c.$text()),a=o,o=X,l="xref")),x.const_get(F,"Inline",!0,!0).$new($,"footnote",i,Z(["attributes","id","target","type"],{attributes:Z(["index"],{index:s}),id:o,target:a,type:l})).$convert()):r["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=g,p.$$arity=0,p))),g.$sub_inline_xrefs(g.$sub_inline_anchors(v,b),b)):t},b.$$arity=1),x.defn(q,"$sub_inline_anchors",m=function(t,e){var n,$,r,o,i,s;return null==e&&(e=X),(n=!1!==($=!1!==(r=e["$!"]())&&r!==X&&null!=r?r:e["$[]"]("square_bracket"))&&$!==X&&null!=$?t["$include?"]("[[["):$)===X||null==n||n.$$is_boolean&&1!=n||(t=Q(t,"gsub",[x.const_get(F,"InlineBiblioAnchorRx",!0,!0)],((o=function(){var t,e,n,$=o.$$s||this,r=X;return null==tt["~"]&&(tt["~"]=X),(t=(r=tt["~"])["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?(e=n=r["$[]"](1),x.const_get(F,"Inline",!0,!0).$new($,"anchor",n,Z(["type","target"],{type:"bibref",target:e})).$convert()):r["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=this,o.$$arity=0,o))),(n=!1!==($=!1!==(r=!1!==(i=e["$!"]())&&i!==X&&null!=i?i:e["$[]"]("square_bracket"))&&r!==X&&null!=r?t["$include?"]("[["):r)&&$!==X&&null!=$?$:!1!==(r=!1!==(i=e["$!"]())&&i!==X&&null!=i?i:e["$[]"]("macroish"))&&r!==X&&null!=r?t["$include?"]("anchor:"):r)===X||null==n||n.$$is_boolean&&1!=n||(t=Q(t,"gsub",[x.const_get(F,"InlineAnchorRx",!0,!0)],((s=function(){var t,e,n,$,r=s.$$s||this,o=X,i=X;return null==tt["~"]&&(tt["~"]=X),(t=(o=tt["~"])["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?((t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||(o["$[]"](1)["$=="]("")&&(i=[1,X],Q(o,"[]=",x.to_a(i)),i[E(i.length,1)]),o["$[]"](2)["$=="]("")&&(i=[2,X],Q(o,"[]=",x.to_a(i)),i[E(i.length,1)]),o["$[]"](4)["$=="]("")&&(i=[4,X],Q(o,"[]=",x.to_a(i)),i[E(i.length,1)])),n=!1!==(t=o["$[]"](1))&&t!==X&&null!=t?t:o["$[]"](3),$=!1!==(t=!1!==(e=o["$[]"](2))&&e!==X&&null!=e?e:o["$[]"](4))&&t!==X&&null!=t?t:"["+n+"]",x.const_get(F,"Inline",!0,!0).$new(r,"anchor",$,Z(["type","target"],{type:"ref",target:n})).$convert()):o["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=this,s.$$arity=0,s))),t},m.$$arity=-2),x.defn(q,"$sub_inline_xrefs",y=function(t,e){var n,$,r,p;return null==e&&(e=X),(n=!1!==($=!1!==(r=e["$!"]())&&r!==X&&null!=r?r:e["$[]"]("macroish"))&&$!==X&&null!=$?$:t["$include?"]("&lt;&lt;"))===X||null==n||n.$$is_boolean&&1!=n||(t=Q(t,"gsub",[x.const_get(F,"XrefInlineMacroRx",!0,!0)],((p=function(){var t,e,n,$,r,o=p.$$s||this,i=X,s=X,l=X,a=X,c=X,u=X,_=X,d=X,f=X;return null==o.document&&(o.document=X),null==tt["~"]&&(tt["~"]=X),i=tt["~"],(t=i["$[]"](0)["$start_with?"]("\\"))===X||null==t||t.$$is_boolean&&1!=t?((t=x.const_get([x.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===X||null==t||t.$$is_boolean&&1!=t||i["$[]"](1)["$=="]("")&&(s=[1,X],Q(i,"[]=",x.to_a(s)),s[E(s.length,1)]),(t=i["$[]"](1))===X||null==t||t.$$is_boolean&&1!=t?(l=i["$[]"](2),((t=i["$[]"](3)["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t)&&(a=i["$[]"](3))):(e=Q(i["$[]"](1).$split(",",2),"map",[],((n=function(t){return n.$$s,null==t&&(t=X),t.$strip()}).$$s=o,n.$$arity=1,n)),l=null==(t=x.to_ary(e))[0]?X:t[0],a=null==t[1]?X:t[1],e=l["$start_with?"]('"'),(t=!1!==e&&e!==X&&null!=e?l["$end_with?"]('"'):e)===X||null==t||t.$$is_boolean&&1!=t||(l=l["$[]"](1,E(l.$length(),2))),a=(t=a["$nil_or_empty?"]())===X||null==t||t.$$is_boolean&&1!=t?(e=a["$start_with?"]('"'),(t=!1!==e&&e!==X&&null!=e?a["$end_with?"]('"'):e)===X||null==t||t.$$is_boolean&&1!=t?a:a["$[]"](1,E(a.$length(),2))):X),(t=l["$include?"]("#"))===X||null==t||t.$$is_boolean&&1!=t?(c=X,u=l):(e=l.$split("#"),t=x.to_ary(e),c=null==t[0]?X:t[0],u=null==t[1]?X:t[1]),!1!==c&&c!==X&&null!=c?(c=x.const_get(F,"Helpers",!0,!0).$rootname(c),(t=!1!==(e=o.document.$attributes()["$[]"]("docname")["$=="](c))&&e!==X&&null!=e?e:o.document.$references()["$[]"]("includes")["$include?"](c))===X||null==t||t.$$is_boolean&&1!=t?(_=!1!==u&&u!==X&&null!=u?c+"#"+u:c,c=""+o.document.$attributes()["$[]"]("relfileprefix")+c+o.document.$attributes().$fetch("outfilesuffix",".html"),d=!1!==u&&u!==X&&null!=u?c+"#"+u:c):(c=X,d="#"+(_=u))):($=o.document.$references()["$[]"]("ids")["$key?"](u)["$!"](),e=!1!==$&&$!==X&&null!=$?!1!==(r=u["$include?"](" "))&&r!==X&&null!=r?r:u.$downcase()["$!="](u):$,(t=!1!==e&&e!==X&&null!=e?f=($=x.const_get([x.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0))===X||null==$||$.$$is_boolean&&1!=$?o.document.$references()["$[]"]("ids").$index(u):o.document.$references()["$[]"]("ids").$key(u):e)===X||null==t||t.$$is_boolean&&1!=t||(u=f),d="#"+(_=u)),x.const_get(F,"Inline",!0,!0).$new(o,"anchor",a,Z(["type","target","attributes"],{type:"xref",target:d,attributes:Z(["path","fragment","refid"],{path:c,fragment:u,refid:_})})).$convert()):i["$[]"](0)["$[]"](et(1,-1,!1))}).$$s=this,p.$$arity=0,p))),t},y.$$arity=-2),x.defn(q,"$sub_callouts",v=function(t){var e,n,$,r=this;return $=(e=r["$attr?"]("line-comment"))===X||null==e||e.$$is_boolean&&1!=e?x.const_get(F,"CalloutSourceRx",!0,!0):new RegExp("(?:"+x.const_get([x.Object.$$scope],"Regexp",!0,!0).$escape(r.$attr("line-comment"))+" )?"+x.const_get(F,"CalloutSourceRxt",!0,!0)),Q(t,"gsub",[$],((n=function(){var t=n.$$s||this,e=X;return null==t.document&&(t.document=X),null==tt["~"]&&(tt["~"]=X),(e=tt["~"])["$[]"](1)["$=="]("\\")?e["$[]"](0).$sub("\\",""):x.const_get(F,"Inline",!0,!0).$new(t,"callout",e["$[]"](3),Z(["id"],{id:t.document.$callouts().$read_next_id()})).$convert()}).$$s=r,n.$$arity=0,n))},v.$$arity=1),x.defn(q,"$sub_post_replacements",w=function(t){var e,n,$,r,o,i,s=X,l=X;return null==this.document&&(this.document=X),null==this.attributes&&(this.attributes=X),(e=!1!==(n=this.document.$attributes()["$key?"]("hardbreaks"))&&n!==X&&null!=n?n:this.attributes["$key?"]("hardbreaks-option"))===X||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=t["$include?"](x.const_get(F,"PLUS",!0,!0)))&&n!==X&&null!=n?t["$include?"](x.const_get(F,"LINE_BREAK",!0,!0)):n)===X||null==e||e.$$is_boolean&&1!=e?t:Q(t,"gsub",[x.const_get(F,"LineBreakRx",!0,!0)],((r=function(){var t,e=r.$$s||this;return x.const_get(F,"Inline",!0,!0).$new(e,"break",(t=tt["~"])===X?X:t["$[]"](1),Z(["type"],{type:"line"})).$convert()}).$$s=this,r.$$arity=0,r)):(s=t.$split(x.const_get(F,"EOL",!0,!0),-1),o=s.$size(),i=2,(e="number"==typeof o&&"number"==typeof i?o<i:o["$<"](i))===X||null==e||e.$$is_boolean&&1!=e?(l=s.$pop(),O(Q(s,"map",[],($=function(t){var e,n=$.$$s||this;return null==t&&(t=X),x.const_get(F,"Inline",!0,!0).$new(n,"break",(e=t["$end_with?"](x.const_get(F,"LINE_BREAK",!0,!0)))===X||null==e||e.$$is_boolean&&1!=e?t:t["$[]"](0,E(t.$length(),2)),Z(["type"],{type:"line"})).$convert()},$.$$s=this,$.$$arity=1,$))["$<<"](l),x.const_get(F,"EOL",!0,!0))):t)},w.$$arity=1),x.defn(q,"$convert_quoted_text",A=function(t,e,n){var $,r=X,o=X,i=X,s=X;if(r=X,($=t["$[]"](0)["$start_with?"]("\\"))!==X&&null!=$&&(!$.$$is_boolean||1==$)){if(($=n["$=="]("constrained")?(o=t["$[]"](2))["$nil_or_empty?"]()["$!"]():n["$=="]("constrained"))===X||null==$||$.$$is_boolean&&1!=$)return t["$[]"](0)["$[]"](et(1,-1,!1));r="["+o+"]"}return n["$=="]("constrained")?!1!==r&&r!==X&&null!=r?""+r+x.const_get(F,"Inline",!0,!0).$new(this,"quoted",t["$[]"](3),Z(["type"],{type:e})).$convert():(($=i=this.$parse_quoted_text_attributes(t["$[]"](2)))===X||null==$||$.$$is_boolean&&1!=$?s=X:(s=i.$delete("id"),e["$=="]("mark")&&(e="unquoted")),""+t["$[]"](1)+x.const_get(F,"Inline",!0,!0).$new(this,"quoted",t["$[]"](3),Z(["type","id","attributes"],{type:e,id:s,attributes:i})).$convert()):(($=i=this.$parse_quoted_text_attributes(t["$[]"](1)))===X||null==$||$.$$is_boolean&&1!=$?s=X:(s=i.$delete("id"),e["$=="]("mark")&&(e="unquoted")),x.const_get(F,"Inline",!0,!0).$new(this,"quoted",t["$[]"](2),Z(["type","id","attributes"],{type:e,id:s,attributes:i})).$convert())},A.$$arity=3),x.defn(q,"$parse_quoted_text_attributes",S=function(t){var e,n,$=X,r=X,o=X,i=X,s=X,l=X;return!1===t||t===X||null==t?X:(e=t["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?((e=t["$include?"]("{"))===X||null==e||e.$$is_boolean&&1!=e||(t=this.$sub_attributes(t)),t=t.$strip(),(e=t["$include?"](","))===X||null==e||e.$$is_boolean&&1!=e||(n=t.$split(",",2),t=null==(e=x.to_ary(n))[0]?X:e[0],null==e[1]||e[1]),(e=t["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?(n=t["$start_with?"](".","#"),(e=!1!==n&&n!==X&&null!=n?x.const_get(F,"Compliance",!0,!0).$shorthand_property_syntax():n)===X||null==e||e.$$is_boolean&&1!=e?Z(["role"],{role:t}):($=t.$split("#",2),(e=p($.$size(),1))===X||null==e||e.$$is_boolean&&1!=e?(r=X,o=[]):(n=$["$[]"](1).$split("."),r=null==(e=x.to_ary(n))[0]?X:e[0],o=V.call(e,1)),i=(e=$["$[]"](0)["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?$["$[]"](0).$split("."):[],(e=p(i.$size(),1))===X||null==e||e.$$is_boolean&&1!=e||i.$shift(),(e=p(o.$size(),0))===X||null==e||e.$$is_boolean&&1!=e||i.$concat(o),s=Z([],{}),!1!==r&&r!==X&&null!=r&&(l=["id",r],Q(s,"[]=",x.to_a(l)),l[E(l.length,1)]),((e=i["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e)&&(l=["role",O(i," ")],Q(s,"[]=",x.to_a(l)),l[E(l.length,1)]),s)):Z([],{})):Z([],{})},S.$$arity=1),x.defn(q,"$parse_attributes",R=function(t,e,n){var $,r,o=X;return null==this.document&&(this.document=X),null==e&&(e=["role"]),null==n&&(n=Z([],{})),!1===t||t===X||null==t?X:($=t["$empty?"]())===X||null==$||$.$$is_boolean&&1!=$?(($=n["$[]"]("sub_input"))===X||null==$||$.$$is_boolean&&1!=$||(t=this.document.$sub_attributes(t)),($=n["$[]"]("unescape_input"))===X||null==$||$.$$is_boolean&&1!=$||(t=this.$unescape_bracketed_text(t)),o=X,($=n.$fetch("sub_result",!0))===X||null==$||$.$$is_boolean&&1!=$||(o=this),($=r=n["$[]"]("into"))===X||null==$||$.$$is_boolean&&1!=$?x.const_get(F,"AttributeList",!0,!0).$new(t,o).$parse(e):x.const_get(F,"AttributeList",!0,!0).$new(t,o).$parse_into(r,e)):Z([],{})},R.$$arity=-2),x.defn(q,"$unescape_bracketed_text",M=function(t){var e;return(e=t["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?t.$strip().$tr(x.const_get(F,"EOL",!0,!0)," ").$gsub("\\]","]"):t},M.$$arity=1),x.defn(q,"$normalize_string",T=function(t,e){var n;return null==e&&(e=!1),(n=t["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n?!1!==e&&e!==X&&null!=e?this.$unescape_brackets(t.$strip().$tr(x.const_get(F,"EOL",!0,!0)," ")):t.$strip().$tr(x.const_get(F,"EOL",!0,!0)," "):t},T.$$arity=-2),x.defn(q,"$unescape_brackets",I=function(t){var e;return(e=t["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?t.$gsub("\\]","]"):t},I.$$arity=1),x.defn(q,"$split_simple_csv",C=function(t){var e,n,$,r=X,o=X,i=X;return(e=t["$empty?"]())===X||null==e||e.$$is_boolean&&1!=e?(e=t["$include?"]('"'))===X||null==e||e.$$is_boolean&&1!=e?r=Q(t.$split(","),"map",[],(($=function(t){return $.$$s,null==t&&(t=X),t.$strip()}).$$s=this,$.$$arity=1,$)):(r=[],i=!(o=[]),Q(t,"each_char",[],((n=function(t){n.$$s;var e=X;return null==t&&(t=X),","["$==="](e=t)?!1!==i&&i!==X&&null!=i?o["$<<"](t):(r["$<<"](o.$join().$strip()),o=[]):'"'["$==="](e)?i=i["$!"]():o["$<<"](t)}).$$s=this,n.$$arity=1,n)),r["$<<"](o.$join().$strip())):r=[],r},C.$$arity=1),x.defn(q,"$resolve_subs",N=function(t,c,u,e){var n,_,d,$,f=X,r=X;return null==c&&(c="block"),null==u&&(u=X),null==e&&(e=X),(n=t["$nil_or_empty?"]())===X||null==n||n.$$is_boolean&&1!=n?(f=X,d=x.const_get(F,"SubModifierSniffRx",!0,!0)["$match?"](t),(n=t["$include?"](" "))===X||null==n||n.$$is_boolean&&1!=n||(t=t.$delete(" ")),Q(t.$split(","),"each",[],((_=function(t){_.$$s;var e,n,$,r=X,o=X,i=X,s=X,l=X,a=X;return null==t&&(t=X),r=X,!1!==d&&d!==X&&null!=d&&((o=t.$chr())["$=="]("+")?(r="append",t=t["$[]"](et(1,-1,!1))):o["$=="]("-")?(r="remove",t=t["$[]"](et(1,-1,!1))):(e=t["$end_with?"]("+"))===X||null==e||e.$$is_boolean&&1!=e||(r="prepend",t=t.$chop())),t=t.$to_sym(),(e=(n=c["$=="]("inline"))?!1!==($=t["$=="]("verbatim"))&&$!==X&&null!=$?$:t["$=="]("v"):c["$=="]("inline"))===X||null==e||e.$$is_boolean&&1!=e?(e=x.const_get(F,"SUB_GROUPS",!0,!0)["$key?"](t))===X||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=($=c["$=="]("inline"))?t.$length()["$=="](1):c["$=="]("inline"))&&n!==X&&null!=n?x.const_get(F,"SUB_HINTS",!0,!0)["$key?"](t):n)===X||null==e||e.$$is_boolean&&1!=e?i=[t]:(s=x.const_get(F,"SUB_HINTS",!0,!0)["$[]"](t),i=(e=l=x.const_get(F,"SUB_GROUPS",!0,!0)["$[]"](s))===X||null==e||e.$$is_boolean&&1!=e?[s]:l):i=x.const_get(F,"SUB_GROUPS",!0,!0)["$[]"](t):i=x.const_get(F,"BASIC_SUBS",!0,!0),!1!==r&&r!==X&&null!=r?(!1!==(e=f)&&e!==X&&null!=e||(f=!1!==u&&u!==X&&null!=u?u.$dup():[]),"append"["$==="](a=r)?f=k(f,i):"prepend"["$==="](a)?f=k(i,f):"remove"["$==="](a)?f=E(f,i):X):(!1!==(e=f)&&e!==X&&null!=e||(f=[]),f=k(f,i))}).$$s=this,_.$$arity=1,_)),$=f["$&"](x.const_get(F,"SUB_OPTIONS",!0,!0)["$[]"](c)),((n=E(f,$)["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n)&&(r=E(f,$),this.$warn("asciidoctor: WARNING: invalid substitution type"+((n=p(r.$size(),1))===X||null==n||n.$$is_boolean&&1!=n?"":"s")+(!1!==e&&e!==X&&null!=e?" for ":X)+e+": "+O(r,", "))),$):[]},N.$$arity=-2),x.defn(q,"$resolve_block_subs",j=function(t,e,n){return this.$resolve_subs(t,"block",e,n)},j.$$arity=3),x.defn(q,"$resolve_pass_subs",L=function(t){return this.$resolve_subs(t,"inline",X,"passthrough macro")},L.$$arity=1),x.defn(q,"$highlight_source",z=function(t,e,l){var n,$,o,r,a,i=this,s=X,c=X,u=X,_=X,d=X,f=X,p=X,h=X,g=X,b=X,m=X,y=X,v=X,w=X;return null==i.document&&(i.document=X),null==i.passthroughs&&(i.passthroughs=X),null==l&&(l=X),s=!1!==(n=l)&&n!==X&&null!=n?n:l=i.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](s)?((n=!1!==($=c=x.const_get([x.Object.$$scope],"CodeRay",!0,!1)?"constant":X)&&$!==X&&null!=$?$:i.document.$attributes()["$[]"]("coderay-unavailable"))===X||null==n||n.$$is_boolean&&1!=n)&&((n=x.const_get(F,"Helpers",!0,!0).$require_library("coderay",!0,"warn")["$nil?"]())===X||null==n||n.$$is_boolean&&1!=n?c=!0:i.document.$set_attr("coderay-unavailable")):"pygments"["$==="](s)?((n=!1!==($=c=x.const_get([x.Object.$$scope],"Pygments",!0,!1)?"constant":X)&&$!==X&&null!=$?$:i.document.$attributes()["$[]"]("pygments-unavailable"))===X||null==n||n.$$is_boolean&&1!=n)&&((n=x.const_get(F,"Helpers",!0,!0).$require_library("pygments","pygments.rb","warn")["$nil?"]())===X||null==n||n.$$is_boolean&&1!=n?c=!0:i.document.$set_attr("pygments-unavailable")):c=!1,!1===c||c===X||null==c?i.$sub_source(t,e):(u=0,(_=!1)!==e&&e!==X&&null!=e?(d=Z([],{}),f=-1,p=(n=i["$attr?"]("line-comment"))===X||null==n||n.$$is_boolean&&1!=n?x.const_get(F,"CalloutExtractRx",!0,!0):new RegExp("(?:"+x.const_get([x.Object.$$scope],"Regexp",!0,!0).$escape(i.$attr("line-comment"))+" )?"+x.const_get(F,"CalloutExtractRxt",!0,!0)),t=O(Q(t.$split(x.const_get(F,"EOL",!0,!0),-1),"map",[],((o=function(t){var r,e=o.$$s||this;return null==t&&(t=X),u=k(u,1),Q(t,"gsub",[p],((r=function(){r.$$s;var t,e,n,$=X;return null==tt["~"]&&(tt["~"]=X),($=tt["~"])["$[]"](1)["$=="]("\\")?$["$[]"](0).$sub("\\",""):((t=u,e=d,!1!==(n=e["$[]"](t))&&n!==X&&null!=n?n:e["$[]="](t,[]))["$<<"]($["$[]"](3)),f=u,X)}).$$s=e,r.$$arity=0,r))}).$$s=i,o.$$arity=1,o)),x.const_get(F,"EOL",!0,!0)),_=f["$=="](u),(n=d["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n||(d=X)):d=X,g=h=X,"coderay"["$==="](s=l)?((n=h=($=i["$attr?"]("linenums"))===X||null==$||$.$$is_boolean&&1!=$?X:(!1!==($=i.document.$attributes()["$[]"]("coderay-linenums-mode"))&&$!==X&&null!=$?$:"table").$to_sym())===X||null==n||n.$$is_boolean&&1!=n||(n=i["$attr?"]("highlight",X,!1))===X||null==n||n.$$is_boolean&&1!=n||(g=i.$resolve_highlight_lines(i.$attr("highlight",X,!1))),b=x.const_get([x.const_get([x.Object.$$scope],"CodeRay",!0,!0).$$scope],"Duo",!0,!0)["$[]"](i.$attr("language","text",!1).$to_sym(),"html",Z(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(n=i.document.$attributes()["$[]"]("coderay-css"))&&n!==X&&null!=n?n:"class").$to_sym(),line_numbers:h,line_number_anchors:!1,highlight_lines:g,bold_every:!1})).$highlight(t)):"pygments"["$==="](s)&&(m=!1!==(n=x.const_get([x.const_get([x.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0).$find_by_alias(i.$attr("language","text",!1)))&&n!==X&&null!=n?n:x.const_get([x.const_get([x.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0).$find_by_mimetype("text/plain"),y=Z(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),m.$name()["$=="]("PHP")&&(v=["startinline",i["$option?"]("mixed")["$!"]()],Q(y,"[]=",x.to_a(v)),v[E(v.length,1)]),(!1!==(n=i.document.$attributes()["$[]"]("pygments-css"))&&n!==X&&null!=n?n:"class")["$=="]("class")||(v=["noclasses",!0],Q(y,"[]=",x.to_a(v)),v[E(v.length,1)],v=["style",!1!==(n=i.document.$attributes()["$[]"]("pygments-style"))&&n!==X&&null!=n?n:x.const_get([x.const_get(F,"Stylesheets",!0,!0).$$scope],"DEFAULT_PYGMENTS_STYLE",!0,!0)],Q(y,"[]=",x.to_a(v)),v[E(v.length,1)]),(n=i["$attr?"]("highlight",X,!1))===X||null==n||n.$$is_boolean&&1!=n||((n=(g=i.$resolve_highlight_lines(i.$attr("highlight",X,!1)))["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n)&&(v=["hl_lines",O(g," ")],Q(y,"[]=",x.to_a(v)),v[E(v.length,1)]),$=i["$attr?"]("linenums"),(n=!1!==$&&$!==X&&null!=$?(v=["linenos",!1!==(r=i.document.$attributes()["$[]"]("pygments-linenums-mode"))&&r!==X&&null!=r?r:"table"],Q(y,"[]=",x.to_a(v)),v[E(v.length,1)])["$=="]("table"):$)===X||null==n||n.$$is_boolean&&1!=n?(n=x.const_get(F,"PygmentsWrapperPreRx",!0,!0)["$=~"](b=m.$highlight(t,Z(["options"],{options:y}))))===X||null==n||n.$$is_boolean&&1!=n||(b=(n=tt["~"])===X?X:n["$[]"](1)):(h="table",b=m.$highlight(t,Z(["options"],{options:y})).$sub(x.const_get(F,"PygmentsWrapperDivRx",!0,!0),"\\1").$gsub(x.const_get(F,"PygmentsWrapperPreRx",!0,!0),"\\1"))),((n=i.passthroughs["$empty?"]())===X||null==n||n.$$is_boolean&&1!=n)&&(b=b.$gsub(x.const_get(F,"PASS_MATCH_HI",!0,!0),x.const_get(F,"PASS_START",!0,!0)+"\\1"+x.const_get(F,"PASS_END",!0,!0))),(n=($=!1!==e&&e!==X&&null!=e)?d:e)===X||null==n||n.$$is_boolean&&1!=n?b:(u=0,w=h["$!="]("table"),O(Q(b.$split(x.const_get(F,"EOL",!0,!0),-1),"map",[],((a=function(t){var e,n,$,r=a.$$s||this,o=X,i=X,s=X;if(null==r.document&&(r.document=X),null==t&&(t=X),!1!==w&&w!==X&&null!=w);else{if((e=t["$include?"]('<td class="code">'))===X||null==e||e.$$is_boolean&&1!=e)return t;w=!0}return u=k(u,1),(e=o=d.$delete(u))===X||null==e||e.$$is_boolean&&1!=e?t:(i=X,(e=!1!==(n=!1!==_&&_!==X&&null!=_?d["$empty?"]():_)&&n!==X&&null!=n?h["$=="]("table"):n)===X||null==e||e.$$is_boolean&&1!=e||((e=(n=l["$=="]("coderay"))?s=t.$index("</pre>"):l["$=="]("coderay"))===X||null==e||e.$$is_boolean&&1!=e?(e=(n=l["$=="]("pygments"))?s=t["$start_with?"]("</td>"):l["$=="]("pygments"))===X||null==e||e.$$is_boolean&&1!=e||(t=(e=["",t])[0],i=e[1]):(t=(e=[t["$[]"](0,s),t["$[]"](x.Range.$new(s,-1,!1))])[0],i=e[1])),o.$size()["$=="](1)?""+t+x.const_get(F,"Inline",!0,!0).$new(r,"callout",o["$[]"](0),Z(["id"],{id:r.document.$callouts().$read_next_id()})).$convert()+i:""+t+O(Q(o,"map",[],(($=function(t){var e=$.$$s||this;return null==e.document&&(e.document=X),null==t&&(t=X),x.const_get(F,"Inline",!0,!0).$new(e,"callout",t,Z(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()}).$$s=r,$.$$arity=1,$))," ")+i)}).$$s=i,a.$$arity=1,a)),x.const_get(F,"EOL",!0,!0))))},z.$$arity=-3),x.defn(q,"$resolve_highlight_lines",P=function(t){var s,l=X;return l=[],Q(t.$delete(" ").$split(x.const_get(F,"DataDelimiterRx",!0,!0)),"map",[],((s=function(t){s.$$s;var e,n,$=X,r=X,o=X,i=X;return null==t&&(t=X),$=!1,(e=t["$start_with?"]("!"))===X||null==e||e.$$is_boolean&&1!=e||(t=t["$[]"](et(1,-1,!1)),$=!0),(e=t["$include?"]("-"))===X||null==e||e.$$is_boolean&&1!=e?!1!==$&&$!==X&&null!=$?l.$delete(t.$to_i()):l["$<<"](t.$to_i()):(n=t.$split("-",2),r=null==(e=x.to_ary(n))[0]?X:e[0],o=null==e[1]?X:e[1],i=x.Range.$new(r.$to_i(),o.$to_i(),!1).$to_a(),!1!==$&&$!==X&&null!=$?l=E(l,i):l.$concat(i))}).$$s=this,s.$$arity=1,s)),l.$sort().$uniq()},P.$$arity=1),x.defn(q,"$sub_source",D=function(t,e){var n,$,r;return(n=!1!==($=!1!==(r=t["$include?"]("<"))&&r!==X&&null!=r?r:t["$include?"]("&"))&&$!==X&&null!=$?$:t["$include?"](">"))===X||null==n||n.$$is_boolean&&1!=n?!1!==e&&e!==X&&null!=e?this.$sub_callouts(t):t:!1!==e&&e!==X&&null!=e?this.$sub_callouts(this.$sub_specialchars(t)):this.$sub_specialchars(t)},D.$$arity=2),void x.defn(q,"$lock_in_subs",B=function(){var t,e,n,$,r,o=this,i=X,s=X,l=X,a=X,c=X;if(null==o.default_subs&&(o.default_subs=X),null==o.content_model&&(o.content_model=X),null==o.context&&(o.context=X),null==o.subs&&(o.subs=X),null==o.attributes&&(o.attributes=X),null==o.style&&(o.style=X),null==o.document&&(o.document=X),(t=i=o.default_subs)===X||null==t||t.$$is_boolean&&1!=t)if(s=o.content_model,"simple"["$==="](s))i=x.const_get(F,"NORMAL_SUBS",!0,!0);else if("verbatim"["$==="](s))i=(t=!1!==(e=o.context["$=="]("listing"))&&e!==X&&null!=e?e:(n=o.context["$=="]("literal"))?o["$option?"]("listparagraph")["$!"]():o.context["$=="]("literal"))===X||null==t||t.$$is_boolean&&1!=t?o.context["$=="]("verse")?x.const_get(F,"NORMAL_SUBS",!0,!0):x.const_get(F,"BASIC_SUBS",!0,!0):x.const_get(F,"VERBATIM_SUBS",!0,!0);else{if(!"raw"["$==="](s))return o.subs;i=o.context["$=="]("stem")?x.const_get(F,"BASIC_SUBS",!0,!0):x.const_get(F,"PASS_SUBS",!0,!0)}return o.subs=(t=l=o.attributes["$[]"]("subs"))===X||null==t||t.$$is_boolean&&1!=t?i.$dup():o.$resolve_block_subs(l,i,o.context),e=!1!==(n=!1!==($=!1!==(r=o.context["$=="]("listing")?o.style["$=="]("source"):o.context["$=="]("listing"))&&r!==X&&null!=r?o.attributes["$key?"]("language"):r)&&$!==X&&null!=$?o.document["$basebackend?"]("html"):$)&&n!==X&&null!=n?x.const_get(F,"SUB_HIGHLIGHT",!0,!0)["$include?"](o.document.$attributes()["$[]"]("source-highlighter")):n,(t=!1!==e&&e!==X&&null!=e?a=o.subs.$index("specialcharacters"):e)===X||null==t||t.$$is_boolean&&1!=t||(c=[a,"highlight"],Q(o.subs,"[]=",x.to_a(c)),c[E(c.length,1)]),o.subs},B.$$arity=0)},Opal.modules["asciidoctor/abstract_node"]=function(P){function D(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}P.top;var t,e,n,$,r,o=P,i=[P],U=P.nil,s=(P.breaker,P.slice,P.module),F=P.klass,G=P.hash2,H=P.send,Y=P.range;return P.add_stubs(["$include","$attr_reader","$attr_accessor","$==","$document","$to_s","$key?","$dup","$[]","$raise","$===","$attributes","$nil?","$[]=","$-","$update","$converter","$nil_or_empty?","$include?","$split","$delete","$empty?","$*","$attr?","$extname","$image_uri","$attr","$normalize_web_path","$<","$safe","$uriish?","$generate_data_uri_from_uri","$generate_data_uri","$normalize_system_path","$readable?","$warn","$respond_to?","$binread","$open","$read","$encode64","$require_library","$!","$content_type","$web_path","$new","$open_uri","$normalize_lines_from_string","$fetch","$read_asset","$!=","$is_root?","$join","$base_dir","$system_path"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=$=F(t,null,"AbstractNode",$),j=N.$$proto,L=N.$$scope,z=n.slice().concat(L);j.document=j.attributes=j.path_resolver=U,N.$include(P.const_get(z,"Substitutors",!0,!0)),N.$attr_reader("parent"),N.$attr_reader("document"),N.$attr_reader("context"),N.$attr_reader("node_name"),N.$attr_accessor("id"),N.$attr_reader("attributes"),P.defn(N,"$initialize",r=function(t,e,n){var $,r=this;return null==n&&(n=G([],{})),e["$=="]("document")?r.document=r:!1!==t&&t!==U&&null!=t?(r.parent=t,r.document=t.$document()):(r.parent=U,r.document=U),r.node_name=(r.context=e).$to_s(),r.attributes=($=n["$key?"]("attributes"))===U||null==$||$.$$is_boolean&&1!=$?G([],{}):n["$[]"]("attributes").$dup(),r.passthroughs=G([],{})},r.$$arity=-3),P.defn(N,"$parent=",o=function(t){return this.parent=t,this.document=t.$document(),U},o.$$arity=1),P.defn(N,"$inline?",i=function(){return this.$raise(P.const_get([P.Object.$$scope],"NotImplementedError",!0,!0))},i.$$arity=0),P.defn(N,"$block?",s=function(){return this.$raise(P.const_get([P.Object.$$scope],"NotImplementedError",!0,!0))},s.$$arity=0),P.defn(N,"$attr",l=function(t,e,n){var $,r;return null==e&&(e=U),null==n&&(n=!0),($=P.const_get([P.Object.$$scope],"Symbol",!0,!0)["$==="](t))===U||null==$||$.$$is_boolean&&1!=$||(t=t.$to_s()),this["$=="](this.document)&&(n=!1),!1!==n&&n!==U&&null!=n?!1!==($=!1!==(r=this.attributes["$[]"](t))&&r!==U&&null!=r?r:this.document.$attributes()["$[]"](t))&&$!==U&&null!=$?$:e:!1!==($=this.attributes["$[]"](t))&&$!==U&&null!=$?$:e},l.$$arity=-2),P.defn(N,"$attr?",a=function(t,e,n){var $;return null==e&&(e=U),null==n&&(n=!0),($=P.const_get([P.Object.$$scope],"Symbol",!0,!0)["$==="](t))===U||null==$||$.$$is_boolean&&1!=$||(t=t.$to_s()),this["$=="](this.document)&&(n=!1),($=e["$nil?"]())===U||null==$||$.$$is_boolean&&1!=$?!1!==n&&n!==U&&null!=n?e["$=="](!1!==($=this.attributes["$[]"](t))&&$!==U&&null!=$?$:this.document.$attributes()["$[]"](t)):e["$=="](this.attributes["$[]"](t)):!1!==($=this.attributes["$key?"](t))&&$!==U&&null!=$?$:!1!==n&&n!==U&&null!=n?this.document.$attributes()["$key?"](t):n},a.$$arity=-2),P.defn(N,"$set_attr",c=function(t,e,n){var $,r=U;return null==e&&(e=""),null==n&&(n=!0),!!(($=n["$=="](!1)?this.attributes["$key?"](t):n["$=="](!1))===U||null==$||$.$$is_boolean&&1!=$)&&(r=[t,e],H(this.attributes,"[]=",P.to_a(r)),r[D(r.length,1)],!0)},c.$$arity=-2),P.defn(N,"$set_option",u=function(t){var e,n=U;return n=(e=this.attributes["$key?"]("options"))===U||null==e||e.$$is_boolean&&1!=e?["options",t]:["options",this.attributes["$[]"]("options")+","+t],H(this.attributes,"[]=",P.to_a(n)),n[D(n.length,1)],n=[t+"-option",""],H(this.attributes,"[]=",P.to_a(n)),n[D(n.length,1)]},u.$$arity=1),P.defn(N,"$option?",_=function(t){return this.attributes["$key?"](t+"-option")},_.$$arity=1),P.defn(N,"$update_attributes",d=function(t){return this.attributes.$update(t),U},d.$$arity=1),P.defn(N,"$converter",f=function(){return this.document.$converter()},f.$$arity=0),P.defn(N,"$role?",p=function(t){var e;return null==t&&(t=U),!1!==t&&t!==U&&null!=t?t["$=="](!1!==(e=this.attributes["$[]"]("role"))&&e!==U&&null!=e?e:this.document.$attributes()["$[]"]("role")):!1!==(e=this.attributes["$key?"]("role"))&&e!==U&&null!=e?e:this.document.$attributes()["$key?"]("role")},p.$$arity=-1),P.defn(N,"$role",h=function(){var t;return!1!==(t=this.attributes["$[]"]("role"))&&t!==U&&null!=t?t:this.document.$attributes()["$[]"]("role")},h.$$arity=0),P.defn(N,"$has_role?",g=function(t){var e,n,$;return!!((e=($=!1!==(n=this.attributes["$[]"]("role"))&&n!==U&&null!=n?n:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())===U||null==e||e.$$is_boolean&&1!=e)&&(" "+$+" ")["$include?"](" "+t+" ")},g.$$arity=1),P.defn(N,"$roles",b=function(){var t,e,n=U;return(t=(n=!1!==(e=this.attributes["$[]"]("role"))&&e!==U&&null!=e?e:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())===U||null==t||t.$$is_boolean&&1!=t?n.$split():[]},b.$$arity=0),P.defn(N,"$add_role",m=function(t){var e,n,$=U;return(e=(n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())===U||null==e||e.$$is_boolean&&1!=e?!!((e=(" "+n+" ")["$include?"](" "+t+" "))===U||null==e||e.$$is_boolean&&1!=e)&&($=["role",n+" "+t],H(this.attributes,"[]=",P.to_a($)),$[D($.length,1)],!0):($=["role",t],H(this.attributes,"[]=",P.to_a($)),$[D($.length,1)],!0)},m.$$arity=1),P.defn(N,"$remove_role",y=function(t){var e,n=U,$=U;return!(!((e=(n=this.attributes["$[]"]("role"))["$nil_or_empty?"]())===U||null==e||e.$$is_boolean&&1!=e)||(e=(n=n.$split()).$delete(t))===U||null==e||e.$$is_boolean&&1!=e||((e=n["$empty?"]())===U||null==e||e.$$is_boolean&&1!=e?($=["role",B(n," ")],H(this.attributes,"[]=",P.to_a($)),$[D($.length,1)]):this.attributes.$delete("role"),0))},y.$$arity=1),P.defn(N,"$reftext?",v=function(){var t;return!1!==(t=this.attributes["$key?"]("reftext"))&&t!==U&&null!=t?t:this.document.$attributes()["$key?"]("reftext")},v.$$arity=0),P.defn(N,"$reftext",w=function(){var t;return!1!==(t=this.attributes["$[]"]("reftext"))&&t!==U&&null!=t?t:this.document.$attributes()["$[]"]("reftext")},w.$$arity=0),P.defn(N,"$icon_uri",x=function(t){var e,n=U;return(e=this["$attr?"]("icon"))===U||null==e||e.$$is_boolean&&1!=e?this.$image_uri(t+"."+this.document.$attr("icontype","png"),"iconsdir"):(e=P.const_get([P.Object.$$scope],"File",!0,!0).$extname(n=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===U||null==e||e.$$is_boolean&&1!=e?n:n+"."+this.document.$attr("icontype","png")},x.$$arity=1),P.defn(N,"$media_uri",k=function(t,e){var n=this;return null==e&&(e="imagesdir"),n.$normalize_web_path(t,!1!==e&&e!==U&&null!=e?n.document.$attr(e):U)},k.$$arity=-2),P.defn(N,"$image_uri",O=function(t,e){var n,$,r,o,i=U,s=U;return null==e&&(e="imagesdir"),(n=!1!==($=q((i=this.document).$safe(),P.const_get([P.const_get(z,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))&&$!==U&&null!=$?i["$attr?"]("data-uri"):$)===U||null==n||n.$$is_boolean&&1!=n?!1!==e&&e!==U&&null!=e?this.$normalize_web_path(t,i.$attr(e)):this.$normalize_web_path(t):(n=!1!==($=P.const_get(z,"Helpers",!0,!0)["$uriish?"](t))&&$!==U&&null!=$?$:!1!==(r=!1!==(o=!1!==e&&e!==U&&null!=e?s=i.$attr(e):e)&&o!==U&&null!=o?P.const_get(z,"Helpers",!0,!0)["$uriish?"](s):o)&&r!==U&&null!=r?t=this.$normalize_web_path(t,s,!1):r)===U||null==n||n.$$is_boolean&&1!=n?this.$generate_data_uri(t,e):(n=i["$attr?"]("allow-uri-read"))===U||null==n||n.$$is_boolean&&1!=n?t:this.$generate_data_uri_from_uri(t,i["$attr?"]("cache-uri"))},O.$$arity=-2),P.defn(N,"$generate_data_uri",E=function(t,e){var n,$,r,o=U,i=U,s=U;return null==e&&(e=U),r=(o=P.const_get([P.Object.$$scope],"File",!0,!0).$extname(t))["$=="](".svg")?"image/svg+xml":"image/"+o["$[]"](Y(1,-1,!1)),i=!1!==e&&e!==U&&null!=e?this.$normalize_system_path(t,this.document.$attr(e),U,G(["target_name"],{target_name:"image"})):this.$normalize_system_path(t),(n=P.const_get([P.Object.$$scope],"File",!0,!0)["$readable?"](i))===U||null==n||n.$$is_boolean&&1!=n?(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+i),"data:"+r+";base64,"):(s=U,s=(n=P.const_get([P.Object.$$scope],"IO",!0,!0)["$respond_to?"]("binread"))===U||null==n||n.$$is_boolean&&1!=n?H(P.const_get([P.Object.$$scope],"File",!0,!0),"open",[i,"rb"],(($=function(t){return $.$$s,null==t&&(t=U),t.$read()}).$$s=this,$.$$arity=1,$)):P.const_get([P.Object.$$scope],"IO",!0,!0).$binread(i),"data:"+r+";base64,"+P.const_get([P.Object.$$scope],"Base64",!0,!0).$encode64(s).$delete(P.const_get(z,"EOL",!0,!0)))},E.$$arity=-2),P.defn(N,"$generate_data_uri_from_uri",A=function(e,t){var n,$,r=this,o=U,i=U;null==t&&(t=!1),!1!==t&&t!==U&&null!=t?P.const_get(z,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached"):(n=P.const_get([P.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===U||null==n||n.$$is_boolean&&1!=n||P.const_get([P.Object.$$scope],"OpenURI",!0,!0);try{return o=U,i=H(r,"open",[e,"rb"],(($=function(t){return $.$$s,null==t&&(t=U),o=t.$content_type(),t.$read()}).$$s=r,$.$$arity=1,$)),"data:"+o+";base64,"+P.const_get([P.Object.$$scope],"Base64",!0,!0).$encode64(i).$delete(P.const_get(z,"EOL",!0,!0))}catch(t){if(!P.rescue(t,[P.const_get(z,"StandardError",!0,!0)]))throw t;try{return r.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+e),e}finally{P.pop_exception()}}},A.$$arity=-2),P.defn(N,"$read_contents",S=function(e,n){var $,t,r,o,i,s=this,l=U,a=U,c=U;if(null==n&&(n=G([],{})),l=s.document,($=!1!==(t=P.const_get(z,"Helpers",!0,!0)["$uriish?"](e))&&t!==U&&null!=t?t:!1!==(r=!1!==(o=a=n["$[]"]("start"))&&o!==U&&null!=o?P.const_get(z,"Helpers",!0,!0)["$uriish?"](a):o)&&r!==U&&null!=r?e=(!1!==(o=s.path_resolver)&&o!==U&&null!=o?o:s.path_resolver=P.const_get(z,"PathResolver",!0,!0).$new()).$web_path(e,a):r)===U||null==$||$.$$is_boolean&&1!=$)e=s.$normalize_system_path(e,n["$[]"]("start"),U,G(["target_name"],{target_name:!1!==($=n["$[]"]("label"))&&$!==U&&null!=$?$:"asset"})),c=s.$read_asset(e,G(["normalize","warn_on_failure"],{normalize:n["$[]"]("normalize"),warn_on_failure:n.$fetch("warn_on_failure",!0)}));else if(($=l["$attr?"]("allow-uri-read"))===U||null==$||$.$$is_boolean&&1!=$)($=n.$fetch("warn_on_failure",!0))===U||null==$||$.$$is_boolean&&1!=$||s.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==($=n["$[]"]("label"))&&$!==U&&null!=$?$:"asset")+" at URI: "+e+" (allow-uri-read attribute not enabled)"),c=U;else{($=l["$attr?"]("cache-uri"))===U||null==$||$.$$is_boolean&&1!=$||P.const_get(z,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached");try{c=H(P.const_get([P.Object.$$scope],"OpenURI",!0,!0),"open_uri",[e],((i=function(t){return i.$$s,null==t&&(t=U),t.$read()}).$$s=s,i.$$arity=1,i)),($=n["$[]"]("normalize"))===U||null==$||$.$$is_boolean&&1!=$||(c=B(P.const_get(z,"Helpers",!0,!0).$normalize_lines_from_string(c),P.const_get(z,"EOL",!0,!0)))}catch(t){if(!P.rescue(t,[P.const_get(z,"StandardError",!0,!0)]))throw t;try{($=n.$fetch("warn_on_failure",!0))===U||null==$||$.$$is_boolean&&1!=$||s.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==($=n["$[]"]("label"))&&$!==U&&null!=$?$:"asset")+" at URI: "+e),c=U}finally{P.pop_exception()}}}return c},S.$$arity=-2),P.defn(N,"$read_asset",R=function(t,e){var n;return null==e&&(e=G([],{})),((n=P.const_get([P.Object.$$scope],"Hash",!0,!0)["$==="](e))===U||null==n||n.$$is_boolean&&1!=n)&&(e=G(["warn_on_failure"],{warn_on_failure:e["$!="](!1)})),(n=P.const_get([P.Object.$$scope],"File",!0,!0)["$readable?"](t))===U||null==n||n.$$is_boolean&&1!=n?((n=e["$[]"]("warn_on_failure"))===U||null==n||n.$$is_boolean&&1!=n||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+t),U):(n=e["$[]"]("normalize"))===U||null==n||n.$$is_boolean&&1!=n?P.const_get([P.Object.$$scope],"IO",!0,!0).$read(t):B(P.const_get(z,"Helpers",!0,!0).$normalize_lines_from_string(P.const_get([P.Object.$$scope],"IO",!0,!0).$read(t)),P.const_get(z,"EOL",!0,!0))},R.$$arity=-2),P.defn(N,"$normalize_web_path",M=function(t,e,n){var $;return null==e&&(e=U),null==n&&(n=!0),($=!1!==n&&n!==U&&null!=n?P.const_get(z,"Helpers",!0,!0)["$uriish?"](t):n)===U||null==$||$.$$is_boolean&&1!=$?(!1!==($=this.path_resolver)&&$!==U&&null!=$?$:this.path_resolver=P.const_get(z,"PathResolver",!0,!0).$new()).$web_path(t,e):t},M.$$arity=-2),P.defn(N,"$normalize_system_path",T=function(t,e,n,$){var r,o=U,i=U;return null==e&&(e=U),null==n&&(n=U),null==$&&($=G([],{})),o=!1!==(r=this.path_resolver)&&r!==U&&null!=r?r:this.path_resolver=P.const_get(z,"PathResolver",!0,!0).$new(),(r=q((i=this.document).$safe(),P.const_get([P.const_get(z,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===U||null==r||r.$$is_boolean&&1!=r?(!1!==e&&e!==U&&null!=e||(e=i.$base_dir()),!1!==n&&n!==U&&null!=n||(n=i.$base_dir())):!1!==e&&e!==U&&null!=e?((r=o["$is_root?"](e))===U||null==r||r.$$is_boolean&&1!=r)&&(e=P.const_get([P.Object.$$scope],"File",!0,!0).$join(i.$base_dir(),e)):e=i.$base_dir(),o.$system_path(t,e,n,$)},T.$$arity=-2),P.defn(N,"$normalize_asset_path",I=function(t,e,n){return null==e&&(e="path"),null==n&&(n=!0),this.$normalize_system_path(t,this.document.$base_dir(),U,G(["target_name","recover"],{target_name:e,recover:n}))},I.$$arity=-2),P.defn(N,"$is_uri?",C=function(t){return P.const_get(z,"Helpers",!0,!0)["$uriish?"](t)},C.$$arity=1)}($.base,0,r)},Opal.modules["asciidoctor/abstract_block"]=function(T){function I(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function C(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}T.top;var t,e,n,$,r,o=T,i=[T],N=T.nil,s=(T.breaker,T.slice,T.module),j=T.klass,L=T.send,z=T.hash2;return T.add_stubs(["$attr_accessor","$attr_reader","$==","$!=","$level","$to_s","$playback_attributes","$convert","$converter","$*","$map","$file","$lineno","$include?","$!","$nil_or_empty?","$apply_title_subs","$title","$empty?","$<<","$select","$context","$>","$[]","$has_role?","$header?","$concat","$find_by","$to_proc","$each","$flatten","$delete","$title?","$attributes","$counter_increment","$index=","$-","$+","$sectname","$counter","$numbered","$number=","$attr","$caption=","$special","$doctype","$assign_index","$reindex_sections"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var a,r,o,i,s,l,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A=$=j(t,e,"AbstractBlock",$),S=A.$$proto,R=A.$$scope,M=n.slice().concat(R);S.document=S.attributes=S.blocks=S.source_location=S.subs=S.title=S.title_converted=S.title_=S.caption=S.next_section_index=S.context=S.style=S.id=S.header=S.next_section_number=N,A.$attr_accessor("content_model"),A.$attr_reader("subs"),A.$attr_reader("blocks"),A.$attr_accessor("level"),A.$attr_accessor("style"),A.$attr_accessor("caption"),A.$attr_accessor("source_location"),T.defn(A,"$initialize",a=function(t,e,n){var $,r,o=this,i=a.$$p,s=N,l=N;for(null==n&&(n=z([],{})),i&&(a.$$p=null),l=0,r=arguments.length,s=new Array(r);l<r;l++)s[l]=arguments[l];return L(o,T.find_super_dispatcher(o,"initialize",a,!1),s,i),o.content_model="compound",o.subs=[],o.default_subs=N,o.blocks=[],o.id=N,o.title=N,o.title_converted=N,o.caption=N,o.style=N,e["$=="]("document")?o.level=0:($=!1!==t&&t!==N&&null!=t?e["$!="]("section"):t)===N||null==$||$.$$is_boolean&&1!=$?o.level=N:o.level=t.$level(),o.next_section_index=0,o.next_section_number=1,o.source_location=N},a.$$arity=-3),T.defn(A,"$block?",r=function(){return!0},r.$$arity=0),T.defn(A,"$inline?",o=function(){return!1},o.$$arity=0),T.defn(A,"$context=",i=function(t){return this.context=t,this.node_name=t.$to_s()},i.$$arity=1),T.defn(A,"$convert",s=function(){return this.document.$playback_attributes(this.attributes),this.$converter().$convert(this)},s.$$arity=0),T.alias(A,"render","convert"),T.defn(A,"$content",l=function(){var e,t,n;return t=L(this.blocks,"map",[],((e=function(t){return e.$$s,null==t&&(t=N),t.$convert()}).$$s=this,e.$$arity=1,e)),n=T.const_get(M,"EOL",!0,!0),"number"==typeof t&&"number"==typeof n?t*n:t["$*"](n)},l.$$arity=0),T.defn(A,"$file",c=function(){var t;return(t=this.source_location)===N||null==t||t.$$is_boolean&&1!=t?N:this.source_location.$file()},c.$$arity=0),T.defn(A,"$lineno",u=function(){var t;return(t=this.source_location)===N||null==t||t.$$is_boolean&&1!=t?N:this.source_location.$lineno()},u.$$arity=0),T.defn(A,"$sub?",_=function(t){return this.subs["$include?"](t)},_.$$arity=1),T.defn(A,"$title?",d=function(){return this.title["$nil_or_empty?"]()["$!"]()},d.$$arity=0),T.defn(A,"$title",f=function(){var t,e;return(t=this.title_converted)===N||null==t||t.$$is_boolean&&1!=t?this.title_=!1!==(t=!1!=(e=this.title_converted=!0)&&e!==N&&null!=e?this.title:e)&&t!==N&&null!=t?this.$apply_title_subs(this.title):t:this.title_},f.$$arity=0),T.defn(A,"$title=",p=function(t){var e;return this.title=!1!==(e=this.title_converted=N)&&e!==N&&null!=e?e:t},p.$$arity=1),T.defn(A,"$captioned_title",h=function(){return""+this.caption+this.$title()},h.$$arity=0),T.defn(A,"$blocks?",g=function(){return this.blocks["$empty?"]()["$!"]()},g.$$arity=0),T.defn(A,"$<<",b=function(t){return this.blocks["$<<"](t),this},b.$$arity=1),T.alias(A,"append","<<"),T.defn(A,"$sections",m=function(){var e;return L(this.blocks,"select",[],((e=function(t){return e.$$s,null==t&&(t=N),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e))},m.$$arity=0),T.defn(A,"$sections?",y=function(){var t,e;return t=this.next_section_index,e=0,"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)},y.$$arity=0),T.defn(A,"$find_by",v=function(n){var t,e,$,r,o,i,s,l,a=this,c=v.$$p,u=c||N,_=N,d=N,f=N,p=N,h=N;if(null==n&&(n=z([],{})),c&&(v.$$p=null),e=!(_=[])!==($=!1!==(r=!1!==(o=l=(d=n["$[]"]("context"))["$!"]())&&o!==N&&null!=o?o:d["$=="](a.context))&&r!==N&&null!=r?!1!==(o=(f=n["$[]"]("style"))["$!"]())&&o!==N&&null!=o?o:f["$=="](a.style):r)&&$!==N&&null!=$?!1!==(r=(p=n["$[]"]("role"))["$!"]())&&r!==N&&null!=r?r:a["$has_role?"](p):$,(t=!1!==e&&e!==N&&null!=e?!1!==($=(h=n["$[]"]("id"))["$!"]())&&$!==N&&null!=$?$:h["$=="](a.id):e)!==N&&null!=t&&(!t.$$is_boolean||1==t)){if(!1!==h&&h!==N&&null!=h)return u!==N&&((t=T.yield1(u,a))===N||null==t||t.$$is_boolean&&1!=t)?_:[a];u!==N&&((t=T.yield1(u,a))===N||null==t||t.$$is_boolean&&1!=t)||_["$<<"](a)}return e=($=a.context["$=="]("document"))?!1!==(r=l)&&r!==N&&null!=r?r:d["$=="]("section"):a.context["$=="]("document"),(t=!1!==e&&e!==N&&null!=e?a["$header?"]():e)===N||null==t||t.$$is_boolean&&1!=t||_.$concat(L(a.header,"find_by",[n],u.$to_proc())),d["$=="]("document")||(a.context["$=="]("dlist")?(t=!1!==(e=l)&&e!==N&&null!=e?e:d["$!="]("section"))===N||null==t||t.$$is_boolean&&1!=t||L(a.blocks.$flatten(),"each",[],((i=function(t){return i.$$s,null==t&&(t=N),!1!==t&&t!==N&&null!=t?_.$concat(L(t,"find_by",[n],u.$to_proc())):N}).$$s=a,i.$$arity=1,i)):(t=L(a.blocks,"each",[],((s=function(t){var e;return s.$$s,null==t&&(t=N),(e=d["$=="]("section")?t.$context()["$!="]("section"):d["$=="]("section"))===N||null==e||e.$$is_boolean&&1!=e?_.$concat(L(t,"find_by",[n],u.$to_proc())):N}).$$s=a,s.$$arity=1,s)))!==N&&null!=t&&t.$$is_boolean),_},v.$$arity=-1),T.alias(A,"query","find_by"),T.defn(A,"$remove_sub",w=function(t){return this.subs.$delete(t),N},w.$$arity=1),T.defn(A,"$assign_caption",x=function(t,e){var n,$,r=this,o=N,i=N,s=N,l=N;return null==t&&(t=N),null==e&&(e=N),(n=!1!==($=r["$title?"]())&&$!==N&&null!=$?$:r.caption["$!"]())===N||null==n||n.$$is_boolean&&1!=n||(!1!==t&&t!==N&&null!=t?r.caption=t:(n=o=r.document.$attributes()["$[]"]("caption"))===N||null==n||n.$$is_boolean&&1!=n?(n=r["$title?"]())===N||null==n||n.$$is_boolean&&1!=n||(!1!==(n=e)&&n!==N&&null!=n||(e=r.context.$to_s()),i=e+"-caption",(n=s=r.document.$attributes()["$[]"](i))===N||null==n||n.$$is_boolean&&1!=n||(l=r.document.$counter_increment(e+"-number",r),r.caption=s+" "+l+". ")):r.caption=o),N},x.$$arity=-1),T.defn(A,"$list_marker_keyword",k=function(t){var e;return null==t&&(t=N),T.const_get(M,"ORDERED_LIST_KEYWORDS",!0,!0)["$[]"](!1!==(e=t)&&e!==N&&null!=e?e:this.style)},k.$$arity=-1),T.defn(A,"$assign_index",O=function(t){var e,n,$,r=this,o=N,i=N,s=N;return o=[r.next_section_index],L(t,"index=",T.to_a(o)),o[I(o.length,1)],r.next_section_index=C(r.next_section_index,1),t.$sectname()["$=="]("appendix")?(i=r.document.$counter("appendix-number","A"),(e=t.$numbered())===N||null==e||e.$$is_boolean&&1!=e||(o=[i],L(t,"number=",T.to_a(o)),o[I(o.length,1)]),o=(e=(s=r.document.$attr("appendix-caption",""))["$empty?"]())===N||null==e||e.$$is_boolean&&1!=e?[s+" "+i+": "]:[i+". "],L(t,"caption=",T.to_a(o)),o[I(o.length,1)]):(e=t.$numbered())===N||null==e||e.$$is_boolean&&1!=e?N:(e=!1!==(n=!1!==($=t.$level()["$=="](1))&&$!==N&&null!=$?$:t.$level()["$=="](0)?t.$special():t.$level()["$=="](0))&&n!==N&&null!=n?r.document.$doctype()["$=="]("book"):n)===N||null==e||e.$$is_boolean&&1!=e?(o=[r.next_section_number],L(t,"number=",T.to_a(o)),o[I(o.length,1)],r.next_section_number=C(r.next_section_number,1)):(o=[r.document.$counter("chapter-number",1)],L(t,"number=",T.to_a(o)),o[I(o.length,1)])},O.$$arity=1),T.defn(A,"$reindex_sections",E=function(){var n;return this.next_section_index=0,this.next_section_number=0,L(this.blocks,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=N),t.$context()["$=="]("section")?(e.$assign_index(t),t.$reindex_sections()):N}).$$s=this,n.$$arity=1,n))},E.$$arity=0)}($.base,T.const_get(r,"AbstractNode",!0,!0),r)},Opal.modules["asciidoctor/attribute_list"]=function(y){function v(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function w(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}y.top;var t,e,n,$,r,o=y,i=[y],x=y.nil,s=(y.breaker,y.slice,y.module),k=y.klass,O=y.hash2,E=y.send;return y.add_stubs(["$new","$[]","$update","$parse","$parse_attribute","$eos?","$skip_delimiter","$+","$rekey","$each_with_index","$[]=","$-","$skip_blank","$==","$peek","$parse_attribute_value","$get_byte","$scan_name","$!","$!=","$*","$scan_to_delimiter","$===","$include?","$delete","$each","$split","$empty?","$strip","$apply_normal_subs","$scan_to_quote","$gsub","$skip","$scan"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h=$=k(t,null,"AttributeList",$),g=h.$$proto,b=h.$$scope,m=n.slice().concat(b);g.attributes=g.scanner=g.delimiter=g.block=g.delimiter_skip_pattern=g.delimiter_boundary_pattern=x,y.cdecl(b,"BoundaryRxs",O(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+y.const_get(m,"CG_BLANK",!0,!0)+"*(,|$))")})),y.cdecl(b,"EscapedQuoteRxs",O(['"',"'"],{'"':/\\"/,"'":/\\'/})),y.cdecl(b,"NameRx",new RegExp(y.const_get(m,"CG_WORD",!0,!0)+"["+y.const_get(m,"CC_WORD",!0,!0)+"\\-.]*")),y.cdecl(b,"BlankRx",new RegExp(y.const_get(m,"CG_BLANK",!0,!0)+"+")),y.cdecl(b,"SkipRxs",O(["blank",","],{blank:y.const_get(m,"BlankRx",!0,!0),",":new RegExp(y.const_get(m,"CG_BLANK",!0,!0)+"*(,|$)")})),y.defn(h,"$initialize",r=function(t,e,n){return null==e&&(e=x),null==n&&(n=","),this.scanner=y.const_get([y.Object.$$scope],"StringScanner",!0,!0).$new(t),this.block=e,this.delimiter=n,this.delimiter_skip_pattern=y.const_get(m,"SkipRxs",!0,!0)["$[]"](n),this.delimiter_boundary_pattern=y.const_get(m,"BoundaryRxs",!0,!0)["$[]"](n),this.attributes=x},r.$$arity=-2),y.defn(h,"$parse_into",o=function(t,e){return null==e&&(e=[]),t.$update(this.$parse(e))},o.$$arity=-2),y.defn(h,"$parse",i=function(t){var e,n,$=x;if(null==t&&(t=[]),(e=this.attributes)!==x&&null!=e&&(!e.$$is_boolean||1==e))return this.attributes;for(this.attributes=O([],{}),$=0;(n=this.$parse_attribute($,t))!==x&&null!=n&&(!n.$$is_boolean||1==n)&&((n=this.scanner["$eos?"]())===x||null==n||n.$$is_boolean&&1!=n);)this.$skip_delimiter(),$=v($,1);return this.attributes},i.$$arity=-1),y.defn(h,"$rekey",s=function(t){return y.const_get(m,"AttributeList",!0,!0).$rekey(this.attributes,t)},s.$$arity=1),y.defs(h,"$rekey",l=function(i,t){var s;return E(t,"each_with_index",[],((s=function(t,e){s.$$s;var n,$,r,o=x;return null==t&&(t=x),null==e&&(e=x),!1===t||t===x||null==t?x:($=v(e,1),(n=r=i["$[]"]($))===x||null==n||n.$$is_boolean&&1!=n?x:(o=[t,r],E(i,"[]=",y.to_a(o)),o[w(o.length,1)]))}).$$s=this,s.$$arity=2,s)),i},l.$$arity=2),y.defn(h,"$parse_attribute",a=function(t,e){var n,$,r,o,i,s=this,l=x,a=x,c=x,u=x,_=x,d=x,f=x,p=x,h=x,g=x;if(null==t&&(t=0),null==e&&(e=[]),l=!1,s.$skip_blank(),(a=s.scanner.$peek(1))["$=="]('"'))c=s.$parse_attribute_value(s.scanner.$get_byte()),u=x;else if(a["$=="]("'"))c=s.$parse_attribute_value(s.scanner.$get_byte()),u=x,l=!0;else{if(c=s.$scan_name(),_=0,d=x,(n=s.scanner["$eos?"]())===x||null==n||n.$$is_boolean&&1!=n)_=!1!==(n=s.$skip_blank())&&n!==x&&null!=n?n:0,d=s.scanner.$get_byte();else if(!1===c||c===x||null==c)return!1;if((n=!1!==($=d["$!"]())&&$!==x&&null!=$?$:d["$=="](s.delimiter))===x||null==n||n.$$is_boolean&&1!=n)if((n=!1!==($=d["$!="]("="))&&$!==x&&null!=$?$:c["$!"]())===x||null==n||n.$$is_boolean&&1!=n){if(s.$skip_blank(),(n=s.scanner.$peek(1))!==x&&null!=n&&(!n.$$is_boolean||1==n))if((d=s.scanner.$get_byte())["$=="]('"'))u=s.$parse_attribute_value(d);else if(d["$=="]("'"))u=s.$parse_attribute_value(d),l=!0;else if(d["$=="](s.delimiter))u=x;else if((u=""+d+s.$scan_to_delimiter())["$=="]("None"))return!0}else c=""+c+(i=_,"number"==typeof(o=" ")&&"number"==typeof i?o*i:o["$*"](i))+d+s.$scan_to_delimiter(),u=x;else u=x}return!1!==u&&u!==x&&null!=u?"options"["$==="](f=c)||"opts"["$==="](f)?(c="options",(n=u["$include?"](","))===x||null==n||n.$$is_boolean&&1!=n?(p=[(u=u.$strip())+"-option",""],E(s.attributes,"[]=",y.to_a(p)),p[w(p.length,1)]):((n=u["$include?"](" "))===x||null==n||n.$$is_boolean&&1!=n||(u=u.$delete(" ")),E(u.$split(","),"each",[],((r=function(t){var e,n=r.$$s||this,$=x;return null==n.attributes&&(n.attributes=x),null==t&&(t=x),(e=t["$empty?"]())===x||null==e||e.$$is_boolean&&1!=e?($=[t+"-option",""],E(n.attributes,"[]=",y.to_a($)),$[w($.length,1)]):x}).$$s=s,r.$$arity=1,r))),p=[c,u]):p="title"["$==="](f)?[c,u]:[c,($=!1!==l&&l!==x&&null!=l?u["$empty?"]()["$!"]():l,(n=!1!==$&&$!==x&&null!=$?s.block:$)===x||null==n||n.$$is_boolean&&1!=n?u:s.block.$apply_normal_subs(u))]:($=!1!==l&&l!==x&&null!=l?c["$empty?"]()["$!"]():l,h=(n=!1!==$&&$!==x&&null!=$?s.block:$)===x||null==n||n.$$is_boolean&&1!=n?c:s.block.$apply_normal_subs(c),(n=g=e["$[]"](t))===x||null==n||n.$$is_boolean&&1!=n||(p=[g,h],E(s.attributes,"[]=",y.to_a(p)),p[w(p.length,1)]),p=[v(t,1),h]),E(s.attributes,"[]=",y.to_a(p)),p[w(p.length,1)],!0},a.$$arity=-1),y.defn(h,"$parse_attribute_value",c=function(t){var e,n=x;return this.scanner.$peek(1)["$=="](t)?(this.scanner.$get_byte(),""):(e=n=this.$scan_to_quote(t))===x||null==e||e.$$is_boolean&&1!=e?""+t+this.$scan_to_delimiter():(this.scanner.$get_byte(),n.$gsub(y.const_get(m,"EscapedQuoteRxs",!0,!0)["$[]"](t),t))},c.$$arity=1),y.defn(h,"$skip_blank",u=function(){return this.scanner.$skip(y.const_get(m,"BlankRx",!0,!0))},u.$$arity=0),y.defn(h,"$skip_delimiter",_=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},_.$$arity=0),y.defn(h,"$scan_name",d=function(){return this.scanner.$scan(y.const_get(m,"NameRx",!0,!0))},d.$$arity=0),y.defn(h,"$scan_to_delimiter",f=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},f.$$arity=0),y.defn(h,"$scan_to_quote",p=function(t){return this.scanner.$scan(y.const_get(m,"BoundaryRxs",!0,!0)["$[]"](t))},p.$$arity=1)}($.base,0,r)},Opal.modules["asciidoctor/block"]=function(p){function h(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function g(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}p.top;var t,e,n,$,r,o=p,i=[p],b=p.nil,s=(p.breaker,p.slice,p.module),c=p.klass,m=p.send,y=p.hash2;return p.add_stubs(["$default=","$-","$attr_accessor","$[]","$key?","$==","$===","$dup","$delete","$[]=","$lock_in_subs","$nil_or_empty?","$normalize_lines_from_string","$apply_subs","$*","$<","$size","$empty?","$rstrip","$shift","$pop","$warn","$to_s","$class","$object_id","$inspect"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var _,d,r,o,i,s=$=c(t,e,"Block",$),l=s.$$proto,a=s.$$scope,f=n.slice().concat(a);l.attributes=l.content_model=l.lines=l.subs=l.blocks=l.context=l.style=b,i=["simple"],m(p.cdecl(a,"DEFAULT_CONTENT_MODEL",y(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",p.to_a(i)),h(i.length,1),p.alias(s,"blockname","context"),s.$attr_accessor("lines"),p.defn(s,"$initialize",_=function(t,e,n){var $,r,o=this,i=_.$$p,s=b,l=b,a=b,c=b,u=b;for(null==n&&(n=y([],{})),i&&(_.$$p=null),u=0,r=arguments.length,c=new Array(r);u<r;u++)c[u]=arguments[u];return m(o,p.find_super_dispatcher(o,"initialize",_,!1),c,i),o.content_model=!1!==($=n["$[]"]("content_model"))&&$!==b&&null!=$?$:p.const_get(f,"DEFAULT_CONTENT_MODEL",!0,!0)["$[]"](e),($=n["$key?"]("subs"))===b||null==$||$.$$is_boolean&&1!=$?o.default_subs=b:($=s=n["$[]"]("subs"))===b||null==$||$.$$is_boolean&&1!=$?(o.default_subs=[],o.attributes.$delete("subs")):(s["$=="]("default")?o.default_subs=n["$[]"]("default_subs"):($=p.const_get([p.Object.$$scope],"Array",!0,!0)["$==="](s))===b||null==$||$.$$is_boolean&&1!=$?(o.default_subs=b,l=["subs",""+s],m(o.attributes,"[]=",p.to_a(l)),l[h(l.length,1)]):(o.default_subs=s.$dup(),o.attributes.$delete("subs")),o.$lock_in_subs()),($=(a=n["$[]"]("source"))["$nil_or_empty?"]())===b||null==$||$.$$is_boolean&&1!=$?($=p.const_get([p.Object.$$scope],"String",!0,!0)["$==="](a))===b||null==$||$.$$is_boolean&&1!=$?o.lines=a.$dup():o.lines=p.const_get(f,"Helpers",!0,!0).$normalize_lines_from_string(a):o.lines=[]},_.$$arity=-3),p.defn(s,"$content",d=function(){var n,$,r,t,o=this,i=d.$$p,s=b,l=b,a=b,c=b,u=b,e=b;for(i&&(d.$$p=null),e=0,t=arguments.length,u=new Array(t);e<t;e++)u[e]=arguments[e];return function(){if(s=o.content_model,"compound"["$==="](s))return m(o,p.find_super_dispatcher(o,"content",d,!1),u,i);if("simple"["$==="](s))return o.$apply_subs(g(o.lines,p.const_get(f,"EOL",!0,!0)),o.subs);if("verbatim"["$==="](s)||"raw"["$==="](s)){if(l=o.$apply_subs(o.lines,o.subs),t=l.$size(),e=2,(n="number"==typeof t&&"number"==typeof e?t<e:t["$<"](e))===b||null==n||n.$$is_boolean&&1!=n){for(;r=a=l["$[]"](0),($=!1!==r&&r!==b&&null!=r?a.$rstrip()["$empty?"]():r)!==b&&null!=$&&(!$.$$is_boolean||1==$);)l.$shift();for(;r=c=l["$[]"](-1),($=!1!==r&&r!==b&&null!=r?c.$rstrip()["$empty?"]():r)!==b&&null!=$&&(!$.$$is_boolean||1==$);)l.$pop();return g(l,p.const_get(f,"EOL",!0,!0))}return l["$[]"](0)}return o.content_model["$=="]("empty")||o.$warn("Unknown content model '"+o.content_model+"' for block: "+o.$to_s()),b;var t,e}()},d.$$arity=0),p.defn(s,"$source",r=function(){return g(this.lines,p.const_get(f,"EOL",!0,!0))},r.$$arity=0),p.defn(s,"$to_s",o=function(){var t,e=this;return t=e.content_model["$=="]("compound")?"blocks: "+e.blocks.$size():"lines: "+e.lines.$size(),"#<"+e.$class()+"@"+e.$object_id()+" {context: "+e.context.$inspect()+", content_model: "+e.content_model.$inspect()+", style: "+e.style.$inspect()+", "+t+"}>"},o.$$arity=0)}($.base,p.const_get(r,"AbstractBlock",!0,!0),r)},Opal.modules["asciidoctor/callouts"]=function(h){function g(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function b(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}h.top;var t,e,n,$,r,o=h,i=[h],m=h.nil,s=(h.breaker,h.slice,h.module),y=h.klass,v=h.hash2,w=h.send;return h.add_stubs(["$next_list","$<<","$current_list","$to_i","$generate_next_callout_id","$+","$<=","$size","$[]","$-","$chop","$join","$map","$==","$<","$generate_callout_id"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d=$=y(t,null,"Callouts",$),f=d.$$proto,p=d.$$scope;n.slice().concat(p),f.co_index=f.lists=f.list_index=m,h.defn(d,"$initialize",r=function(){return this.lists=[],this.list_index=0,this.$next_list()},r.$$arity=0),h.defn(d,"$register",o=function(t){var e;return this.$current_list()["$<<"](v(["ordinal","id"],{ordinal:t.$to_i(),id:e=this.$generate_next_callout_id()})),this.co_index=g(this.co_index,1),e},o.$$arity=1),h.defn(d,"$read_next_id",i=function(){var t,e,n,$=m,r=m;return $=m,r=this.$current_list(),e=this.co_index,n=r.$size(),(t="number"==typeof e&&"number"==typeof n?e<=n:e["$<="](n))===m||null==t||t.$$is_boolean&&1!=t||($=r["$[]"](b(this.co_index,1))["$[]"]("id")),this.co_index=g(this.co_index,1),$},i.$$arity=0),h.defn(d,"$callout_ids",s=function(e){var n;return w(this.$current_list(),"map",[],(n=function(t){return n.$$s,null==t&&(t=m),t["$[]"]("ordinal")["$=="](e)?t["$[]"]("id")+" ":m},n.$$s=this,n.$$arity=1,n)).$join().$chop()},s.$$arity=1),h.defn(d,"$current_list",l=function(){return this.lists["$[]"](b(this.list_index,1))},l.$$arity=0),h.defn(d,"$next_list",a=function(){var t,e,n;return this.list_index=g(this.list_index,1),e=this.lists.$size(),n=this.list_index,(t="number"==typeof e&&"number"==typeof n?e<n:e["$<"](n))===m||null==t||t.$$is_boolean&&1!=t||this.lists["$<<"]([]),this.co_index=1,m},a.$$arity=0),h.defn(d,"$rewind",c=function(){return this.list_index=1,this.co_index=1,m},c.$$arity=0),h.defn(d,"$generate_next_callout_id",u=function(){return this.$generate_callout_id(this.list_index,this.co_index)},u.$$arity=0),h.defn(d,"$generate_callout_id",_=function(t,e){return"CO"+t+"-"+e},_.$$arity=2)}($.base,0,r)},Opal.modules["asciidoctor/converter/base"]=function(c){c.top;var t,e,n,$,r,o,i,s,l,a=c,u=[c],_=c.nil,d=(c.breaker,c.slice,c.module),f=c.klass,p=c.hash2;return c.add_stubs(["$include","$node_name","$empty?","$send","$content"]),t=a.base,e=u,(i=d(t,"Asciidoctor")).$$proto,s=i.$$scope,l=e.slice().concat(s),n=s.base,$=l,(r=d(n,"Converter")).$$proto,o=r.$$scope,$.slice().concat(o),function(t,e,n){function $(){}var r=$=f(t,null,"Base",$),o=(r.$$proto,r.$$scope),i=n.slice().concat(o);r.$include(c.const_get(i,"Converter",!0,!0))}(c.const_get(l,"Converter",!0,!0),0,l),void function(t,e,n){function $(){}var r,o,i,s,l=$=f(t,null,"BuiltIn",$),a=(l.$$proto,l.$$scope);n.slice().concat(a),c.defn(l,"$initialize",r=function(t,e){return null==e&&(e=p([],{})),_},r.$$arity=-2),c.defn(l,"$convert",o=function(t,e,n){var $;return null==e&&(e=_),null==n&&(n=p([],{})),!1!==($=e)&&$!==_&&null!=$||(e=t.$node_name()),($=n["$empty?"]())===_||null==$||$.$$is_boolean&&1!=$?this.$send(e,t,n):this.$send(e,t)},o.$$arity=-2),c.alias(l,"handles?","respond_to?"),c.defn(l,"$content",i=function(t){return t.$content()},i.$$arity=1),c.alias(l,"pass","content"),c.defn(l,"$skip",s=function(t){return _},s.$$arity=1)}(c.const_get(l,"Converter",!0,!0),0,l)},Opal.modules["asciidoctor/converter/factory"]=function(v){v.top;var t,e,n,$,r,o,i,s,l,a,c=v,u=[v],w=v.nil,_=(v.breaker,v.slice,v.module),x=v.klass,k=v.hash2,O=v.send;return v.add_stubs(["$new","$require","$to_s","$warn","$register","$default","$resolve","$create","$converters","$unregister_all","$attr_reader","$each","$[]=","$-","$==","$[]","$clear","$===","$key?"]),t=c.base,e=u,(s=_(t,"Asciidoctor")).$$proto,l=s.$$scope,a=e.slice().concat(l),n=l.base,$=a,(r=_(n,"Converter")).$$proto,o=r.$$scope,i=$.slice().concat(o),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g=$=x(t,null,"Factory",$),b=g.$$proto,m=g.$$scope,y=n.slice().concat(m);b.converters=b.star_converter=w,g.__default__=w,a=v.get_singleton_class(g),c=y,a.$$proto,a.$$scope,c.slice().concat(a),v.defn(a,"$default",u=function(t){var e,n,$=this;return null==$.__default__&&($.__default__=w),null==t&&(t=!0),!1===t||t===w||null==t?!1!==(e=$.__default__)&&e!==w&&null!=e?e:$.$new():!1!==(e=$.__default__)&&e!==w&&null!=e?e:$.__default__=function(){try{return((n=v.const_get([v.Object.$$scope],"ThreadSafe",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&$.$require("thread_safe".$to_s()),$.$new(v.const_get([v.const_get([v.Object.$$scope],"ThreadSafe",!0,!0).$$scope],"Cache",!0,!0).$new())}catch(t){if(!v.rescue(t,[v.const_get([v.Object.$$scope],"LoadError",!0,!0)]))throw t;try{return $.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),$.$new()}finally{v.pop_exception()}}}()},u.$$arity=-1),v.defn(a,"$register",_=function(t,e){return null==e&&(e=["*"]),this.$default().$register(t,e)},_.$$arity=-2),v.defn(a,"$resolve",d=function(t){return this.$default().$resolve(t)},d.$$arity=1),v.defn(a,"$create",f=function(t,e){return null==e&&(e=k([],{})),this.$default().$create(t,e)},f.$$arity=-2),v.defn(a,"$converters",p=function(){return this.$default().$converters()},p.$$arity=0),v.defn(a,"$unregister_all",h=function(){return this.$default().$unregister_all()},h.$$arity=0),g.$attr_reader("converters"),v.defn(g,"$initialize",r=function(t){var e;return null==t&&(t=w),this.converters=!1!==(e=t)&&e!==w&&null!=e?e:k([],{}),this.star_converter=w},r.$$arity=-1),v.defn(g,"$register",o=function(o,t){var i;return null==t&&(t=["*"]),O(t,"each",[],((i=function(t){var e,n,$,r=i.$$s||this;return null==r.converters&&(r.converters=w),null==t&&(t=w),e=[t,o],O(r.converters,"[]=",v.to_a(e)),$=1,"number"==typeof(n=e.length)&&"number"==typeof $||n["$-"]($),t["$=="]("*")?r.star_converter=o:w}).$$s=this,i.$$arity=1,i)),w},o.$$arity=-2),v.defn(g,"$resolve",i=function(t){var e,n;return!1!==(e=this.converters)&&e!==w&&null!=e?!1!==(n=this.converters["$[]"](t))&&n!==w&&null!=n?n:this.star_converter:e},i.$$arity=1),v.defn(g,"$unregister_all",s=function(){return this.converters.$clear(),this.star_converter=w},s.$$arity=0),v.defn(g,"$create",l=function(t,e){var n,$,r,o,i,s,l,a,c,u,_,d,f,p,h,g=this,b=w,m=w;return null==e&&(e=k([],{})),(n=b=g.$resolve(t))===w||null==n||n.$$is_boolean&&1!=n?(p="html5"["$==="](m=t)?(((n=(r=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&r.$$scope&&($=v.const_get([r.$$scope],"Converter",!0,!1))&&$.$$scope&&v.const_get([$.$$scope],"Html5Converter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/html5".$to_s()),v.const_get(y,"Html5Converter",!0,!0).$new(t,e)):"docbook5"["$==="](m)?(((n=(i=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&i.$$scope&&(o=v.const_get([i.$$scope],"Converter",!0,!1))&&o.$$scope&&v.const_get([o.$$scope],"DocBook5Converter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/docbook5".$to_s()),v.const_get(y,"DocBook5Converter",!0,!0).$new(t,e)):"docbook45"["$==="](m)?(((n=(l=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&l.$$scope&&(s=v.const_get([l.$$scope],"Converter",!0,!1))&&s.$$scope&&v.const_get([s.$$scope],"DocBook45Converter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/docbook45".$to_s()),v.const_get(y,"DocBook45Converter",!0,!0).$new(t,e)):"manpage"["$==="](m)?(((n=(c=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&c.$$scope&&(a=v.const_get([c.$$scope],"Converter",!0,!1))&&a.$$scope&&v.const_get([a.$$scope],"ManPageConverter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/manpage".$to_s()),v.const_get(y,"ManPageConverter",!0,!0).$new(t,e)):w,(n=e["$key?"]("template_dirs"))===w||null==n||n.$$is_boolean&&1!=n?p:(((n=(_=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&_.$$scope&&(u=v.const_get([_.$$scope],"Converter",!0,!1))&&u.$$scope&&v.const_get([u.$$scope],"TemplateConverter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/template".$to_s()),((n=(f=v.const_get([v.Object.$$scope],"Asciidoctor",!0,!1))&&f.$$scope&&(d=v.const_get([f.$$scope],"Converter",!0,!1))&&d.$$scope&&v.const_get([d.$$scope],"CompositeConverter",!0,!1)?"constant":w)===w||null==n||n.$$is_boolean&&1!=n)&&g.$require("asciidoctor/converter/composite".$to_s()),h=v.const_get(y,"TemplateConverter",!0,!0).$new(t,e["$[]"]("template_dirs"),e),v.const_get(y,"CompositeConverter",!0,!0).$new(t,h,p))):(n=v.const_get([v.Object.$$scope],"Class",!0,!0)["$==="](b))===w||null==n||n.$$is_boolean&&1!=n?b:b.$new(t,e)},l.$$arity=-2)}(o.base,0,i)},Opal.modules["asciidoctor/converter"]=function(c){function n(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t,e,$,r,o,i,s,l,a,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F=c.top,G=c,H=[c],Y=c.nil,K=(c.breaker,c.slice,c.module),W=c.send,X=c.range,V=c.hash2;return c.add_stubs(["$register","$==","$send","$include?","$setup_backend_info","$raise","$class","$sub","$[]","$[]=","$backend_info","$-","$extend","$include","$respond_to?","$write","$chomp","$open","$require"]),t=G.base,e=H,(B=K(t,"Asciidoctor")).$$proto,q=B.$$scope,U=e.slice().concat(q),$=q.base,r=U,(O=K($,"Converter")).$$proto,E=O.$$scope,A=r.slice().concat(E),s=E.base,l=A,(u=K(s,"Config")).$$proto,_=u.$$scope,d=l.slice().concat(_),c.defn(u,"$register_for",a=function(t){var e,n,$,r,o,i,s=arguments.length,l=s-0;l<0&&(l=0),$=new Array(l);for(var a=0;a<s;a++)$[a-0]=arguments[a];return c.const_get(d,"Factory",!0,!0).$register(this,$),o=c.get_singleton_class(this),i=d,o.$$proto,o.$$scope,i.slice().concat(o),r=o,$["$=="](["*"])?W(r,"send",["define_method","converts?"],((e=function(t){return e.$$s,null==t&&(t=Y),!0}).$$s=this,e.$$arity=1,e)):W(r,"send",["define_method","converts?"],((n=function(t){return n.$$s,null==t&&(t=Y),$["$include?"](t)}).$$s=this,n.$$arity=1,n)),Y},a.$$arity=-1),f=E.base,p=A,(w=K(f,"BackendInfo")).$$proto,x=w.$$scope,k=p.slice().concat(x),c.defn(w,"$backend_info",h=function(){var t;return null==this.backend_info&&(this.backend_info=Y),!1!==(t=this.backend_info)&&t!==Y&&null!=t?t:this.backend_info=this.$setup_backend_info()},h.$$arity=0),c.defn(w,"$setup_backend_info",g=function(){var t,e=Y,n=Y,$=Y,r=Y;return null==this.backend&&(this.backend=Y),((t=this.backend)===Y||null==t||t.$$is_boolean&&1!=t)&&this.$raise(c.const_get([c.Object.$$scope],"ArgumentError",!0,!0),"Cannot determine backend for converter: "+this.$class()),e=this.backend.$sub(c.const_get(k,"TrailingDigitsRx",!0,!0),""),(t=n=c.const_get(k,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](e))===Y||null==t||t.$$is_boolean&&1!=t?(n=".html",r=$=e="html"):$=n["$[]"](X(1,-1,!1)),V(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:n,filetype:$,htmlsyntax:r})},g.$$arity=0),c.defn(w,"$filetype",b=function(t){var e=Y;return null==t&&(t=Y),!1!==t&&t!==Y&&null!=t?(e=["filetype",t],W(this.$backend_info(),"[]=",c.to_a(e)),e[n(e.length,1)]):this.$backend_info()["$[]"]("filetype")},b.$$arity=-1),c.defn(w,"$basebackend",m=function(t){var e=Y;return null==t&&(t=Y),!1!==t&&t!==Y&&null!=t?(e=["basebackend",t],W(this.$backend_info(),"[]=",c.to_a(e)),e[n(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},m.$$arity=-1),c.defn(w,"$outfilesuffix",y=function(t){var e=Y;return null==t&&(t=Y),!1!==t&&t!==Y&&null!=t?(e=["outfilesuffix",t],W(this.$backend_info(),"[]=",c.to_a(e)),e[n(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},y.$$arity=-1),c.defn(w,"$htmlsyntax",v=function(t){var e=Y;return null==t&&(t=Y),!1!==t&&t!==Y&&null!=t?(e=["htmlsyntax",t],W(this.$backend_info(),"[]=",c.to_a(e)),e[n(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},v.$$arity=-1),function(t,e){t.$$proto,t.$$scope;var n,$=e.slice().concat(t);c.defn(t,"$included",n=function(t){return t.$extend(c.const_get($,"Config",!0,!0))},n.$$arity=1)}(c.get_singleton_class(O),A),O.$include(c.const_get(A,"Config",!0,!0)),O.$include(c.const_get(A,"BackendInfo",!0,!0)),c.defn(O,"$initialize",o=function(t,e){return null==e&&(e=V([],{})),this.backend=t,this.$setup_backend_info()},o.$$arity=-2),c.defn(O,"$convert",i=function(t,e,n){return null==e&&(e=Y),null==n&&(n=V([],{})),this.$raise(c.const_get([c.Object.$$scope],"NotImplementedError",!0,!0))},i.$$arity=-2),c.alias(O,"convert_with_options","convert"),S=q.base,R=U,(T=K(S,"Writer")).$$proto,I=T.$$scope,C=R.slice().concat(I),c.defn(T,"$write",M=function(e,t){var n,$;return(n=t["$respond_to?"]("write"))===Y||null==n||n.$$is_boolean&&1!=n?W(c.const_get([c.Object.$$scope],"File",!0,!0),"open",[t,"w"],(($=function(t){return $.$$s,null==t&&(t=Y),t.$write(e)}).$$s=this,$.$$arity=1,$)):(t.$write(e.$chomp()),t.$write(c.const_get(C,"EOL",!0,!0))),Y},M.$$arity=2),N=q.base,j=U,(z=K(N,"VoidWriter")).$$proto,P=z.$$scope,D=j.slice().concat(P),z.$include(c.const_get(D,"Writer",!0,!0)),c.defn(z,"$write",L=function(t,e){return Y},L.$$arity=2),F.$require("asciidoctor/converter/base"),F.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/document"]=function(tt){function et(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function $t(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}tt.top;var t,e,n,$,r,o=tt,i=[tt],rt=tt.nil,s=(tt.breaker,tt.slice,tt.module),ot=tt.klass,it=tt.hash2,st=tt.send,lt=tt.range;return tt.add_stubs(["$new","$attr_reader","$nil?","$<<","$[]","$[]=","$include?","$strip","$tr_s","$gsub","$empty?","$!","$rpartition","$attr_accessor","$delete","$base_dir","$inject","$references","$==","$-","$callouts","$dup","$attributes","$each","$safe","$compat_mode","$sourcemap","$converter","$extensions","$start_with?","$end_with?","$chop","$downcase","$===","$value_for_name","$to_s","$key?","$freeze","$attribute_undefined","$attribute_missing","$name_for_value","$expand_path","$pwd","$>=","$+","$length","$fetch","$abs","$to_i","$delete_if","$parse","$restore_attributes","$update_backend_attributes","$utc","$at","$Integer","$now","$index","$strftime","$year","$join","$build_registry","$to_proc","$activate","$preprocessors?","$preprocessors","$process_method","$treeprocessors?","$treeprocessors","$!=","$counter","$nil_or_empty?","$nextval","$save_to","$chr","$ord","$source","$source_lines","$sectname=","$title=","$title","$first_section","$title?","$merge","$has_header?","$find","$context","$assign_index","$clear_playback_attributes","$save_attributes","$attribute_locked?","$doctitle","$rewind","$name","$negate","$value","$limit_bytesize","$apply_attribute_value_subs","$delete?","$update_doctype_attributes","$match","$apply_subs","$resolve_pass_subs","$apply_header_subs","$create_converter","$basebackend","$outfilesuffix","$filetype","$sub","$backend","$default","$create","$fail","$doctype","$content_model","$content","$convert","$postprocessors?","$postprocessors","$write","$respond_to?","$chomp","$open","$map","$split","$&","$normalize_system_path","$read_asset","$resolve_docinfo_subs","$sub_attributes","$docinfo_processors?","$*","$compact","$resolve_subs","$docinfo_processors","$class","$object_id","$inspect","$size"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var T,r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V=$=ot(t,e,"Document",$),J=V.$$proto,Z=V.$$scope,Q=n.slice().concat(Z);J.attributes=J.safe=J.reader=J.base_dir=J.parsed=J.parent_document=J.extensions=J.options=J.counters=J.references=J.doctype=J.backend=J.header=J.blocks=J.attributes_modified=J.id=J.callouts=J.header_attributes=J.max_attribute_value_size=J.attribute_overrides=J.converter=J.outfilesuffix=J.docinfo_processor_extensions=J.document=rt,tt.cdecl(Z,"Footnote",tt.const_get([tt.Object.$$scope],"Struct",!0,!0).$new("index","id","text")),function(t,e,n){function $(){}var r,o,i=$=ot(t,null,"AttributeEntry",$),s=(i.$$proto,i.$$scope);n.slice().concat(s),i.$attr_reader("name","value","negate"),tt.defn(i,"$initialize",r=function(t,e,n){var $;return null==n&&(n=rt),this.name=t,this.value=e,this.negate=($=n["$nil?"]())===rt||null==$||$.$$is_boolean&&1!=$?n:e["$nil?"]()},r.$$arity=-3),tt.defn(i,"$save_to",o=function(t){var e,n,$;return(e="attribute_entries",n=t,!1!==($=n["$[]"](e))&&$!==rt&&null!=$?$:n["$[]="](e,[]))["$<<"](this)},o.$$arity=1)}(Z.base,0,Q),function(t,e,n){function $(){}var r,o,i,s,l=$=ot(t,null,"Title",$),a=l.$$proto,c=l.$$scope,u=n.slice().concat(c);a.sanitized=a.subtitle=a.combined=rt,l.$attr_reader("main"),tt.alias(l,"title","main"),l.$attr_reader("subtitle"),l.$attr_reader("combined"),tt.defn(l,"$initialize",r=function(t,e){var n,$,r,o=rt;return null==e&&(e=it([],{})),(n=!1!==($=this.sanitized=e["$[]"]("sanitize"))&&$!==rt&&null!=$?t["$include?"]("<"):$)===rt||null==n||n.$$is_boolean&&1!=n||(t=t.$gsub(tt.const_get(u,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip()),(n=!1!==($=(o=!1!==(r=e["$[]"]("separator"))&&r!==rt&&null!=r?r:":")["$empty?"]())&&$!==rt&&null!=$?$:t["$include?"](o+=" ")["$!"]())===rt||null==n||n.$$is_boolean&&1!=n?($=t.$rpartition(o),n=tt.to_ary($),this.main=null==n[0]?rt:n[0],null==n[1]||n[1],this.subtitle=null==n[2]?rt:n[2]):(this.main=t,this.subtitle=rt),this.combined=t},r.$$arity=-2),tt.defn(l,"$sanitized?",o=function(){return this.sanitized},o.$$arity=0),tt.defn(l,"$subtitle?",i=function(){return this.subtitle["$!"]()["$!"]()},i.$$arity=0),tt.defn(l,"$to_s",s=function(){return this.combined},s.$$arity=0)}(Z.base,0,Q),V.$attr_reader("safe"),V.$attr_reader("compat_mode"),V.$attr_accessor("sourcemap"),V.$attr_reader("references"),V.$attr_reader("counters"),V.$attr_reader("callouts"),V.$attr_reader("header"),V.$attr_reader("base_dir"),V.$attr_reader("options"),V.$attr_reader("outfilesuffix"),V.$attr_reader("parent_document"),V.$attr_reader("reader"),V.$attr_reader("converter"),V.$attr_reader("extensions"),tt.defn(V,"$initialize",T=function(t,e){var n,$,r,i,o,s,l,a,c,u,_,d,f,p=this,h=T.$$p,g=rt,b=rt,m=rt,y=rt,v=rt,w=rt,x=rt,k=rt,O=rt,E=rt,A=rt,S=rt,R=rt,M=rt;if(null==t&&(t=rt),null==e&&(e=it([],{})),h&&(T.$$p=null),st(p,tt.find_super_dispatcher(p,"initialize",T,!1),[p,"document"],null),(n=g=e.$delete("parent"))===rt||null==n||n.$$is_boolean&&1!=n){if(p.parent_document=rt,p.references=it(["ids","footnotes","links","images","indexterms","includes"],{ids:it([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:tt.const_get([tt.Object.$$scope],"Set",!0,!0).$new()}),p.callouts=tt.const_get(Q,"Callouts",!0,!0).$new(),b=it([],{}),st(!1!==(n=e["$[]"]("attributes"))&&n!==rt&&null!=n?n:it([],{}),"each",[],((s=function(t,e){var n,$;return s.$$s,null==t&&(t=rt),null==e&&(e=rt),(n=t["$start_with?"]("!"))===rt||null==n||n.$$is_boolean&&1!=n?(n=t["$end_with?"]("!"))===rt||null==n||n.$$is_boolean&&1!=n||(t=t.$chop(),e=rt):(t=t["$[]"](lt(1,-1,!1)),e=rt),$=[t.$downcase(),e],st(b,"[]=",tt.to_a($)),$[et($.length,1)]}).$$s=p,s.$$arity=2,s)),p.attribute_overrides=b,(n=(y=e["$[]"]("safe"))["$!"]())===rt||null==n||n.$$is_boolean&&1!=n)if((n=tt.const_get([tt.Object.$$scope],"Integer",!0,!0)["$==="](y))===rt||null==n||n.$$is_boolean&&1!=n)try{p.safe=tt.const_get(Q,"SafeMode",!0,!0).$value_for_name(y.$to_s())}catch(t){if(!tt.rescue(t,[tt.const_get(Q,"StandardError",!0,!0)]))throw t;try{p.safe=tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)}finally{tt.pop_exception()}}else p.safe=y;else p.safe=tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0);p.compat_mode=b["$key?"]("compat-mode"),p.sourcemap=e["$[]"]("sourcemap"),p.converter=rt,m=($=tt.const_get([tt.Object.$$scope],"Asciidoctor",!0,!1))&&$.$$scope&&(n=tt.const_get([$.$$scope],"Extensions",!0,!1))?"constant":rt,p.extensions=rt}else p.parent_document=g,!(n="base_dir")!==(r=($=e)["$[]"](n))&&r!==rt&&null!=r||$["$[]="](n,g.$base_dir()),p.references=st(g.$references(),"inject",[it([],{})],((i=function(t,e){i.$$s;var n,$,r,o=rt;return null==e&&(e=rt),e=tt.to_ary(e),null==($=(n=tt.slice.call(e,0,e.length)).splice(0,1)[0])&&($=rt),null==(r=n.splice(0,1)[0])&&(r=rt),null==t&&(t=rt),o=$["$=="]("footnotes")?["footnotes",[]]:[$,r],st(t,"[]=",tt.to_a(o)),o[et(o.length,1)],t}).$$s=p,i.$$arity=2,i.$$has_top_level_mlhs_arg=!0,i)),p.callouts=g.$callouts(),b=g.$attributes().$dup(),st(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],((o=function(t){return o.$$s,null==t&&(t=rt),b.$delete(t)}).$$s=p,o.$$arity=1,o)),p.attribute_overrides=b,p.safe=g.$safe(),p.compat_mode=g.$compat_mode(),p.sourcemap=g.$sourcemap(),p.converter=g.$converter(),m=!1,p.extensions=g.$extensions();return p.parsed=!1,p.header=rt,p.counters=it([],{}),p.attributes_modified=tt.const_get([tt.Object.$$scope],"Set",!0,!0).$new(),p.options=e,p.docinfo_processor_extensions=it([],{}),v=!(r="header_footer")!==(a=(l=e)["$[]"](r))&&a!==rt&&null!=a?a:l["$[]="](r,!1),e.$freeze(),w=p.attributes,x=["sectids",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],!1!==v&&v!==rt&&null!=v||(x=["notitle",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)]),x=["toc-placement","auto"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["stylesheet",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["webfonts",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],!1!==v&&v!==rt&&null!=v&&(x=["copycss",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)]),x=["prewrap",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["attribute-undefined",tt.const_get(Q,"Compliance",!0,!0).$attribute_undefined()],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["attribute-missing",tt.const_get(Q,"Compliance",!0,!0).$attribute_missing()],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["iconfont-remote",""],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["caution-caption","Caution"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["important-caption","Important"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["note-caption","Note"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["tip-caption","Tip"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["warning-caption","Warning"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["appendix-caption","Appendix"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["example-caption","Example"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["figure-caption","Figure"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["table-caption","Table"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["toc-title","Table of Contents"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["manname-title","NAME"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["untitled-label","Untitled"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["version-label","Version"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["last-update-label","Last updated"],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["asciidoctor",""],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["asciidoctor-version",tt.const_get(Q,"VERSION",!0,!0)],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["safe-mode-name",_=tt.const_get(Q,"SafeMode",!0,!0).$name_for_value(p.safe)],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["safe-mode-"+_,""],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["safe-mode-level",p.safe],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["embedded",!1!==v&&v!==rt&&null!=v?rt:""],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],!(r="max-include-depth")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,64),!(r="allow-uri-read")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,rt),x=["user-home",tt.const_get(Q,"USER_HOME",!0,!0)],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],(r=b["$key?"]("numbered"))===rt||null==r||r.$$is_boolean&&1!=r||(x=["sectnums",b.$delete("numbered")],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),(r=e["$[]"]("base_dir"))===rt||null==r||r.$$is_boolean&&1!=r?(r=b["$[]"]("docdir"))===rt||null==r||r.$$is_boolean&&1!=r?p.base_dir=(x=["docdir",tt.const_get([tt.Object.$$scope],"File",!0,!0).$expand_path(tt.const_get([tt.Object.$$scope],"Dir",!0,!0).$pwd())],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]):p.base_dir=(x=["docdir",tt.const_get([tt.Object.$$scope],"File",!0,!0).$expand_path(b["$[]"]("docdir"))],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]):p.base_dir=(x=["docdir",tt.const_get([tt.Object.$$scope],"File",!0,!0).$expand_path(e["$[]"]("base_dir"))],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),(r=d=e["$[]"]("backend"))===rt||null==r||r.$$is_boolean&&1!=r||(x=["backend",""+d],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),(r=f=e["$[]"]("doctype"))===rt||null==r||r.$$is_boolean&&1!=r||(x=["doctype",""+f],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),(r=nt(p.safe,tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))===rt||null==r||r.$$is_boolean&&1!=r||(!(r="copycss")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,rt),!(r="source-highlighter")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,rt),!(r="backend")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,tt.const_get(Q,"DEFAULT_BACKEND",!0,!0)),l=g["$!"](),(r=!1!==l&&l!==rt&&null!=l?b["$key?"]("docfile"):l)===rt||null==r||r.$$is_boolean&&1!=r||(x=["docfile",b["$[]"]("docfile")["$[]"](tt.Range.$new($t(b["$[]"]("docdir").$length(),1),-1,!1))],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),x=["docdir",""],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],x=["user-home","."],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)],(r=nt(p.safe,tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===rt||null==r||r.$$is_boolean&&1!=r||(((r=b["$key?"]("max-attribute-value-size"))===rt||null==r||r.$$is_boolean&&1!=r)&&(x=["max-attribute-value-size",4096],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),((r=b.$fetch("linkcss","")["$nil?"]())===rt||null==r||r.$$is_boolean&&1!=r)&&(x=["linkcss",""],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)]),!(r="icons")!==(a=(l=b)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,rt))),p.max_attribute_value_size=(r=k=!(l="max-attribute-value-size")!==(c=(a=b)["$[]"](l))&&c!==rt&&null!=c?c:a["$[]="](l,rt))===rt||null==r||r.$$is_boolean&&1!=r?rt:k.$to_i().$abs(),st(b,"delete_if",[],((u=function(t,e){u.$$s;var n,$,r=rt;return null==t&&(t=rt),null==e&&(e=rt),r=!1,(n=e["$nil?"]())===rt||null==n||n.$$is_boolean&&1!=n?((n=!1!==($=tt.const_get([tt.Object.$$scope],"String",!0,!0)["$==="](e))&&$!==rt&&null!=$?e["$end_with?"]("@"):$)===rt||null==n||n.$$is_boolean&&1!=n||(e=e.$chop(),r=!0),x=[t,e],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)]):w.$delete(t),r}).$$s=p,u.$$arity=2,u)),!1!==g&&g!==rt&&null!=g?(!(r="doctype")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,tt.const_get(Q,"DEFAULT_DOCTYPE",!0,!0)),p.reader=tt.const_get(Q,"Reader",!0,!0).$new(t,e["$[]"]("cursor")),tt.const_get(Q,"Parser",!0,!0).$parse(p.reader,p),p.$restore_attributes(),p.parsed=!0):((r="backend",l=w,!1!==(a=l["$[]"](r))&&a!==rt&&null!=a?a:l["$[]="](r,tt.const_get(Q,"DEFAULT_BACKEND",!0,!0)))["$=="]("manpage")?(x=["doctype",(x=["doctype","manpage"],st(b,"[]=",tt.to_a(x)),x[et(x.length,1)])],st(w,"[]=",tt.to_a(x)),x[et(x.length,1)]):!(r="doctype")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,tt.const_get(Q,"DEFAULT_DOCTYPE",!0,!0)),p.$update_backend_attributes(w["$[]"]("backend"),!0),O=(r=tt.const_get([tt.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===rt||null==r||r.$$is_boolean&&1!=r?tt.const_get([tt.Object.$$scope],"Time",!0,!0).$now():tt.const_get([tt.Object.$$scope],"Time",!0,!0).$at(p.$Integer(tt.const_get([tt.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))).$utc(),(r=E=w["$[]"]("localdate"))===rt||null==r||r.$$is_boolean&&1!=r?(x=["localdate",O.$strftime("%Y-%m-%d")],st(w,"[]=",tt.to_a(x)),E=x[et(x.length,1)],A=!(r="localyear")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a?a:l["$[]="](r,O.$year().$to_s())):A=!(r="localyear")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a?a:l["$[]="](r,E.$index("-")["$=="](4)?E["$[]"](0,4):rt),S=!(r="localtime")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a?a:l["$[]="](r,function(){try{return O.$strftime("%H:%M:%S %Z")}catch(t){if(!tt.rescue(t,[tt.const_get(Q,"StandardError",!0,!0)]))throw t;try{return O.$strftime("%H:%M:%S %z")}finally{tt.pop_exception()}}}()),!(r="localdatetime")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,E+" "+S),!(r="docdate")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,E),!(r="docyear")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,A),!(r="doctime")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,S),!(r="docdatetime")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,E+" "+S),!(r="stylesdir")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,"."),!(r="iconsdir")!==(a=(l=w)["$[]"](r))&&a!==rt&&null!=a||l["$[]="](r,tt.const_get([tt.Object.$$scope],"File",!0,!0).$join(w.$fetch("imagesdir","./images"),"icons")),!1!==m&&m!==rt&&null!=m&&((r=R=e["$[]"]("extensions_registry"))===rt||null==r||r.$$is_boolean&&1!=r?R=(r=tt.const_get([tt.Object.$$scope],"Proc",!0,!0)["$==="](M=e["$[]"]("extensions")))===rt||null==r||r.$$is_boolean&&1!=r?tt.const_get([tt.const_get(Q,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new():st(tt.const_get(Q,"Extensions",!0,!0),"build_registry",[],M.$to_proc()):((r=!1!==(l=tt.const_get([tt.const_get(Q,"Extensions",!0,!0).$$scope],"Registry",!0,!0)["$==="](R))&&l!==rt&&null!=l?l:!1!==(a=tt.const_get([tt.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0))&&a!==rt&&null!=a?tt.const_get([tt.const_get([tt.const_get([tt.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$$scope],"ExtensionRegistry",!0,!0)["$==="](R):a)===rt||null==r||r.$$is_boolean&&1!=r)&&(R=tt.const_get([tt.const_get(Q,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new()),p.extensions=R.$activate(p)),p.reader=tt.const_get(Q,"PreprocessorReader",!0,!0).$new(p,t,tt.const_get([tt.const_get(Q,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(w["$[]"]("docfile"),p.base_dir)))},T.$$arity=-1),tt.defn(V,"$parse",r=function(t){var e,n,$,r,o,i=this,s=rt,l=rt;return null==t&&(t=rt),(e=i.parsed)===rt||null==e||e.$$is_boolean&&1!=e?(s=i,!1!==t&&t!==rt&&null!=t&&(i.reader=tt.const_get(Q,"PreprocessorReader",!0,!0).$new(s,t,tt.const_get([tt.const_get(Q,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(i.attributes["$[]"]("docfile"),i.base_dir))),(e=!1!==(n=l=($=i.parent_document)===rt||null==$||$.$$is_boolean&&1!=$?i.extensions:rt)&&n!==rt&&null!=n?l["$preprocessors?"]():n)===rt||null==e||e.$$is_boolean&&1!=e||st(l.$preprocessors(),"each",[],((r=function(t){var e,n=r.$$s||this;return null==n.reader&&(n.reader=rt),null==t&&(t=rt),n.reader=!1!==(e=t.$process_method()["$[]"](s,n.reader))&&e!==rt&&null!=e?e:n.reader}).$$s=i,r.$$arity=1,r)),tt.const_get(Q,"Parser",!0,!0).$parse(i.reader,s,it(["header_only"],{header_only:i.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),i.$restore_attributes(),(e=(n=!1!==l&&l!==rt&&null!=l)?l["$treeprocessors?"]():l)===rt||null==e||e.$$is_boolean&&1!=e||st(l.$treeprocessors(),"each",[],((o=function(t){o.$$s;var e,n,$,r=rt;return null==t&&(t=rt),(e=!1!==(n=!1!==($=r=t.$process_method()["$[]"](s))&&$!==rt&&null!=$?tt.const_get(Q,"Document",!0,!0)["$==="](r):$)&&n!==rt&&null!=n?r["$!="](s):n)===rt||null==e||e.$$is_boolean&&1!=e?rt:s=r}).$$s=i,o.$$arity=1,o)),i.parsed=!0,s):i},r.$$arity=-1),tt.defn(V,"$counter",o=function(t,e){var n,$,r,o,i=this,s=rt;return null==e&&(e=rt),(n=i.parent_document)===rt||null==n||n.$$is_boolean&&1!=n?(s=(n=!1!==($=r=(o=i.attributes["$[]"](t))["$nil_or_empty?"]()["$!"]())&&$!==rt&&null!=$?i.counters["$key?"](t):$)===rt||null==n||n.$$is_boolean&&1!=n?!1!==e&&e!==rt&&null!=e?[t,(s=[t,e["$=="](e.$to_i().$to_s())?e.$to_i():e],st(i.counters,"[]=",tt.to_a(s)),s[et(s.length,1)])]:[t,(s=[t,i.$nextval(!1!==r&&r!==rt&&null!=r?o:0)],st(i.counters,"[]=",tt.to_a(s)),s[et(s.length,1)])]:[t,(s=[t,i.$nextval(o)],st(i.counters,"[]=",tt.to_a(s)),s[et(s.length,1)])],st(i.attributes,"[]=",tt.to_a(s)),s[et(s.length,1)]):i.parent_document.$counter(t,e)},o.$$arity=-2),tt.defn(V,"$counter_increment",i=function(t,e){var n;return n=this.$counter(t),tt.const_get(Q,"AttributeEntry",!0,!0).$new(t,n).$save_to(e.$attributes()),n},i.$$arity=2),tt.defn(V,"$nextval",s=function(t){var e,n=rt;return(e=tt.const_get([tt.Object.$$scope],"Integer",!0,!0)["$==="](t))===rt||null==e||e.$$is_boolean&&1!=e?(e=(n=t.$to_i()).$to_s()["$!="](t.$to_s()))===rt||null==e||e.$$is_boolean&&1!=e?$t(n,1):$t(t["$[]"](0).$ord(),1).$chr():$t(t,1)},s.$$arity=1),tt.defn(V,"$register",l=function(t,e,n){var $,r,o,i=this,s=rt,l=rt,a=rt,c=rt;return null==n&&(n=!1),"ids"["$==="](s=t)?($=[].concat(tt.to_a(e)),l=null==$[0]?rt:$[0],a=null==$[1]?rt:$[1],!1!==($=a)&&$!==rt&&null!=$||(a=$t($t("[",l),"]")),!1!==n&&n!==rt&&null!=n?(c=[l,a],st(i.references["$[]"]("ids"),"[]=",tt.to_a(c)),c[et(c.length,1)]):($=l,r=i.references["$[]"]("ids"),!1!==(o=r["$[]"]($))&&o!==rt&&null!=o?o:r["$[]="]($,a))):"footnotes"["$==="](s)||"indexterms"["$==="](s)?i.references["$[]"](t)["$<<"](e):($=i.options["$[]"]("catalog_assets"))===rt||null==$||$.$$is_boolean&&1!=$?rt:i.references["$[]"](t)["$<<"](e)},l.$$arity=-3),tt.defn(V,"$footnotes?",a=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},a.$$arity=0),tt.defn(V,"$footnotes",c=function(){return this.references["$[]"]("footnotes")},c.$$arity=0),tt.defn(V,"$nested?",u=function(){return this.parent_document["$!"]()["$!"]()},u.$$arity=0),tt.defn(V,"$embedded?",_=function(){return this.attributes["$key?"]("embedded")},_.$$arity=0),tt.defn(V,"$extensions?",d=function(){return this.extensions["$!"]()["$!"]()},d.$$arity=0),tt.defn(V,"$source",f=function(){var t;return(t=this.reader)===rt||null==t||t.$$is_boolean&&1!=t?rt:this.reader.$source()},f.$$arity=0),tt.defn(V,"$source_lines",p=function(){var t;return(t=this.reader)===rt||null==t||t.$$is_boolean&&1!=t?rt:this.reader.$source_lines()},p.$$arity=0),tt.defn(V,"$doctype",h=function(){var t;return!1!==(t=this.doctype)&&t!==rt&&null!=t?t:this.doctype=this.attributes["$[]"]("doctype")},h.$$arity=0),tt.defn(V,"$backend",g=function(){var t;return!1!==(t=this.backend)&&t!==rt&&null!=t?t:this.backend=this.attributes["$[]"]("backend")},g.$$arity=0),tt.defn(V,"$basebackend?",b=function(t){return this.attributes["$[]"]("basebackend")["$=="](t)},b.$$arity=1),tt.defn(V,"$title",m=function(){return this.attributes["$[]"]("title")},m.$$arity=0),tt.defn(V,"$title=",y=function(t){var e,n,$=rt;return n=!1!==(e=this.header)&&e!==rt&&null!=e?e:this.header=tt.const_get(Q,"Section",!0,!0).$new(this,0),$=["header"],st(n,"sectname=",tt.to_a($)),$[et($.length,1)],$=[t],st(n,"title=",tt.to_a($)),$[et($.length,1)]},y.$$arity=1),tt.defn(V,"$doctitle",v=function(t){var e,n,$=this,r=rt,o=rt,i=rt;if(null==t&&(t=it([],{})),(e=(r=$.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===rt||null==e||e.$$is_boolean&&1!=e)if((e=!1!==(n=o=$.$first_section())&&n!==rt&&null!=n?o["$title?"]():n)===rt||null==e||e.$$is_boolean&&1!=e){if((e=!1!==(n=t["$[]"]("use_fallback"))&&n!==rt&&null!=n?r=$.attributes["$[]"]("untitled-label"):n)===rt||null==e||e.$$is_boolean&&1!=e)return rt}else r=o.$title();else r=$.$title();return(e=i=t["$[]"]("partition"))===rt||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=t["$[]"]("sanitize"))&&n!==rt&&null!=n?r["$include?"]("<"):n)===rt||null==e||e.$$is_boolean&&1!=e?r:r.$gsub(tt.const_get(Q,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip():tt.const_get(Q,"Title",!0,!0).$new(r,t.$merge(it(["separator"],{separator:i["$=="](!0)?$.attributes["$[]"]("title-separator"):i})))},v.$$arity=-1),tt.alias(V,"name","doctitle"),tt.defn(V,"$author",w=function(){return this.attributes["$[]"]("author")},w.$$arity=0),tt.defn(V,"$revdate",x=function(){return this.attributes["$[]"]("revdate")},x.$$arity=0),tt.defn(V,"$notitle",k=function(){var t;return!1!==(t=this.attributes["$key?"]("showtitle")["$!"]())&&t!==rt&&null!=t?this.attributes["$key?"]("notitle"):t},k.$$arity=0),tt.defn(V,"$noheader",O=function(){return this.attributes["$key?"]("noheader")},O.$$arity=0),tt.defn(V,"$nofooter",E=function(){return this.attributes["$key?"]("nofooter")},E.$$arity=0),tt.defn(V,"$first_section",A=function(){var t,e;return(t=this["$has_header?"]())===rt||null==t||t.$$is_boolean&&1!=t?st(!1!==(t=this.blocks)&&t!==rt&&null!=t?t:[],"find",[],((e=function(t){return e.$$s,null==t&&(t=rt),t.$context()["$=="]("section")}).$$s=this,e.$$arity=1,e)):this.header},A.$$arity=0),tt.defn(V,"$has_header?",S=function(){var t;return!((t=this.header)===rt||null==t||t.$$is_boolean&&1!=t)},S.$$arity=0),tt.alias(V,"header?","has_header?"),tt.defn(V,"$<<",R=function(t){var e,n=R.$$p,$=rt,r=rt;for(n&&(R.$$p=null),r=0,e=arguments.length,$=new Array(e);r<e;r++)$[r]=arguments[r];return t.$context()["$=="]("section")&&this.$assign_index(t),st(this,tt.find_super_dispatcher(this,"<<",R,!1),$,n)},R.$$arity=1),tt.defn(V,"$finalize_header",M=function(t,e){var n=rt;return null==e&&(e=!0),this.$clear_playback_attributes(t),this.$save_attributes(),!1!==e&&e!==rt&&null!=e||(n=["invalid-header",!0],st(t,"[]=",tt.to_a(n)),n[et(n.length,1)]),t},M.$$arity=-2),tt.defn(V,"$save_attributes",I=function(){var t,e,n,r,$=this,o=rt,i=rt,s=rt,l=rt,a=rt,c=rt,u=rt,_=rt,d=rt,f=rt;return(o=$.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((t=!1!==(e=$["$attribute_locked?"]("toc"))&&e!==rt&&null!=e?e:$.attributes_modified["$include?"]("toc"))===rt||null==t||t.$$is_boolean&&1!=t)&&(i=["toc",""],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]),((t=!1!==(e=$["$attribute_locked?"]("sectnums"))&&e!==rt&&null!=e?e:$.attributes_modified["$include?"]("sectnums"))===rt||null==t||t.$$is_boolean&&1!=t)&&(i=["sectnums",""],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)])),((t=!1!==(e=o["$key?"]("doctitle"))&&e!==rt&&null!=e?e:(s=$.$doctitle())["$!"]())===rt||null==t||t.$$is_boolean&&1!=t)&&(i=["doctitle",s],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]),((t=$.id)===rt||null==t||t.$$is_boolean&&1!=t)&&($.id=o["$[]"]("css-signature")),l=(t=a=(e=o.$delete("toc2"))===rt||null==e||e.$$is_boolean&&1!=e?o["$[]"]("toc"):"left")===rt||null==t||t.$$is_boolean&&1!=t?rt:(e=c=o.$fetch("toc-placement","macro"),(t=!1!==e&&e!==rt&&null!=e?c["$!="]("auto"):e)===rt||null==t||t.$$is_boolean&&1!=t?o["$[]"]("toc-position"):c),(t=(e=!1!==a&&a!==rt&&null!=a)?!1!==(n=a["$empty?"]()["$!"]())&&n!==rt&&null!=n?n:l["$nil_or_empty?"]()["$!"]():a)===rt||null==t||t.$$is_boolean&&1!=t||(u="left",_="toc2",d=(t=l["$nil_or_empty?"]()["$!"]())===rt||null==t||t.$$is_boolean&&1!=t?(t=a["$empty?"]()["$!"]())===rt||null==t||t.$$is_boolean&&1!=t?u:a:l,i=["toc",""],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)],i=["toc-placement","auto"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)],"left"["$==="](f=d)||"<"["$==="](f)||"&lt;"["$==="](f)?(i=["toc-position","left"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]):"right"["$==="](f)||">"["$==="](f)||"&gt;"["$==="](f)?(i=["toc-position","right"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]):"top"["$==="](f)||"^"["$==="](f)?(i=["toc-position","top"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]):"bottom"["$==="](f)||"v"["$==="](f)?(i=["toc-position","bottom"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]):("preamble"["$==="](f)||"macro"["$==="](f)?(i=["toc-position","content"],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)],i=["toc-placement",d],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]):o.$delete("toc-position"),_=rt),!1!==_&&_!==rt&&null!=_&&(!(t="toc-class")!==(n=(e=o)["$[]"](t))&&n!==rt&&null!=n||e["$[]="](t,_))),(t=o["$key?"]("compat-mode"))===rt||null==t||t.$$is_boolean&&1!=t?$.compat_mode=!1:((t=o["$key?"]("language"))===rt||null==t||t.$$is_boolean&&1!=t||(i=["source-language",o["$[]"]("language")],st(o,"[]=",tt.to_a(i)),i[et(i.length,1)]),$.compat_mode=!0),$.outfilesuffix=o["$[]"]("outfilesuffix"),$.header_attributes=o.$dup(),(t=$.parent_document)===rt||null==t||t.$$is_boolean&&1!=t?st(tt.const_get(Q,"FLEXIBLE_ATTRIBUTES",!0,!0),"each",[],((r=function(t){var e,n,$=r.$$s||this;return null==$.attribute_overrides&&($.attribute_overrides=rt),null==t&&(t=rt),(e=!1!==(n=$.attribute_overrides["$key?"](t))&&n!==rt&&null!=n?$.attribute_overrides["$[]"](t):n)===rt||null==e||e.$$is_boolean&&1!=e?rt:$.attribute_overrides.$delete(t)}).$$s=$,r.$$arity=1,r)):rt},I.$$arity=0),tt.defn(V,"$restore_attributes",C=function(){var t;return((t=this.parent_document)===rt||null==t||t.$$is_boolean&&1!=t)&&this.callouts.$rewind(),this.attributes=this.header_attributes},C.$$arity=0),tt.defn(V,"$clear_playback_attributes",N=function(t){return t.$delete("attribute_entries")},N.$$arity=1),tt.defn(V,"$playback_attributes",j=function(t){var e,o;return(e=t["$key?"]("attribute_entries"))===rt||null==e||e.$$is_boolean&&1!=e?rt:st(t["$[]"]("attribute_entries"),"each",[],((o=function(t){var e,n=o.$$s||this,$=rt,r=rt;return null==n.attributes&&(n.attributes=rt),null==t&&(t=rt),$=t.$name(),(e=t.$negate())===rt||null==e||e.$$is_boolean&&1!=e?(r=[$,t.$value()],st(n.attributes,"[]=",tt.to_a(r)),r[et(r.length,1)],$["$=="]("compat-mode")?n.compat_mode=!0:rt):(n.attributes.$delete($),$["$=="]("compat-mode")?n.compat_mode=!1:rt)}).$$s=this,o.$$arity=1,o))},j.$$arity=1),tt.defn(V,"$set_attribute",L=function(t,e){var n,$=this,r=rt,o=rt,i=rt;return null==e&&(e=""),!!((n=$["$attribute_locked?"](t))===rt||null==n||n.$$is_boolean&&1!=n)&&(r=(n=$.max_attribute_value_size)===rt||null==n||n.$$is_boolean&&1!=n?$.$apply_attribute_value_subs(e):$.$apply_attribute_value_subs(e).$limit_bytesize($.max_attribute_value_size),"backend"["$==="](o=t)?$.$update_backend_attributes(r,$.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](o)?$.$update_doctype_attributes(r):(i=[t,r],st($.attributes,"[]=",tt.to_a(i)),i[et(i.length,1)]),$.attributes_modified["$<<"](t),!0)},L.$$arity=-2),tt.defn(V,"$delete_attribute",z=function(t){var e;return!!((e=this["$attribute_locked?"](t))===rt||null==e||e.$$is_boolean&&1!=e)&&(this.attributes.$delete(t),this.attributes_modified["$<<"](t),!0)},z.$$arity=1),tt.defn(V,"$attribute_locked?",P=function(t){return this.attribute_overrides["$key?"](t)},P.$$arity=1),tt.defn(V,"$apply_attribute_value_subs",D=function(t){var e,n=rt;return(e=n=tt.const_get(Q,"AttributeEntryPassMacroRx",!0,!0).$match(t))===rt||null==e||e.$$is_boolean&&1!=e?this.$apply_header_subs(t):(e=n["$[]"](1)["$empty?"]())===rt||null==e||e.$$is_boolean&&1!=e?this.$apply_subs(n["$[]"](2),this.$resolve_pass_subs(n["$[]"](1))):n["$[]"](2)},D.$$arity=1),tt.defn(V,"$update_backend_attributes",B=function(t,e){var n,$,r=this,o=rt,i=rt,s=rt,l=rt,a=rt,c=rt,u=rt,_=rt,d=rt,f=rt,p=rt;return null==e&&(e=!1),(n=!1!==($=e)&&$!==rt&&null!=$?$:!1!==t&&t!==rt&&null!=t?t["$!="](r.attributes["$[]"]("backend")):t)===rt||null==n||n.$$is_boolean&&1!=n?rt:(i=(o=r.attributes)["$[]"]("backend"),s=o["$[]"]("basebackend"),l=o["$[]"]("doctype"),(n=t["$start_with?"]("xhtml"))===rt||null==n||n.$$is_boolean&&1!=n?(n=t["$start_with?"]("html"))===rt||null==n||n.$$is_boolean&&1!=n||o["$[]"]("htmlsyntax")["$=="]("xml")||(a=["htmlsyntax","html"],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)]):(a=["htmlsyntax","xml"],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],t=t["$[]"](lt(1,-1,!1))),(n=c=tt.const_get(Q,"BACKEND_ALIASES",!0,!0)["$[]"](t))===rt||null==n||n.$$is_boolean&&1!=n||(t=c),!1!==i&&i!==rt&&null!=i&&(o.$delete("backend-"+i),!1!==l&&l!==rt&&null!=l&&o.$delete("backend-"+i+"-doctype-"+l)),!1!==l&&l!==rt&&null!=l&&(a=["doctype-"+l,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],a=["backend-"+t+"-doctype-"+l,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)]),a=["backend",t],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],a=["backend-"+t,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],(n=tt.const_get([tt.const_get(Q,"Converter",!0,!0).$$scope],"BackendInfo",!0,!0)["$==="](r.converter=r.$create_converter()))===rt||null==n||n.$$is_boolean&&1!=n?(u=t.$sub(tt.const_get(Q,"TrailingDigitsRx",!0,!0),""),(n=d=tt.const_get(Q,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](u))===rt||null==n||n.$$is_boolean&&1!=n?(d=".html",u=_="html"):_=d["$[]"](lt(1,-1,!1)),((n=r["$attribute_locked?"]("outfilesuffix"))===rt||null==n||n.$$is_boolean&&1!=n)&&(a=["outfilesuffix",d],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)])):(u=r.converter.$basebackend(),((n=r["$attribute_locked?"]("outfilesuffix"))===rt||null==n||n.$$is_boolean&&1!=n)&&(a=["outfilesuffix",r.converter.$outfilesuffix()],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)]),_=r.converter.$filetype()),(n=f=o["$[]"]("filetype"))===rt||null==n||n.$$is_boolean&&1!=n||o.$delete("filetype-"+f),a=["filetype",_],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],a=["filetype-"+_,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],(n=p=tt.const_get(Q,"DEFAULT_PAGE_WIDTHS",!0,!0)["$[]"](u))===rt||null==n||n.$$is_boolean&&1!=n?o.$delete("pagewidth"):(a=["pagewidth",p],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)]),(n=u["$!="](s))===rt||null==n||n.$$is_boolean&&1!=n||(!1!==s&&s!==rt&&null!=s&&(o.$delete("basebackend-"+s),!1!==l&&l!==rt&&null!=l&&o.$delete("basebackend-"+s+"-doctype-"+l)),a=["basebackend",u],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],a=["basebackend-"+u,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)],!1!==l&&l!==rt&&null!=l&&(a=["basebackend-"+u+"-doctype-"+l,""],st(o,"[]=",tt.to_a(a)),a[et(a.length,1)])),r.backend=rt)},B.$$arity=-2),tt.defn(V,"$update_doctype_attributes",q=function(t){var e,n=rt,$=rt,r=rt,o=rt,i=rt;return(e=!1!==t&&t!==rt&&null!=t?t["$!="](this.attributes["$[]"]("doctype")):t)===rt||null==e||e.$$is_boolean&&1!=e?rt:($=(n=this.attributes)["$[]"]("doctype"),r=n["$[]"]("backend"),o=n["$[]"]("basebackend"),!1!==$&&$!==rt&&null!=$&&(n.$delete("doctype-"+$),!1!==r&&r!==rt&&null!=r&&n.$delete("backend-"+r+"-doctype-"+$),!1!==o&&o!==rt&&null!=o&&n.$delete("basebackend-"+o+"-doctype-"+$)),i=["doctype",t],st(n,"[]=",tt.to_a(i)),i[et(i.length,1)],i=["doctype-"+t,""],st(n,"[]=",tt.to_a(i)),i[et(i.length,1)],!1!==r&&r!==rt&&null!=r&&(i=["backend-"+r+"-doctype-"+t,""],st(n,"[]=",tt.to_a(i)),i[et(i.length,1)]),!1!==o&&o!==rt&&null!=o&&(i=["basebackend-"+o+"-doctype-"+t,""],st(n,"[]=",tt.to_a(i)),i[et(i.length,1)]),this.doctype=rt)},q.$$arity=1),tt.defn(V,"$create_converter",U=function(){var t,e,n,$=this,r=rt,o=rt,i=rt;return e=it([],{}),r=["htmlsyntax",$.attributes["$[]"]("htmlsyntax")],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)],!1!==(o=(t=i=$.options["$[]"]("template_dir"))===rt||null==t||t.$$is_boolean&&1!=t?(t=o=$.options["$[]"]("template_dirs"))===rt||null==t||t.$$is_boolean&&1!=t?rt:(r=["template_dirs",o],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)]):(r=["template_dirs",[i]],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)]))&&o!==rt&&null!=o&&(r=["template_cache",$.options.$fetch("template_cache",!0)],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)],r=["template_engine",$.options["$[]"]("template_engine")],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)],r=["template_engine_options",$.options["$[]"]("template_engine_options")],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)],r=["eruby",$.options["$[]"]("eruby")],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)],r=["safe",$.safe],st(e,"[]=",tt.to_a(r)),r[et(r.length,1)]),((t=n=$.options["$[]"]("converter"))===rt||null==t||t.$$is_boolean&&1!=t?tt.const_get([tt.const_get(Q,"Converter",!0,!0).$$scope],"Factory",!0,!0).$default(!1):tt.const_get([tt.const_get(Q,"Converter",!0,!0).$$scope],"Factory",!0,!0).$new(tt.const_get([tt.Object.$$scope],"Hash",!0,!0)["$[]"]($.$backend(),n))).$create($.$backend(),e)},U.$$arity=0),tt.defn(V,"$convert",F=function(t){var e,n,$,r=this,o=rt,i=rt,s=rt,l=rt,a=rt;return null==t&&(t=it([],{})),((e=r.parsed)===rt||null==e||e.$$is_boolean&&1!=e)&&r.$parse(),((e=!1!==(n=nt(r.safe,tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))&&n!==rt&&null!=n?n:t["$empty?"]())===rt||null==e||e.$$is_boolean&&1!=e)&&(o=["outfile",t["$[]"]("outfile")],st(r.attributes,"[]=",tt.to_a(o)),((e=o[et(o.length,1)])===rt||null==e||e.$$is_boolean&&1!=e)&&r.attributes.$delete("outfile"),o=["outdir",t["$[]"]("outdir")],st(r.attributes,"[]=",tt.to_a(o)),((e=o[et(o.length,1)])===rt||null==e||e.$$is_boolean&&1!=e)&&r.attributes.$delete("outdir")),((e=r.converter)===rt||null==e||e.$$is_boolean&&1!=e)&&r.$fail("asciidoctor: FAILED: missing converter for backend '"+r.$backend()+"'. Processing aborted."),r.$doctype()["$=="]("inline")?(n=i=r.blocks["$[]"](0),s=(e=!1!==n&&n!==rt&&null!=n?i.$content_model()["$!="]("compound"):n)===rt||null==e||e.$$is_boolean&&1!=e?rt:i.$content()):(l=(e=(n=t["$key?"]("header_footer"))===rt||null==n||n.$$is_boolean&&1!=n?r.options["$[]"]("header_footer"):t["$[]"]("header_footer"))===rt||null==e||e.$$is_boolean&&1!=e?"embedded":"document",s=r.converter.$convert(r,l)),((e=r.parent_document)===rt||null==e||e.$$is_boolean&&1!=e)&&(n=a=r.extensions,(e=!1!==n&&n!==rt&&null!=n?a["$postprocessors?"]():n)===rt||null==e||e.$$is_boolean&&1!=e||st(a.$postprocessors(),"each",[],(($=function(t){var e=$.$$s||this;return null==t&&(t=rt),s=t.$process_method()["$[]"](e,s)}).$$s=r,$.$$arity=1,$))),s},F.$$arity=-1),tt.alias(V,"render","convert"),tt.defn(V,"$write",G=function(e,t){var n,$;return(n=tt.const_get(Q,"Writer",!0,!0)["$==="](this.converter))===rt||null==n||n.$$is_boolean&&1!=n?((n=t["$respond_to?"]("write"))===rt||null==n||n.$$is_boolean&&1!=n?st(tt.const_get([tt.Object.$$scope],"File",!0,!0),"open",[t,"w"],(($=function(t){return $.$$s,null==t&&(t=rt),t.$write(e)}).$$s=this,$.$$arity=1,$)):((n=e["$nil_or_empty?"]())===rt||null==n||n.$$is_boolean&&1!=n)&&(t.$write(e.$chomp()),t.$write(tt.const_get(Q,"EOL",!0,!0))),rt):this.converter.$write(e,t)},G.$$arity=2),tt.defn(V,"$content",H=function(){var t,e=H.$$p,n=rt,$=rt;for(e&&(H.$$p=null),$=0,t=arguments.length,n=new Array(t);$<t;$++)n[$]=arguments[$];return this.attributes.$delete("title"),st(this,tt.find_super_dispatcher(this,"content",H,!1),n,e)},H.$$arity=0),tt.defn(V,"$docinfo",Y=function(t,e){var n,$,r,o,i,s=this,l=rt,a=rt,c=rt,u=rt,_=rt,d=rt,f=rt,p=rt,h=rt;return null==t&&(t="head"),null==e&&(e=rt),(n=nt(s.$safe(),tt.const_get([tt.const_get(Q,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===rt||null==n||n.$$is_boolean&&1!=n?(l=t["$=="]("head")?rt:"-"+t,!1!==e&&e!==rt&&null!=e||(e=s.outfilesuffix),a=s.attributes["$[]"]("docinfodir"),c=rt,!1!==(u=(n=(u=s.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===rt||null==n||n.$$is_boolean&&1!=n?st(u.$split(","),"map",[],"strip".$to_proc()):(n=s.attributes["$key?"]("docinfo2"))===rt||null==n||n.$$is_boolean&&1!=n?(n=s.attributes["$key?"]("docinfo1"))===rt||null==n||n.$$is_boolean&&1!=n?!1!==u&&u!==rt&&null!=u?["private"]:rt:["shared"]:["private","shared"])&&u!==rt&&null!=u&&(_="docinfo"+l+e,((n=u["$&"](["shared","shared-"+t])["$empty?"]())===rt||null==n||n.$$is_boolean&&1!=n)&&(d=s.$normalize_system_path(_,a),(n=c=s.$read_asset(d,it(["normalize"],{normalize:!0})))===rt||null==n||n.$$is_boolean&&1!=n||((n=(!1!==($=f)&&$!==rt&&null!=$?$:f=s.$resolve_docinfo_subs())["$empty?"]())===rt||null==n||n.$$is_boolean&&1!=n)&&(c=(n=f["$=="]("attributes"))===rt||null==n||n.$$is_boolean&&1!=n?s.$apply_subs(c,f):s.$sub_attributes(c))),((n=!1!==($=s.attributes["$[]"]("docname")["$nil_or_empty?"]())&&$!==rt&&null!=$?$:u["$&"](["private","private-"+t])["$empty?"]())===rt||null==n||n.$$is_boolean&&1!=n)&&(d=s.$normalize_system_path(s.attributes["$[]"]("docname")+"-"+_,a),(n=p=s.$read_asset(d,it(["normalize"],{normalize:!0})))===rt||null==n||n.$$is_boolean&&1!=n||(((n=(!1!==($=f)&&$!==rt&&null!=$?$:f=s.$resolve_docinfo_subs())["$empty?"]())===rt||null==n||n.$$is_boolean&&1!=n)&&(p=(n=f["$=="]("attributes"))===rt||null==n||n.$$is_boolean&&1!=n?s.$apply_subs(p,f):s.$sub_attributes(p)),c=!1!==c&&c!==rt&&null!=c?""+c+tt.const_get(Q,"EOL",!0,!0)+p:p))),$=s.extensions,(n=!1!==$&&$!==rt&&null!=$?s["$docinfo_processors?"](t):$)===rt||null==n||n.$$is_boolean&&1!=n||(o=st(s.docinfo_processor_extensions["$[]"](t),"map",[],(r=function(t){var e=r.$$s||this;return null==t&&(t=rt),t.$process_method()["$[]"](e)},r.$$s=s,r.$$arity=1,r)).$compact(),i=tt.const_get(Q,"EOL",!0,!0),h="number"==typeof o&&"number"==typeof i?o*i:o["$*"](i),c=!1!==c&&c!==rt&&null!=c?""+c+tt.const_get(Q,"EOL",!0,!0)+h:h),""+c):""},Y.$$arity=-1),tt.defn(V,"$resolve_docinfo_subs",K=function(){var t;return(t=this.attributes["$key?"]("docinfosubs"))===rt||null==t||t.$$is_boolean&&1!=t?"attributes":this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",rt,"docinfo")},K.$$arity=0),tt.defn(V,"$docinfo_processors?",W=function(t){var e,n,$=rt;return null==t&&(t="head"),(e=this.docinfo_processor_extensions["$key?"](t))===rt||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=this.extensions)&&n!==rt&&null!=n?this.document.$extensions()["$docinfo_processors?"](t):n)===rt||null==e||e.$$is_boolean&&1!=e?($=[t,!1],st(this.docinfo_processor_extensions,"[]=",tt.to_a($)),$[et($.length,1)]):($=[t,this.document.$extensions().$docinfo_processors(t)],st(this.docinfo_processor_extensions,"[]=",tt.to_a($)),$[et($.length,1)])["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](t)["$!="](!1)},W.$$arity=-1),tt.defn(V,"$to_s",X=function(){var t,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {doctype: "+e.$doctype().$inspect()+", doctitle: "+((t=e.header["$!="](rt))===rt||null==t||t.$$is_boolean&&1!=t?rt:e.header.$title()).$inspect()+", blocks: "+e.blocks.$size()+"}>"},X.$$arity=0)}($.base,tt.const_get(r,"AbstractBlock",!0,!0),r)},Opal.modules["asciidoctor/inline"]=function(c){c.top;var t,e,n,$,r,o=c,i=[c],u=c.nil,s=(c.breaker,c.slice,c.module),_=c.klass,d=c.send,f=c.hash2;return c.add_stubs(["$attr_reader","$attr_accessor","$[]","$nil_or_empty?","$update_attributes","$convert","$converter"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var s,r,o,i,l=$=_(t,e,"Inline",$),a=(l.$$proto,l.$$scope);n.slice().concat(a),l.$attr_reader("text"),l.$attr_reader("type"),l.$attr_accessor("target"),c.defn(l,"$initialize",s=function(t,e,n,$){var r,o,i=s.$$p;return null==n&&(n=u),null==$&&($=f([],{})),i&&(s.$$p=null),d(this,c.find_super_dispatcher(this,"initialize",s,!1),[t,e],null),this.node_name="inline_"+e,this.text=n,this.id=$["$[]"]("id"),this.type=$["$[]"]("type"),this.target=$["$[]"]("target"),(r=(o=$["$[]"]("attributes"))["$nil_or_empty?"]())===u||null==r||r.$$is_boolean&&1!=r?this.$update_attributes(o):u},s.$$arity=-3),c.defn(l,"$block?",r=function(){return!1},r.$$arity=0),c.defn(l,"$inline?",o=function(){return!0},o.$$arity=0),c.defn(l,"$convert",i=function(){return this.$converter().$convert(this)},i.$$arity=0),c.alias(l,"render","convert")}($.base,c.const_get(r,"AbstractNode",!0,!0),r)},Opal.modules["asciidoctor/list"]=function(h){h.top;var t,e,n,$,r,o=h,i=[h],g=h.nil,s=(h.breaker,h.slice,h.module),b=h.klass,m=h.send;return h.add_stubs(["$==","$next_list","$callouts","$class","$object_id","$inspect","$size","$items","$attr_accessor","$level","$dup","$!","$nil_or_empty?","$apply_subs","$empty?","$===","$[]","$outline?","$simple?","$context","$option?","$shift","$blocks","$unshift","$lines","$source","$parent"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),function(t,e,n){function $(){}var i,r,o,s,l=$=b(t,e,"List",$),a=l.$$proto,c=l.$$scope;n.slice().concat(c),a.context=a.document=a.style=g,h.alias(l,"items","blocks"),h.alias(l,"content","blocks"),h.alias(l,"items?","blocks?"),h.defn(l,"$initialize",i=function(t,e){var n,$=i.$$p,r=g,o=g;for($&&(i.$$p=null),o=0,n=arguments.length,r=new Array(n);o<n;o++)r[o]=arguments[o];return m(this,h.find_super_dispatcher(this,"initialize",i,!1),r,$)},i.$$arity=2),h.defn(l,"$outline?",r=function(){var t;return!1!==(t=this.context["$=="]("ulist"))&&t!==g&&null!=t?t:this.context["$=="]("olist")},r.$$arity=0),h.defn(l,"$convert",o=function(){var t,e=o.$$p,n=g,$=g,r=g;for(e&&(o.$$p=null),r=0,t=arguments.length,$=new Array(t);r<t;r++)$[r]=arguments[r];return this.context["$=="]("colist")?(n=m(this,h.find_super_dispatcher(this,"convert",o,!1),$,e),this.document.$callouts().$next_list(),n):m(this,h.find_super_dispatcher(this,"convert",o,!1),$,e)},o.$$arity=0),h.alias(l,"render","convert"),h.defn(l,"$to_s",s=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},s.$$arity=0)}($.base,h.const_get(r,"AbstractBlock",!0,!0),r),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_=$=b(t,e,"ListItem",$),d=_.$$proto,f=_.$$scope,p=n.slice().concat(f);d.text=d.subs=d.blocks=g,h.alias(_,"list","parent"),_.$attr_accessor("marker"),h.defn(_,"$initialize",r=function(t,e){var n=r.$$p;return null==e&&(e=g),n&&(r.$$p=null),m(this,h.find_super_dispatcher(this,"initialize",r,!1),[t,"list_item"],null),this.text=e,this.level=t.$level(),this.subs=h.const_get(p,"NORMAL_SUBS",!0,!0).$dup()},r.$$arity=-2),h.defn(_,"$text?",o=function(){return this.text["$nil_or_empty?"]()["$!"]()},o.$$arity=0),h.defn(_,"$text",i=function(){return this.$apply_subs(this.text,this.subs)},i.$$arity=0),h.defn(_,"$text=",s=function(t){return this.text=t},s.$$arity=1),h.defn(_,"$simple?",l=function(){var t,e,n=g;return!1!==(t=this.blocks["$empty?"]())&&t!==g&&null!=t?t:!1!==(e=this.blocks.$size()["$=="](1)?h.const_get(p,"List",!0,!0)["$==="](n=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))&&e!==g&&null!=e?n["$outline?"]():e},l.$$arity=0),h.defn(_,"$compound?",a=function(){return this["$simple?"]()["$!"]()},a.$$arity=0),h.defn(_,"$fold_first",c=function(t,e){var n,$,r,o,i,s,l=g,a=g;return null==t&&(t=!1),null==e&&(e=!1),(n=!1!==($=!1!==(r=l=this.blocks["$[]"](0))&&r!==g&&null!=r?h.const_get(p,"Block",!0,!0)["$==="](l):r)&&$!==g&&null!=$?!1!==(r=(o=l.$context()["$=="]("paragraph"))?t["$!"]():l.$context()["$=="]("paragraph"))&&r!==g&&null!=r?r:!1!==(o=!1!==(i=!1!==(s=e)&&s!==g&&null!=s?s:t["$!"]())&&i!==g&&null!=i?l.$context()["$=="]("literal"):i)&&o!==g&&null!=o?l["$option?"]("listparagraph"):o:$)===g||null==n||n.$$is_boolean&&1!=n||(a=this.$blocks().$shift(),((n=this.text["$nil_or_empty?"]())===g||null==n||n.$$is_boolean&&1!=n)&&a.$lines().$unshift(this.text),this.text=a.$source()),g},c.$$arity=-1),h.defn(_,"$to_s",u=function(){var t;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(t=this.blocks)&&t!==g&&null!=t?t:[]).$size()+"}>"},u.$$arity=0)}($.base,h.const_get(r,"AbstractBlock",!0,!0),r)},Opal.modules["asciidoctor/parser"]=function(vt){function wt(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function xt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function kt(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function Q(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function Ot(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}vt.top;var t,e,n,$,r,o=vt,i=[vt],Et=vt.nil,s=(vt.breaker,vt.slice,vt.module),tt=vt.klass,At=vt.send,St=vt.hash2,et=vt.hash,Rt=vt.range,nt=vt.gvars;return vt.add_stubs(["$new","$lambda","$start_with?","$match?","$is_delimited_block?","$raise","$parse_document_header","$[]","$has_more_lines?","$next_section","$<<","$parse_block_metadata_lines","$is_next_line_document_title?","$key?","$finalize_header","$nil_or_empty?","$attributes","$title=","$-","$sourcemap","$cursor","$parse_section_title","$id=","$attribute_locked?","$set_attr","$delete","$source_location=","$header","$[]=","$id","$parse_style_attribute","$parse_header_metadata","$==","$doctype","$parse_manpage_header","$match","$sub_attributes","$downcase","$rstrip","$strip","$warn","$prev_line_info","$skip_blank_lines","$is_next_line_section?","$initialize_section","$level","$tr_s","$join","$read_lines_until","$backend","$context","$empty?","$blocks","$has_header?","$!","$!=","$attr?","$attr","$document","$special","$include?","$sectname","$+","$to_i","$>","$line_info","$size","$*","$next_block","$blocks?","$style","$context=","$style=","$parent=","$content_model","$shift","$unwrap_standalone_preamble","$dup","$fetch","$extensions","$block_macros?","$===","$parse_block_metadata_line","$advance","$read_line","$terminator","$to_s","$masq","$to_sym","$registered_for_block?","$strict_verbatim_paragraphs","$unshift_line","$markdown_syntax","$chr","$lstrip","$>=","$length","$end_with?","$parse_attributes","$attribute_missing","$clear","$registered_for_block_macro?","$config","$each","$process_method","$replace","$peek_line","$path","$lineno","$next_list_item","$callout_ids","$callouts","$items","$next_list","$next_outline_list","$none?","$marker","$find","$next_description_list","$is_section_title?","$underline_style_section_titles","$generate_id","$title","$level=","$read_paragraph_lines","$adjust_indentation!","$set_option","$catalog_inline_anchors","$post_match","$map!","$split","$pop","$build_block","$blockquote?","$chop","$index","$<","$rekey","$next_table","$concat","$title?","$register","$tr","$basename","$sub_specialchars","$assign_caption","$ord","$caption","$caption=","$update","$lock_in_subs","$sub?","$catalog_callouts","$source","$remove_sub","$block_terminates_paragraph","$to_proc","$<=","$nil?","$lines","$parse_blocks","$resolve_list_marker","$items?","$parent","$scan","$marker=","$read_lines_for_list_item","$skip_line_comments","$unshift_lines","$fold_first","$text?","$is_sibling_list_item?","$=~","$delete_at","$sectname=","$special=","$casecmp","$update_attributes","$peek_lines","$is_single_line_section_title?","$is_two_line_section_title?","$abs","$line_length","$process_attribute_entries","$next_line_empty?","$process_authors","$apply_header_subs","$each_with_index","$map","$compact","$Array","$to_a","$process_attribute_entry","$skip_comment_lines","$store_attribute","$sanitize_attribute_name","$set_attribute","$delete_attribute","$save_to","$resolve_ordered_list_marker","$roman_numeral_to_int","$parse_colspecs","$create_columns","$has_header_option=","$format","$starts_with_delimiter?","$close_open_cell","$parse_cellspec","$delimiter","$match_delimiter","$buffer_has_unclosed_quotes?","$pre_match","$skip_matched_delimiter","$buffer","$buffer=","$keep_cell_open","$push_cellspec","$close_cell","$cell_open?","$columns","$assign_column_widths","$partition_header_footer","$upto","$shorthand_property_syntax","$each_char","$call","$sub!","$gsub!","$%","$begin","$gsub"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K,W,X,V,J=$=tt(t,null,"Parser",$),Z=(J.$$proto,J.$$scope),yt=n.slice().concat(Z);vt.cdecl(Z,"BlockMatchData",vt.const_get(yt,"Struct",!0,!0).$new("context","masq","tip","terminator")),vt.cdecl(Z,"TabRx",/\t/),vt.cdecl(Z,"TabIndentRx",/^\t+/),vt.cdecl(Z,"StartOfBlockProc",At(J,"lambda",[],((r=function(t){var e,n,$=r.$$s||this;return null==t&&(t=Et),!1!==(e=!1!==(n=t["$start_with?"]("["))&&n!==Et&&null!=n?vt.const_get(yt,"BlockAttributeLineRx",!0,!0)["$match?"](t):n)&&e!==Et&&null!=e?e:$["$is_delimited_block?"](t)}).$$s=J,r.$$arity=1,r))),vt.cdecl(Z,"StartOfListProc",At(J,"lambda",[],((o=function(t){return o.$$s,null==t&&(t=Et),vt.const_get(yt,"AnyListRx",!0,!0)["$match?"](t)}).$$s=J,o.$$arity=1,o))),vt.cdecl(Z,"StartOfBlockOrListProc",At(J,"lambda",[],((i=function(t){var e,n,$,r=i.$$s||this;return null==t&&(t=Et),!1!==(e=!1!==(n=r["$is_delimited_block?"](t))&&n!==Et&&null!=n?n:!1!==($=t["$start_with?"]("["))&&$!==Et&&null!=$?vt.const_get(yt,"BlockAttributeLineRx",!0,!0)["$match?"](t):$)&&e!==Et&&null!=e?e:vt.const_get(yt,"AnyListRx",!0,!0)["$match?"](t)}).$$s=J,i.$$arity=1,i))),vt.cdecl(Z,"NoOp",Et),vt.defn(J,"$initialize",s=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},s.$$arity=0),vt.defs(J,"$parse",l=function(t,e,n){var $,r,o,i=Et,s=Et;if(null==n&&(n=St([],{})),i=this.$parse_document_header(t,e),($=n["$[]"]("header_only"))===Et||null==$||$.$$is_boolean&&1!=$)for(;(r=t["$has_more_lines?"]())!==Et&&null!=r&&(!r.$$is_boolean||1==r);)o=this.$next_section(t,e,i),s=null==(r=vt.to_ary(o))[0]?Et:r[0],i=null==r[1]?Et:r[1],!1!==s&&s!==Et&&null!=s&&e["$<<"](s);return e},l.$$arity=-3),vt.defs(J,"$parse_document_header",a=function(t,e){var n,$,r,o=Et,i=Et,s=Et,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et;return o=this.$parse_block_metadata_lines(t,e),(n=!1!==($=r=this["$is_next_line_document_title?"](t,o))&&$!==Et&&null!=$?o["$key?"]("title"):$)===Et||null==n||n.$$is_boolean&&1!=n?(i=Et,((n=(s=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===Et||null==n||n.$$is_boolean&&1!=n)&&(l=[i=s],At(e,"title=",vt.to_a(l)),l[wt(l.length,1)]),a=Et,!1!==r&&r!==Et&&null!=r&&((n=e.$sourcemap())===Et||null==n||n.$$is_boolean&&1!=n||(c=t.$cursor()),$=this.$parse_section_title(t,e),n=vt.to_ary($),e["$id="](null==n[0]?Et:n[0]),null==n[1]||n[1],u=null==n[2]?Et:n[2],null==n[3]||n[3],_=null==n[4]?Et:n[4],!1!==i&&i!==Et&&null!=i||(l=[i=u],At(e,"title=",vt.to_a(l)),l[wt(l.length,1)]),((n=!1!==($=_)&&$!==Et&&null!=$?$:e["$attribute_locked?"]("compat-mode"))===Et||null==n||n.$$is_boolean&&1!=n)&&e.$set_attr("compat-mode"),(n=d=o.$delete("separator"))===Et||null==n||n.$$is_boolean&&1!=n||((n=e["$attribute_locked?"]("title-separator"))===Et||null==n||n.$$is_boolean&&1!=n)&&e.$set_attr("title-separator",d),!1!==c&&c!==Et&&null!=c&&(l=[c],At(e.$header(),"source_location=",vt.to_a(l)),l[wt(l.length,1)]),l=["doctitle",a=u],At(e.$attributes(),"[]=",vt.to_a(l)),l[wt(l.length,1)],(n=e.$id())===Et||null==n||n.$$is_boolean&&1!=n?((n=f=o.$delete(1))===Et||null==n||n.$$is_boolean&&1!=n||(p=et(1,f),this.$parse_style_attribute(p,t),(n=p["$key?"]("id"))===Et||null==n||n.$$is_boolean&&1!=n||(l=["id",p["$[]"]("id")],At(o,"[]=",vt.to_a(l)),l[wt(l.length,1)])),l=[o.$delete("id")],At(e,"id=",vt.to_a(l)),l[wt(l.length,1)]):(o.$delete(1),o.$delete("id")),this.$parse_header_metadata(t,e)),((n=!1!==($=(s=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&$!==Et&&null!=$?$:s["$=="](a))===Et||null==n||n.$$is_boolean&&1!=n)&&(l=[i=s],At(e,"title=",vt.to_a(l)),l[wt(l.length,1)]),!1!==i&&i!==Et&&null!=i&&(l=["doctitle",i],At(e.$attributes(),"[]=",vt.to_a(l)),l[wt(l.length,1)]),e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(t,e),e.$finalize_header(o)):e.$finalize_header(o,!1)},a.$$arity=2),vt.defs(J,"$parse_manpage_header",c=function(t,e){var n,$=Et,r=Et,o=Et;return(n=$=vt.const_get(yt,"ManpageTitleVolnumRx",!0,!0).$match(e.$attributes()["$[]"]("doctitle")))===Et||null==n||n.$$is_boolean&&1!=n?(this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": malformed manpage title"),r=["mantitle",e.$attributes()["$[]"]("doctitle")],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["manvolnum","1"]):(r=["mantitle",e.$sub_attributes($["$[]"](1).$rstrip().$downcase())],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["manvolnum",$["$[]"](2).$strip()]),At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],t.$skip_blank_lines(),(n=this["$is_next_line_section?"](t,St([],{})))===Et||null==n||n.$$is_boolean&&1!=n?this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": name section expected"):this.$initialize_section(t,e,St([],{})).$level()["$=="](1)?(o=t.$read_lines_until(St(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(n=$=vt.const_get(yt,"ManpageNamePurposeRx",!0,!0).$match(o))===Et||null==n||n.$$is_boolean&&1!=n?this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": malformed name section body"):(r=["manname",e.$sub_attributes($["$[]"](1))],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["manpurpose",$["$[]"](2)],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],e.$backend()["$=="]("manpage")?(r=["docname",e.$attributes()["$[]"]("manname")],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["outfilesuffix","."+e.$attributes()["$[]"]("manvolnum")],At(e.$attributes(),"[]=",vt.to_a(r)),r[wt(r.length,1)]):Et)):this.$warn("asciidoctor: ERROR: "+t.$prev_line_info()+": name section title must be at level 1")},c.$$arity=2),vt.defs(J,"$next_section",u=function(t,e,n){var $,r,o,i,s=this,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et,g=Et,b=Et,m=Et,y=Et,v=Et,w=Et,x=Et,k=Et;for(null==n&&(n=St([],{})),c=a=l=!1,r=(o=e.$context()["$=="]("document"))?e.$blocks()["$empty?"]():e.$context()["$=="]("document"),($=!1!==r&&r!==Et&&null!=r?!1!==(o=!1!==(i=u=e["$has_header?"]())&&i!==Et&&null!=i?i:n.$delete("invalid-header"))&&o!==Et&&null!=o?o:s["$is_next_line_section?"](t,n)["$!"]():r)===Et||null==$||$.$$is_boolean&&1!=$?(_=(d=e.$document()).$doctype(),p=s.$initialize_section(t,e,n),n=($=b=n["$[]"]("title"))===Et||null==$||$.$$is_boolean&&1!=$?St([],{}):St(["title"],{title:b}),h=p.$level(),($=(r=h["$=="](0))?_["$=="]("book"):h["$=="](0))===Et||null==$||$.$$is_boolean&&1!=$?g=[xt(h,1)]:(a=p.$special()["$!"](),r=p.$special(),g=($=!1!==r&&r!==Et&&null!=r?["preface","appendix"]["$include?"](p.$sectname()):r)===Et||null==$||$.$$is_boolean&&1!=$?[xt(h,1)]:[xt(h,2)])):(_=(d=e).$doctype(),($=!1!==(r=u)&&r!==Et&&null!=r?r:(o=_["$=="]("book"))?n["$[]"](1)["$!="]("abstract"):_["$=="]("book"))===Et||null==$||$.$$is_boolean&&1!=$||(l=c=vt.const_get(yt,"Block",!0,!0).$new(e,"preamble",St(["content_model"],{content_model:"compound"})),($=(r=_["$=="]("book"))?e["$attr?"]("preface-title"):_["$=="]("book"))===Et||null==$||$.$$is_boolean&&1!=$||(f=[e.$attr("preface-title")],At(l,"title=",vt.to_a(f)),f[wt(f.length,1)]),e["$<<"](l)),h=0,g=($=(p=e).$attributes()["$key?"]("fragment"))===Et||null==$||$.$$is_boolean&&1!=$?_["$=="]("book")?[0,1]:[1]:Et),t.$skip_blank_lines();(r=t["$has_more_lines?"]())!==Et&&null!=r&&(!r.$$is_boolean||1==r);){if(s.$parse_block_metadata_lines(t,p,n),(r=m=s["$is_next_line_section?"](t,n))===Et||null==r||r.$$is_boolean&&1!=r)v=t.$line_info(),(r=w=s.$next_block(t,!1!==(o=c)&&o!==Et&&null!=o?o:p,n,St(["parse_metadata"],{parse_metadata:!1})))===Et||null==r||r.$$is_boolean&&1!=r||(!1!==a&&a!==Et&&null!=a&&((r=p["$blocks?"]()["$!"]())===Et||null==r||r.$$is_boolean&&1!=r?p.$blocks().$size()["$=="](1)&&(x=p.$blocks()["$[]"](0),o=c["$!"](),(r=!1!==o&&o!==Et&&null!=o?x.$content_model()["$=="]("compound"):o)===Et||null==r||r.$$is_boolean&&1!=r?(r=x.$content_model()["$!="]("compound"))===Et||null==r||r.$$is_boolean&&1!=r||(c=vt.const_get(yt,"Block",!0,!0).$new(p,"open",St(["content_model"],{content_model:"compound"})),f=["partintro"],At(c,"style=",vt.to_a(f)),f[wt(f.length,1)],p.$blocks().$shift(),x.$style()["$=="]("partintro")&&(f=["paragraph"],At(x,"context=",vt.to_a(f)),f[wt(f.length,1)],f=[Et],At(x,"style=",vt.to_a(f)),f[wt(f.length,1)]),f=[c],At(x,"parent=",vt.to_a(f)),f[wt(f.length,1)],c["$<<"](x),f=[c],At(w,"parent=",vt.to_a(f)),f[wt(f.length,1)],p["$<<"](c)):s.$warn("asciidoctor: ERROR: "+v+": illegal block content outside of partintro block")):(r=w.$style()["$!="]("partintro"))===Et||null==r||r.$$is_boolean&&1!=r||(w.$context()["$=="]("paragraph")?(f=["open"],At(w,"context=",vt.to_a(f)),f[wt(f.length,1)],f=["partintro"],At(w,"style=",vt.to_a(f)),f[wt(f.length,1)]):(c=vt.const_get(yt,"Block",!0,!0).$new(p,"open",St(["content_model"],{content_model:"compound"})),f=["partintro"],At(c,"style=",vt.to_a(f)),f[wt(f.length,1)],f=[c],At(w,"parent=",vt.to_a(f)),f[wt(f.length,1)],p["$<<"](c)))),(!1!==(r=c)&&r!==Et&&null!=r?r:p)["$<<"](w),n=St([],{}));else{if((r=d["$attr?"]("leveloffset"))===Et||null==r||r.$$is_boolean&&1!=r||(m=xt(m,d.$attr("leveloffset").$to_i())),(r=!1!==(o=kt(m,h))&&o!==Et&&null!=o?o:(i=m["$=="](0))?p.$context()["$=="]("document"):m["$=="](0))===Et||null==r||r.$$is_boolean&&1!=r){(r=(o=m["$=="](0))?_["$!="]("book"):m["$=="](0))===Et||null==r||r.$$is_boolean&&1!=r||s.$warn("asciidoctor: ERROR: "+t.$line_info()+": only book doctypes can contain level 0 sections");break}(r=(o=m["$=="](0))?_["$!="]("book"):m["$=="](0))===Et||null==r||r.$$is_boolean&&1!=r?(r=(o=!1!==g&&g!==Et&&null!=g)?g["$include?"](m)["$!"]():g)===Et||null==r||r.$$is_boolean&&1!=r||s.$warn("asciidoctor: WARNING: "+t.$line_info()+": section title out of sequence: expected "+((r=kt(g.$size(),1))===Et||null==r||r.$$is_boolean&&1!=r?"level":"levels")+" "+Q(g," or ")+", got level "+m):s.$warn("asciidoctor: ERROR: "+t.$line_info()+": only book doctypes can contain level 0 sections"),o=s.$next_section(t,p,n),y=null==(r=vt.to_ary(o))[0]?Et:r[0],n=null==r[1]?Et:r[1],p["$<<"](y)}t.$skip_blank_lines()}if(!1!==a&&a!==Et&&null!=a)r=p["$blocks?"](),(($=!1!==r&&r!==Et&&null!=r?p.$blocks()["$[]"](-1).$context()["$=="]("section"):r)===Et||null==$||$.$$is_boolean&&1!=$)&&s.$warn("asciidoctor: ERROR: "+t.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==l&&l!==Et&&null!=l)if(($=l["$blocks?"]())===Et||null==$||$.$$is_boolean&&1!=$)d.$blocks().$shift();else if(o=vt.const_get(yt,"Compliance",!0,!0).$unwrap_standalone_preamble(),r=!1!==o&&o!==Et&&null!=o?d.$blocks().$size()["$=="](1):o,($=!1!==r&&r!==Et&&null!=r?_["$!="]("book"):r)!==Et&&null!=$&&(!$.$$is_boolean||1==$))for(d.$blocks().$shift();(r=k=l.$blocks().$shift())!==Et&&null!=r&&(!r.$$is_boolean||1==r);)f=[d],At(k,"parent=",vt.to_a(f)),f[wt(f.length,1)],d["$<<"](k);return[($=p["$!="](e))===Et||null==$||$.$$is_boolean&&1!=$?Et:p,n.$dup()]},u.$$arity=-3),vt.defs(J,"$next_block",_=function(t,e,o,n){var $,r,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y=this,v=Et,w=Et,x=Et,k=Et,O=Et,E=Et,A=Et,S=Et,R=Et,M=Et,T=Et,I=Et,C=Et,N=Et,j=Et,L=Et,z=Et,P=Et,D=Et,B=Et,q=Et,U=Et,F=Et,G=Et,H=Et,Y=Et,K=Et,W=Et,X=Et,V=Et,J=Et,Z=Et,Q=Et,tt=Et,et=Et,nt=Et,$t=Et,rt=Et,ot=Et,it=Et,st=Et,lt=Et,at=Et,ct=Et,ut=Et,_t=Et,dt=Et,ft=Et,pt=Et,ht=Et,gt=Et,bt=Et,mt=Et;if(null==o&&(o=St([],{})),null==n&&(n=St([],{})),v=t.$skip_blank_lines(),($=t["$has_more_lines?"]())===Et||null==$||$.$$is_boolean&&1!=$)return Et;for(r=w=n["$[]"]("text"),($=!1!==r&&r!==Et&&null!=r?kt(v,0):r)===Et||null==$||$.$$is_boolean&&1!=$||(n.$delete("text"),w=!1),p=n.$fetch("parse_metadata",!0),x=e.$document(),($=k=x.$extensions())===Et||null==$||$.$$is_boolean&&1!=$?O=E=!1:(O=k["$blocks?"](),E=k["$block_macros?"]()),h=vt.const_get(yt,"ListItem",!0,!0)["$==="](e),S=A=Et,g=x.$sourcemap(),R=Et;i=A["$!"](),(r=!1!==i&&i!==Et&&null!=i?t["$has_more_lines?"]():i)!==Et&&null!=r&&(!r.$$is_boolean||1==r);)if((r=(i=!1!==p&&p!==Et&&null!=p)?y.$parse_block_metadata_line(t,x,o,n):p)===Et||null==r||r.$$is_boolean&&1!=r){if(!1!==g&&g!==Et&&null!=g&&(R=t.$cursor()),M=t.$read_line(),T=!1,N=C=I=Et,(r=o["$[]"](1))===Et||null==r||r.$$is_boolean&&1!=r||(i=y.$parse_style_attribute(o,t),S=null==(r=vt.to_ary(i))[0]?Et:r[0],null==r[1]||r[1]),(r=j=y["$is_delimited_block?"](M,!0))===Et||null==r||r.$$is_boolean&&1!=r||(T=!0,I=C=j.$context(),N=j.$terminator(),(r=S["$!"]())===Et||null==r||r.$$is_boolean&&1!=r?(r=S["$!="](I.$to_s()))===Et||null==r||r.$$is_boolean&&1!=r||((r=j.$masq()["$include?"](S))===Et||null==r||r.$$is_boolean&&1!=r?(i=j.$masq()["$include?"]("admonition"),(r=!1!==i&&i!==Et&&null!=i?vt.const_get(yt,"ADMONITION_STYLES",!0,!0)["$include?"](S):i)===Et||null==r||r.$$is_boolean&&1!=r?(r=(i=!1!==O&&O!==Et&&null!=O)?k["$registered_for_block?"](S,I):O)===Et||null==r||r.$$is_boolean&&1!=r?(y.$warn("asciidoctor: WARNING: "+t.$prev_line_info()+": invalid style for "+I+" block: "+S),S=I.$to_s()):I=S.$to_sym():I="admonition"):I=S.$to_sym()):(L=["style",I.$to_s()],At(o,"[]=",vt.to_a(L)),S=L[wt(L.length,1)])),!1!==T&&T!==Et&&null!=T);else for(;(i=!0)!==Et&&null!=i&&(!i.$$is_boolean||1==i);){if(s=(l=!1!==S&&S!==Et&&null!=S)?vt.const_get(yt,"Compliance",!0,!0).$strict_verbatim_paragraphs():S,(i=!1!==s&&s!==Et&&null!=s?vt.const_get(yt,"VERBATIM_STYLES",!0,!0)["$include?"](S):s)!==Et&&null!=i&&(!i.$$is_boolean||1==i)){I=S.$to_sym(),t.$unshift_line(M);break}if(!1!==w&&w!==Et&&null!=w);else{if(z=(i=vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax())===Et||null==i||i.$$is_boolean&&1!=i?M.$chr():M.$lstrip().$chr(),s=!1!==(l=vt.const_get(yt,"LAYOUT_BREAK_LINES",!0,!0)["$key?"](z))&&l!==Et&&null!=l?(b=M.$length(),m=3,"number"==typeof b&&"number"==typeof m?m<=b:b["$>="](m)):l,!((i=!1!==s&&s!==Et&&null!=s?((l=vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax())===Et||null==l||l.$$is_boolean&&1!=l?vt.const_get(yt,"LayoutBreakLineRx",!0,!0):vt.const_get(yt,"LayoutBreakLinePlusRx",!0,!0))["$match?"](M):s)===Et||null==i||i.$$is_boolean&&1!=i)){A=vt.const_get(yt,"Block",!0,!0).$new(e,vt.const_get(yt,"LAYOUT_BREAK_LINES",!0,!0)["$[]"](z),St(["content_model"],{content_model:"empty"}));break}if(s=M["$end_with?"]("]"),!((i=!1!==s&&s!==Et&&null!=s?P=vt.const_get(yt,"MediaBlockMacroRx",!0,!0).$match(M):s)===Et||null==i||i.$$is_boolean&&1!=i)){if(D=P["$[]"](1).$to_sym(),A=vt.const_get(yt,"Block",!0,!0).$new(e,D,St(["content_model"],{content_model:"empty"})),B=D["$=="]("image")?["alt","width","height"]:D["$=="]("video")?["poster","width","height"]:[],!1!==S&&S!==Et&&null!=S&&(D["$=="]("image")&&(L=["alt",S],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),o.$delete("style"),S=Et),A.$parse_attributes(P["$[]"](3),B,St(["unescape_input","sub_input","sub_result","into"],{unescape_input:D["$=="]("image"),sub_input:!0,sub_result:!1,into:o})),q=A.$sub_attributes(P["$[]"](2),St(["attribute_missing"],{attribute_missing:"drop-line"})),(i=q["$empty?"]())!==Et&&null!=i&&(!i.$$is_boolean||1==i))return x.$attributes().$fetch("attribute-missing",vt.const_get(yt,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")?vt.const_get(yt,"Block",!0,!0).$new(e,"paragraph",St(["content_model","source"],{content_model:"simple",source:[M]})):(o.$clear(),Et);L=["target",q],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)];break}if(!((i=(s=z["$=="]("t"))?P=vt.const_get(yt,"TocBlockMacroRx",!0,!0).$match(M):z["$=="]("t"))===Et||null==i||i.$$is_boolean&&1!=i)){(A=vt.const_get(yt,"Block",!0,!0).$new(e,"toc",St(["content_model"],{content_model:"empty"}))).$parse_attributes(P["$[]"](1),[],St(["sub_result","into"],{sub_result:!1,into:o}));break}if(s=(l=!1!==E&&E!==Et&&null!=E)?P=vt.const_get(yt,"GenericBlockMacroRx",!0,!0).$match(M):E,(i=!1!==s&&s!==Et&&null!=s?U=k["$registered_for_block_macro?"](P["$[]"](1)):s)!==Et&&null!=i&&(!i.$$is_boolean||1==i)){if(q=P["$[]"](2),F=P["$[]"](3),U.$config()["$[]"]("content_model")["$=="]("attributes")?((i=F["$empty?"]())===Et||null==i||i.$$is_boolean&&1!=i)&&x.$parse_attributes(F,!1!==(i=U.$config()["$[]"]("pos_attrs"))&&i!==Et&&null!=i?i:[],St(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:o})):(L=["text",F],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),(i=G=U.$config()["$[]"]("default_attrs"))===Et||null==i||i.$$is_boolean&&1!=i||At(G,"each",[],((a=function(t,e){var n,$,r;return a.$$s,null==t&&(t=Et),null==e&&(e=Et),n=t,!1!==(r=($=o)["$[]"](n))&&r!==Et&&null!=r?r:$["$[]="](n,e)}).$$s=y,a.$$arity=2,a)),(i=A=U.$process_method()["$[]"](e,q,o.$dup()))===Et||null==i||i.$$is_boolean&&1!=i)return o.$clear(),Et;o.$replace(A.$attributes());break}}if(!((i=P=vt.const_get(yt,"CalloutListRx",!0,!0).$match(M))===Et||null==i||i.$$is_boolean&&1!=i)){for(A=vt.const_get(yt,"List",!0,!0).$new(e,"colist"),L=["style","arabic"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],t.$unshift_line(M),H=1;(s=!1!==(l=P)&&l!==Et&&null!=l?l:!1!==(c=t["$has_more_lines?"]())&&c!==Et&&null!=c?P=vt.const_get(yt,"CalloutListRx",!0,!0).$match(t.$peek_line()):c)!==Et&&null!=s&&(!s.$$is_boolean||1==s);)(s=P["$[]"](1).$to_i()["$!="](H))===Et||null==s||s.$$is_boolean&&1!=s||y.$warn("asciidoctor: WARNING: "+t.$path()+": line "+wt(t.$lineno(),2)+": callout list item index: expected "+H+", got "+P["$[]"](1)),Y=y.$next_list_item(t,A,P),H=xt(H,1),!1!==Y&&Y!==Et&&null!=Y&&(A["$<<"](Y),(s=(K=x.$callouts().$callout_ids(A.$items().$size()))["$empty?"]()["$!"]())===Et||null==s||s.$$is_boolean&&1!=s?y.$warn("asciidoctor: WARNING: "+t.$path()+": line "+wt(t.$lineno(),2)+": no callouts refer to list item "+A.$items().$size()):(L=["coids",K],At(Y.$attributes(),"[]=",vt.to_a(L)),L[wt(L.length,1)])),P=Et;x.$callouts().$next_list();break}if(!((i=vt.const_get(yt,"UnorderedListRx",!0,!0)["$match?"](M))===Et||null==i||i.$$is_boolean&&1!=i)){t.$unshift_line(M),A=y.$next_outline_list(t,"ulist",e),c=S["$!"](),s=!1!==(l=!1!==c&&c!==Et&&null!=c?vt.const_get(yt,"Section",!0,!0)["$==="](e):c)&&l!==Et&&null!=l?e.$sectname()["$=="]("bibliography"):l,(i=!1!==s&&s!==Et&&null!=s?At(e.$blocks(),"none?",[],((u=function(t){return u.$$s,null==t&&(t=Et),t.$context()["$=="]("ulist")}).$$s=y,u.$$arity=1,u)):s)===Et||null==i||i.$$is_boolean&&1!=i||(L=["style","bibliography"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]);break}if(!((i=P=vt.const_get(yt,"OrderedListRx",!0,!0).$match(M))===Et||null==i||i.$$is_boolean&&1!=i)){t.$unshift_line(M),A=y.$next_outline_list(t,"olist",e),!1!==S&&S!==Et&&null!=S||(W=A.$items()["$[]"](0).$marker(),L=(i=W["$start_with?"]("."))===Et||null==i||i.$$is_boolean&&1!=i?["style",(!1!==(i=At(vt.const_get(yt,"ORDERED_LIST_STYLES",!0,!0),"find",[],(_=function(t){return _.$$s,null==t&&(t=Et),vt.const_get(yt,"OrderedListMarkerRxMap",!0,!0)["$[]"](t)["$match?"](W)},_.$$s=y,_.$$arity=1,_)))&&i!==Et&&null!=i?i:vt.const_get(yt,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()]:["style",(!1!==(i=vt.const_get(yt,"ORDERED_LIST_STYLES",!0,!0)["$[]"](wt(W.$length(),1)))&&i!==Et&&null!=i?i:vt.const_get(yt,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]);break}if(!((i=P=vt.const_get(yt,"DescriptionListRx",!0,!0).$match(M))===Et||null==i||i.$$is_boolean&&1!=i)){t.$unshift_line(M),A=y.$next_description_list(t,P,e);break}if(s=!1!==(l=S["$=="]("float"))&&l!==Et&&null!=l?l:S["$=="]("discrete"),!((i=!1!==s&&s!==Et&&null!=s?y["$is_section_title?"](M,(l=vt.const_get(yt,"Compliance",!0,!0).$underline_style_section_titles())===Et||null==l||l.$$is_boolean&&1!=l?Et:t.$peek_line(!0)):s)===Et||null==i||i.$$is_boolean&&1!=i)){t.$unshift_line(M),s=y.$parse_section_title(t,x),i=vt.to_ary(s),X=null==i[0]?Et:i[0],V=null==i[1]?Et:i[1],J=null==i[2]?Et:i[2],Z=null==i[3]?Et:i[3],null==i[4]||i[4],!1!==V&&V!==Et&&null!=V&&(L=["reftext",V],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),(i=o["$key?"]("id"))===Et||null==i||i.$$is_boolean&&1!=i||!1!==(i=X)&&i!==Et&&null!=i||(X=o["$[]"]("id")),A=vt.const_get(yt,"Block",!0,!0).$new(e,"floating_title",St(["content_model"],{content_model:"empty"})),L=[J],At(A,"title=",vt.to_a(L)),L[wt(L.length,1)],L=[(i=X["$nil_or_empty?"]())===Et||null==i||i.$$is_boolean&&1!=i?X:vt.const_get(yt,"Section",!0,!0).$generate_id(A.$title(),x)],At(A,"id=",vt.to_a(L)),L[wt(L.length,1)],L=[Z],At(A,"level=",vt.to_a(L)),L[wt(L.length,1)];break}if((i=(s=!1!==S&&S!==Et&&null!=S)?S["$!="]("normal"):S)!==Et&&null!=i&&(!i.$$is_boolean||1==i)){if(!((i=vt.const_get(yt,"PARAGRAPH_STYLES",!0,!0)["$include?"](S))===Et||null==i||i.$$is_boolean&&1!=i)){I=S.$to_sym(),C="paragraph",t.$unshift_line(M);break}if(!((i=vt.const_get(yt,"ADMONITION_STYLES",!0,!0)["$include?"](S))===Et||null==i||i.$$is_boolean&&1!=i)){I="admonition",C="paragraph",t.$unshift_line(M);break}if(!((i=(s=!1!==O&&O!==Et&&null!=O)?k["$registered_for_block?"](S,"paragraph"):O)===Et||null==i||i.$$is_boolean&&1!=i)){I=S.$to_sym(),C="paragraph",t.$unshift_line(M);break}y.$warn("asciidoctor: WARNING: "+t.$prev_line_info()+": invalid style for paragraph: "+S),S=Et}if(Q=(i=v["$=="](0))?h:v["$=="](0),s=S["$!="]("normal"),(i=!1!==s&&s!==Et&&null!=s?vt.const_get(yt,"LiteralParagraphRx",!0,!0)["$match?"](M):s)===Et||null==i||i.$$is_boolean&&1!=i){if(t.$unshift_line(M),tt=y.$read_paragraph_lines(t,Q,St(["skip_line_comments"],{skip_line_comments:!0})),(i=tt["$empty?"]())!==Et&&null!=i&&(!i.$$is_boolean||1==i))return t.$advance(),Et;if(y.$catalog_inline_anchors(tt.$join(vt.const_get(yt,"EOL",!0,!0)),x),et=tt["$[]"](0),s=w["$!"](),(i=!1!==s&&s!==Et&&null!=s?nt=vt.const_get(yt,"AdmonitionParagraphRx",!0,!0).$match(et):s)===Et||null==i||i.$$is_boolean&&1!=i)if(s=!1!==(l=w["$!"]())&&l!==Et&&null!=l?vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax():l,(i=!1!==s&&s!==Et&&null!=s?et["$start_with?"]("> "):s)===Et||null==i||i.$$is_boolean&&1!=i)if(s=w["$!"](),(i=!1!==s&&s!==Et&&null!=s?y["$blockquote?"](tt,et):s)===Et||null==i||i.$$is_boolean&&1!=i)S["$=="]("normal")&&y["$adjust_indentation!"](tt),A=vt.const_get(yt,"Block",!0,!0).$new(e,"paragraph",St(["content_model","source","attributes"],{content_model:"simple",source:tt,attributes:o}));else{for(L=[0,et["$[]"](Rt(1,-1,!1))],At(tt,"[]=",vt.to_a(L)),L[wt(L.length,1)],s=tt.$pop()["$[]"](Rt(3,-1,!1)).$split(", ",2),rt=null==(i=vt.to_ary(s))[0]?Et:i[0],ot=null==i[1]?Et:i[1],!1!==rt&&rt!==Et&&null!=rt&&(L=["attribution",rt],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),!1!==ot&&ot!==Et&&null!=ot&&(L=["citetitle",ot],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]);(s=tt["$[]"](-1)["$empty?"]())!==Et&&null!=s&&(!s.$$is_boolean||1==s);)tt.$pop();L=[-1,tt["$[]"](-1).$chop()],At(tt,"[]=",vt.to_a(L)),L[wt(L.length,1)],L=["style","quote"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],A=vt.const_get(yt,"Block",!0,!0).$new(e,"quote",St(["content_model","source","attributes"],{content_model:"simple",source:tt,attributes:o}))}else{if(At(tt,"map!",[],((d=function(t){var e;return d.$$s,null==t&&(t=Et),t["$=="](">")?t["$[]"](Rt(1,-1,!1)):(e=t["$start_with?"]("> "))===Et||null==e||e.$$is_boolean&&1!=e?t:t["$[]"](Rt(2,-1,!1))}).$$s=y,d.$$arity=1,d)),(i=tt["$[]"](-1)["$start_with?"]("-- "))!==Et&&null!=i&&(!i.$$is_boolean||1==i))for(s=tt.$pop()["$[]"](Rt(3,-1,!1)).$split(", ",2),rt=null==(i=vt.to_ary(s))[0]?Et:i[0],ot=null==i[1]?Et:i[1],!1!==rt&&rt!==Et&&null!=rt&&(L=["attribution",rt],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),!1!==ot&&ot!==Et&&null!=ot&&(L=["citetitle",ot],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]);(s=tt["$[]"](-1)["$empty?"]())!==Et&&null!=s&&(!s.$$is_boolean||1==s);)tt.$pop();L=["style","quote"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],A=y.$build_block("quote","compound",!1,e,vt.const_get(yt,"Reader",!0,!0).$new(tt),o)}else L=[0,nt.$post_match().$lstrip()],At(tt,"[]=",vt.to_a(L)),L[wt(L.length,1)],L=["style",nt["$[]"](1)],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],L=["name",$t=nt["$[]"](1).$downcase()],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],!(i="caption")!==(l=(s=o)["$[]"](i))&&l!==Et&&null!=l||s["$[]="](i,x.$attributes()["$[]"]($t+"-caption")),A=vt.const_get(yt,"Block",!0,!0).$new(e,"admonition",St(["content_model","source","attributes"],{content_model:"simple",source:tt,attributes:o}))}else t.$unshift_line(M),tt=y.$read_paragraph_lines(t,Q,St(["skip_line_comments"],{skip_line_comments:w})),y["$adjust_indentation!"](tt),A=vt.const_get(yt,"Block",!0,!0).$new(e,"literal",St(["content_model","source","attributes"],{content_model:"verbatim",source:tt,attributes:o})),!1!==h&&h!==Et&&null!=h&&A.$set_option("listparagraph");break}if(i=A["$!"](),(r=!1!==i&&i!==Et&&null!=i?I:i)!==Et&&null!=r&&(!r.$$is_boolean||1==r))if((r=!1!==(i=I["$=="]("abstract"))&&i!==Et&&null!=i?i:I["$=="]("partintro"))===Et||null==r||r.$$is_boolean&&1!=r||(I="open"),"admonition"["$==="](it=I))L=["name",$t=S.$downcase()],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],!(r="caption")!==(s=(i=o)["$[]"](r))&&s!==Et&&null!=s||i["$[]="](r,x.$attributes()["$[]"]($t+"-caption")),A=y.$build_block(I,"compound",N,e,t,o);else{if("comment"["$==="](it))return y.$build_block(I,"skip",N,e,t,o),Et;if("example"["$==="](it))A=y.$build_block(I,"compound",N,e,t,o);else if("listing"["$==="](it)||"fenced_code"["$==="](it)||"source"["$==="](it))I["$=="]("fenced_code")?(L=["style","source"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],(st=M.$length())["$=="](3)?lt=Et:(r=at=(lt=M["$[]"](3,wt(st,3))).$index(","))===Et||null==r||r.$$is_boolean&&1!=r?lt=lt.$lstrip():(r=kt(at,0))===Et||null==r||r.$$is_boolean&&1!=r?(lt=Et,(r=kt(st,4))===Et||null==r||r.$$is_boolean&&1!=r||(L=["linenums",""],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)])):(lt=lt["$[]"](0,at).$strip(),(r=Ot(at,wt(st,4)))===Et||null==r||r.$$is_boolean&&1!=r||(L=["linenums",""],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)])),(r=lt["$nil_or_empty?"]())===Et||null==r||r.$$is_boolean&&1!=r?(L=["language",lt],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]):(r=ct=x.$attributes()["$[]"]("source-language"))===Et||null==r||r.$$is_boolean&&1!=r||(L=["language",ct],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),i=o["$key?"]("indent")["$!"](),(r=!1!==i&&i!==Et&&null!=i?x.$attributes()["$key?"]("source-indent"):i)===Et||null==r||r.$$is_boolean&&1!=r||(L=["indent",x.$attributes()["$[]"]("source-indent")],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),N=N["$[]"](0,3)):I["$=="]("source")&&(vt.const_get(yt,"AttributeList",!0,!0).$rekey(o,[Et,"language","linenums"]),((r=o["$key?"]("language"))===Et||null==r||r.$$is_boolean&&1!=r)&&((r=ct=x.$attributes()["$[]"]("source-language"))===Et||null==r||r.$$is_boolean&&1!=r||(L=["language",ct],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)])),i=o["$key?"]("indent")["$!"](),(r=!1!==i&&i!==Et&&null!=i?x.$attributes()["$key?"]("source-indent"):i)===Et||null==r||r.$$is_boolean&&1!=r||(L=["indent",x.$attributes()["$[]"]("source-indent")],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)])),A=y.$build_block("listing","verbatim",N,e,t,o);else if("literal"["$==="](it))A=y.$build_block(I,"verbatim",N,e,t,o);else if("pass"["$==="](it))A=y.$build_block(I,"raw",N,e,t,o);else if("stem"["$==="](it)||"latexmath"["$==="](it)||"asciimath"["$==="](it))I["$=="]("stem")&&(L=["style",(r=ut=o["$[]"](2))===Et||null==r||r.$$is_boolean&&1!=r?(r=(_t=x.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===Et||null==r||r.$$is_boolean&&1!=r?_t:"asciimath":(r=ut["$include?"]("tex"))===Et||null==r||r.$$is_boolean&&1!=r?"asciimath":"latexmath"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),A=y.$build_block("stem","raw",N,e,t,o);else if("open"["$==="](it)||"sidebar"["$==="](it))A=y.$build_block(I,"compound",N,e,t,o);else if("table"["$==="](it))dt=vt.const_get(yt,"Reader",!0,!0).$new(t.$read_lines_until(St(["terminator","skip_line_comments"],{terminator:N,skip_line_comments:!0})),t.$cursor()),it=N.$chr(),","["$==="](it)?(L=["format","csv"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]):":"["$==="](it)&&(L=["format","dsv"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),A=y.$next_table(dt,e,o);else if("quote"["$==="](it)||"verse"["$==="](it))vt.const_get(yt,"AttributeList",!0,!0).$rekey(o,[Et,"attribution","citetitle"]),A=y.$build_block(I,I["$=="]("verse")?"verbatim":"compound",N,e,t,o);else if((r=(i=!1!==O&&O!==Et&&null!=O)?U=k["$registered_for_block?"](I,C):O)===Et||null==r||r.$$is_boolean&&1!=r)y.$raise("Unsupported block type "+I+" at "+t.$line_info());else if((r=(ft=U.$config()["$[]"]("content_model"))["$!="]("skip"))===Et||null==r||r.$$is_boolean&&1!=r||((r=(pt=!1!==(i=U.$config()["$[]"]("pos_attrs"))&&i!==Et&&null!=i?i:[])["$empty?"]()["$!"]())===Et||null==r||r.$$is_boolean&&1!=r||vt.const_get(yt,"AttributeList",!0,!0).$rekey(o,[Et].$concat(pt)),(r=G=U.$config()["$[]"]("default_attrs"))===Et||null==r||r.$$is_boolean&&1!=r||At(G,"each",[],((f=function(t,e){var n,$,r;return f.$$s,null==t&&(t=Et),null==e&&(e=Et),n=t,!1!==(r=($=o)["$[]"](n))&&r!==Et&&null!=r?r:$["$[]="](n,e)}).$$s=y,f.$$arity=2,f)),L=["cloaked-context",C],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)]),A=y.$build_block(I,ft,N,e,t,o,St(["extension"],{extension:U})),(r=(i=!1!==A&&A!==Et&&null!=A)?ft["$!="]("skip"):A)===Et||null==r||r.$$is_boolean&&1!=r)return o.$clear(),Et}}else t.$advance();return!1!==A&&A!==Et&&null!=A&&(!1!==R&&R!==Et&&null!=R&&(L=[R],At(A,"source_location=",vt.to_a(L)),L[wt(L.length,1)]),(($=A["$title?"]())===Et||null==$||$.$$is_boolean&&1!=$)&&(L=[o["$[]"]("title")],At(A,"title=",vt.to_a(L)),L[wt(L.length,1)]),A.$context()["$=="]("image")?(ht=o["$[]"]("target"),A.$document().$register("images",ht),gt=!1!==($=o["$[]"]("alt"))&&$!==Et&&null!=$?$:vt.const_get(yt,"Helpers",!0,!0).$basename(ht,!0).$tr("_-"," "),($=!1!==(r=!1!==(i=gt["$include?"]("<"))&&i!==Et&&null!=i?i:gt["$include?"]("&"))&&r!==Et&&null!=r?r:gt["$include?"](">"))===Et||null==$||$.$$is_boolean&&1!=$||(gt=A.$sub_specialchars(gt)),L=["alt",gt],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)],A.$assign_caption(o.$delete("caption"),"figure"),(($=(bt=o.$delete("scaledwidth"))["$nil_or_empty?"]())===Et||null==$||$.$$is_boolean&&1!=$)&&(L=["scaledwidth",($=Rt(48,57,!1)["$include?"](bt["$[]"](-1).$ord()))===Et||null==$||$.$$is_boolean&&1!=$?bt:bt+"%"],At(o,"[]=",vt.to_a(L)),L[wt(L.length,1)])):!1!==(r=($=A).$caption())&&r!==Et&&null!=r||$["$caption="](o.$delete("caption")),L=[o["$[]"]("style")],At(A,"style=",vt.to_a(L)),L[wt(L.length,1)],($=mt=!1!==(i=(r=A).$id())&&i!==Et&&null!=i?i:r["$id="](o["$[]"]("id")))===Et||null==$||$.$$is_boolean&&1!=$||x.$register("ids",[mt,!1!==($=o["$[]"]("reftext"))&&$!==Et&&null!=$?$:(r=A["$title?"]())===Et||null==r||r.$$is_boolean&&1!=r?Et:A.$title()]),(($=o["$empty?"]())===Et||null==$||$.$$is_boolean&&1!=$)&&A.$attributes().$update(o),A.$lock_in_subs(),($=A["$sub?"]("callouts"))===Et||null==$||$.$$is_boolean&&1!=$||(($=y.$catalog_callouts(A.$source(),x))===Et||null==$||$.$$is_boolean&&1!=$)&&A.$remove_sub("callouts")),A},_.$$arity=-3),vt.defs(J,"$blockquote?",d=function(t,e){var n,$,r,o;return null==e&&(e=Et),!1!==(n=!1!==($=!1!==(r=kt(t.$size(),1))&&r!==Et&&null!=r?(!1!==(o=e)&&o!==Et&&null!=o?o:t["$[]"](0))["$start_with?"]('"'):r)&&$!==Et&&null!=$?t["$[]"](-1)["$start_with?"]("-- "):$)&&n!==Et&&null!=n?t["$[]"](-2)["$end_with?"]('"'):n},d.$$arity=-2),vt.defs(J,"$read_paragraph_lines",f=function(t,e,n){var $,r=Et,o=Et;return null==n&&(n=St([],{})),r=["break_on_blank_lines",!0],At(n,"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["break_on_list_continuation",!0],At(n,"[]=",vt.to_a(r)),r[wt(r.length,1)],r=["preserve_last_line",!0],At(n,"[]=",vt.to_a(r)),r[wt(r.length,1)],o=!1!==e&&e!==Et&&null!=e?($=vt.const_get(yt,"Compliance",!0,!0).$block_terminates_paragraph())===Et||null==$||$.$$is_boolean&&1!=$?vt.const_get(yt,"StartOfListProc",!0,!0):vt.const_get(yt,"StartOfBlockOrListProc",!0,!0):($=vt.const_get(yt,"Compliance",!0,!0).$block_terminates_paragraph())===Et||null==$||$.$$is_boolean&&1!=$?vt.const_get(yt,"NoOp",!0,!0):vt.const_get(yt,"StartOfBlockProc",!0,!0),At(t,"read_lines_until",[n],o.$to_proc())},f.$$arity=-3),vt.defs(J,"$is_delimited_block?",p=function(t,e){var n,$,r,o,i=Et,s=Et,l=Et,a=Et,c=Et,u=Et,_=Et;if(null==e&&(e=!1),(n=!1!==($=kt(i=t.$length(),1))&&$!==Et&&null!=$?vt.const_get(yt,"DELIMITED_BLOCK_LEADERS",!0,!0)["$include?"](t["$[]"](0,2)):$)===Et||null==n||n.$$is_boolean&&1!=n)return Et;if(i["$=="](2))s=t,l=2;else{if(o=4,(n="number"==typeof(r=i)&&"number"==typeof o?r<=o:r["$<="](o))===Et||null==n||n.$$is_boolean&&1!=n?(s=t["$[]"](0,4),l=4):(s=t,l=i),a=!1,(n=vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax())!==Et&&null!=n&&(!n.$$is_boolean||1==n)&&(c=l["$=="](4)?s.$chop():s)["$=="]("```")){if((n=($=l["$=="](4))?s["$end_with?"]("`"):l["$=="](4))!==Et&&null!=n&&(!n.$$is_boolean||1==n))return Et;s=c,l=3,a=!0}if((n=($=l["$=="](3))?a["$!"]():l["$=="](3))!==Et&&null!=n&&(!n.$$is_boolean||1==n))return Et}return(n=vt.const_get(yt,"DELIMITED_BLOCKS",!0,!0)["$key?"](s))===Et||null==n||n.$$is_boolean&&1!=n?Et:(n=!1!==($=Ot(l,4))&&$!==Et&&null!=$?$:l["$=="](i))===Et||null==n||n.$$is_boolean&&1!=n?(""+s+Q(s["$[]"](Rt(-1,-1,!1)),wt(i,l)))["$=="](t)?!1===e||e===Et||null==e||($=vt.const_get(yt,"DELIMITED_BLOCKS",!0,!0)["$[]"](s),u=null==(n=vt.to_ary($))[0]?Et:n[0],_=null==n[1]?Et:n[1],vt.const_get(yt,"BlockMatchData",!0,!0).$new(u,_,s,t)):Et:!1===e||e===Et||null==e||($=vt.const_get(yt,"DELIMITED_BLOCKS",!0,!0)["$[]"](s),u=null==(n=vt.to_ary($))[0]?Et:n[0],_=null==n[1]?Et:n[1],vt.const_get(yt,"BlockMatchData",!0,!0).$new(u,_,s,s))},p.$$arity=-2),vt.defs(J,"$build_block",h=function(t,e,n,$,r,o,i){var s,l,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et,g=Et;if(null==i&&(i=St([],{})),e["$=="]("skip")?(a=!0,c="simple"):e["$=="]("raw")?(a=!1,c="simple"):(a=!1,c=e),(s=n["$nil?"]())===Et||null==s||s.$$is_boolean&&1!=s?(s=c["$!="]("compound"))===Et||null==s||s.$$is_boolean&&1!=s?n["$=="](!1)?(u=Et,_=r):(u=Et,_=vt.const_get(yt,"Reader",!0,!0).$new(r.$read_lines_until(St(["terminator","skip_processing"],{terminator:n,skip_processing:a})),r.$cursor())):(u=r.$read_lines_until(St(["terminator","skip_processing"],{terminator:n,skip_processing:a})),_=Et):(c["$=="]("verbatim")?u=r.$read_lines_until(St(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),u=this.$read_paragraph_lines(r,!1,St(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:a}))),_=Et),e["$=="]("skip"))return o.$clear(),u;if(e["$=="]("verbatim")&&((s=d=o["$[]"]("indent"))===Et||null==s||s.$$is_boolean&&1!=s?(s=kt(f=(!1!==(l=o["$[]"]("tabsize"))&&l!==Et&&null!=l?l:$.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))===Et||null==s||s.$$is_boolean&&1!=s||this["$adjust_indentation!"](u,Et,f):this["$adjust_indentation!"](u,d,!1!==(s=o["$[]"]("tabsize"))&&s!==Et&&null!=s?s:$.$document().$attributes()["$[]"]("tabsize"))),(s=p=i["$[]"]("extension"))===Et||null==s||s.$$is_boolean&&1!=s)h=vt.const_get(yt,"Block",!0,!0).$new($,t,St(["content_model","source","attributes"],{content_model:e,source:u,attributes:o}));else{if(o.$delete("style"),(s=h=p.$process_method()["$[]"]($,!1!==(l=_)&&l!==Et&&null!=l?l:vt.const_get(yt,"Reader",!0,!0).$new(u),o.$dup()))===Et||null==s||s.$$is_boolean&&1!=s)return Et;o.$replace(h.$attributes()),(s=(l=h.$content_model()["$=="]("compound"))?(u=h.$lines())["$nil_or_empty?"]()["$!"]():h.$content_model()["$=="]("compound"))===Et||null==s||s.$$is_boolean&&1!=s||(e="compound",_=vt.const_get(yt,"Reader",!0,!0).$new(u))}return(s=!1!==(l=o["$key?"]("title"))&&l!==Et&&null!=l?h.$document()["$attr?"](h.$context()+"-caption"):l)===Et||null==s||s.$$is_boolean&&1!=s||(g=[o.$delete("title")],At(h,"title=",vt.to_a(g)),g[wt(g.length,1)],h.$assign_caption(o.$delete("caption"))),e["$=="]("compound")&&this.$parse_blocks(_,h),h},h.$$arity=-7),vt.defs(J,"$parse_blocks",g=function(t,e){for(var n,$=Et;(n=t["$has_more_lines?"]())!==Et&&null!=n&&(!n.$$is_boolean||1==n);)!1!==($=vt.const_get(yt,"Parser",!0,!0).$next_block(t,e))&&$!==Et&&null!=$&&e["$<<"]($)},g.$$arity=2),vt.defs(J,"$next_outline_list",b=function(t,e,n){var $,r,o=Et,i=Et,s=Et,l=Et,a=Et,c=Et,u=Et;for(o=vt.const_get(yt,"List",!0,!0).$new(n,e),i=n.$context()["$=="](e)?[xt(n.$level(),1)]:[1],At(o,"level=",vt.to_a(i)),i[wt(i.length,1)];($=!1!==(r=t["$has_more_lines?"]())&&r!==Et&&null!=r?s=vt.const_get(yt,"ListRxMap",!0,!0)["$[]"](e).$match(t.$peek_line()):r)!==Et&&null!=$&&(!$.$$is_boolean||1==$);){if(l=this.$resolve_list_marker(e,s["$[]"](1)),($=!1!==(r=o["$items?"]())&&r!==Et&&null!=r?l["$!="](o.$items()["$[]"](0).$marker()):r)===Et||null==$||$.$$is_boolean&&1!=$)a=o.$level();else for(a=xt(o.$level(),1),c=n;c.$context()["$=="](e);){if(l["$=="](c.$items()["$[]"](0).$marker())){a=c.$level();break}c=c.$parent()}if(($=!1!==(r=o["$items?"]()["$!"]())&&r!==Et&&null!=r?r:a["$=="](o.$level()))===Et||null==$||$.$$is_boolean&&1!=$){if(!(($=Ot(a,o.$level()))===Et||null==$||$.$$is_boolean&&1!=$))break;($=kt(a,o.$level()))===Et||null==$||$.$$is_boolean&&1!=$||o.$items()["$[]"](-1)["$<<"](this.$next_block(t,o))}else u=this.$next_list_item(t,o,s);!1!==u&&u!==Et&&null!=u&&o["$<<"](u),u=Et,t.$skip_blank_lines()}return o},b.$$arity=3),vt.defs(J,"$catalog_callouts",m=function(t,n){var e,$,r=Et;return r=!1,(e=t["$include?"]("<"))===Et||null==e||e.$$is_boolean&&1!=e||At(t,"scan",[vt.const_get(yt,"CalloutQuickScanRx",!0,!0)],(($=function(){$.$$s;var t,e=Et;return null==nt["~"]&&(nt["~"]=Et),(t=(e=nt["~"])["$[]"](0).$chr()["$!="]("\\"))===Et||null==t||t.$$is_boolean&&1!=t||n.$callouts().$register(e["$[]"](2)),r=!0}).$$s=this,$.$$arity=0,$)),r},m.$$arity=2),vt.defs(J,"$catalog_inline_anchors",y=function(t,r){var e,o;return(e=t["$include?"]("["))===Et||null==e||e.$$is_boolean&&1!=e||At(t,"scan",[vt.const_get(yt,"InlineAnchorRx",!0,!0)],((o=function(){o.$$s;var t,e,n,$=Et;return null==nt["~"]&&(nt["~"]=Et),(t=($=nt["~"])["$[]"](0)["$start_with?"]("\\"))===Et||null==t||t.$$is_boolean&&1!=t?(e=!1!==(t=$["$[]"](1))&&t!==Et&&null!=t?t:$["$[]"](3),n=!1!==(t=$["$[]"](2))&&t!==Et&&null!=t?t:$["$[]"](4),r.$register("ids",[e,n])):Et}).$$s=this,o.$$arity=0,o)),Et},y.$$arity=2),vt.defs(J,"$next_description_list",v=function(t,e,n){var $,r,o,i=Et,s=Et,l=Et,a=Et,c=Et;for(i=vt.const_get(yt,"List",!0,!0).$new(n,"dlist"),s=Et,l=vt.const_get(yt,"DescriptionListSiblingRx",!0,!0)["$[]"](e["$[]"](2));($=!1!==(r=e)&&r!==Et&&null!=r?r:!1!==(o=t["$has_more_lines?"]())&&o!==Et&&null!=o?e=l.$match(t.$peek_line()):o)!==Et&&null!=$&&(!$.$$is_boolean||1==$);)r=this.$next_list_item(t,i,e,l),a=null==($=vt.to_ary(r))[0]?Et:$[0],c=null==$[1]?Et:$[1],($=(r=!1!==s&&s!==Et&&null!=s)?s["$[]"](-1)["$!"]():s)===Et||null==$||$.$$is_boolean&&1!=$?i.$items()["$<<"](s=[[a],c]):(s.$pop(),s["$[]"](0)["$<<"](a),s["$<<"](c)),e=Et;return i},v.$$arity=3),vt.defs(J,"$next_list_item",w=function(t,e,n,$){var r,o,i=Et,s=Et,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et,g=Et,b=Et,m=Et,y=Et;if(null==$&&($=Et),(i=e.$context())["$=="]("dlist")?(s=vt.const_get(yt,"ListItem",!0,!0).$new(e,n["$[]"](1)),l=vt.const_get(yt,"ListItem",!0,!0).$new(e,n["$[]"](3)),a=n["$[]"](3)["$nil_or_empty?"]()["$!"]()):(c=n["$[]"](2),u=!1,(r=(o=i["$=="]("ulist"))?c["$start_with?"]("["):i["$=="]("ulist"))===Et||null==r||r.$$is_boolean&&1!=r||((r=c["$start_with?"]("[ ] "))===Et||null==r||r.$$is_boolean&&1!=r?(r=c["$start_with?"]("[x] ","[*] "))===Et||null==r||r.$$is_boolean&&1!=r||(_=u=!0,c=c["$[]"](Rt(3,-1,!1)).$lstrip()):(_=!(u=!0),c=c["$[]"](Rt(3,-1,!1)).$lstrip())),l=vt.const_get(yt,"ListItem",!0,!0).$new(e,c),!1!==u&&u!==Et&&null!=u&&(d=["checklist-option",""],At(e.$attributes(),"[]=",vt.to_a(d)),d[wt(d.length,1)],d=["checkbox",""],At(l.$attributes(),"[]=",vt.to_a(d)),d[wt(d.length,1)],!1!==_&&_!==Et&&null!=_&&(d=["checked",""],At(l.$attributes(),"[]=",vt.to_a(d)),d[wt(d.length,1)])),!1!==(r=$)&&r!==Et&&null!=r||($=this.$resolve_list_marker(i,n["$[]"](1),e.$items().$size(),!0,t)),d=[$],At(l,"marker=",vt.to_a(d)),d[wt(d.length,1)],a=!0),t.$advance(),(r=(f=vt.const_get(yt,"Reader",!0,!0).$new(this.$read_lines_for_list_item(t,i,$,a),t.$cursor()))["$has_more_lines?"]())!==Et&&null!=r&&(!r.$$is_boolean||1==r)){for(p=f.$skip_line_comments(),(r=h=f.$peek_line())===Et||null==r||r.$$is_boolean&&1!=r?b=g=!1:(((r=p["$empty?"]())===Et||null==r||r.$$is_boolean&&1!=r)&&f.$unshift_lines(p),(r=g=h["$empty?"]())===Et||null==r||r.$$is_boolean&&1!=r?(b=!0,i["$=="]("dlist")||(a=!1)):b=!1),m=St(["text"],{text:a["$!"]()});(o=f["$has_more_lines?"]())!==Et&&null!=o&&(!o.$$is_boolean||1==o);)(o=y=this.$next_block(f,l,St([],{}),m))===Et||null==o||o.$$is_boolean&&1!=o||l["$<<"](y);l.$fold_first(g,b)}return i["$=="]("dlist")?(r=!1!==(o=l["$text?"]())&&o!==Et&&null!=o?o:l["$blocks?"]())===Et||null==r||r.$$is_boolean&&1!=r?[s,Et]:[s,l]:l},w.$$arity=-4),vt.defs(J,"$read_lines_for_list_item",x=function(t,n,$,e){var r,o,i,s,l,a,c,u,_,d=Et,f=Et,p=Et,h=Et,g=Et,b=Et,m=Et,y=Et,v=Et;for(null==$&&($=Et),null==e&&(e=!0),d=[],p=!(f="inactive"),h=Et;(o=t["$has_more_lines?"]())!==Et&&null!=o&&(!o.$$is_boolean||1==o)&&(g=t.$read_line(),(o=this["$is_sibling_list_item?"](g,n,$))===Et||null==o||o.$$is_boolean&&1!=o);)if((b=(o=d["$empty?"]())===Et||null==o||o.$$is_boolean&&1!=o?d["$[]"](-1):Et)["$=="](vt.const_get(yt,"LIST_CONTINUATION",!0,!0))&&(f["$=="]("inactive")&&(f="active",!(e=!0)!==p&&p!==Et&&null!=p||(m=[-1,""],At(d,"[]=",vt.to_a(m)),m[wt(m.length,1)])),g["$=="](vt.const_get(yt,"LIST_CONTINUATION",!0,!0))))(o=f["$!="]("frozen"))===Et||null==o||o.$$is_boolean&&1!=o||(f="frozen",d["$<<"](g)),g=Et;else{if((o=y=this["$is_delimited_block?"](g,!0))===Et||null==o||o.$$is_boolean&&1!=o){if(i=(s=n["$=="]("dlist"))?f["$!="]("active"):n["$=="]("dlist"),!((o=!1!==i&&i!==Et&&null!=i?vt.const_get(yt,"BlockAttributeLineRx",!0,!0)["$match?"](g):i)===Et||null==o||o.$$is_boolean&&1!=o))break;if((o=(i=f["$=="]("active"))?g["$empty?"]()["$!"]():f["$=="]("active"))===Et||null==o||o.$$is_boolean&&1!=o)if((o=(i=!1!==b&&b!==Et&&null!=b)?b["$empty?"]():b)===Et||null==o||o.$$is_boolean&&1!=o)(o=g["$empty?"]()["$!"]())===Et||null==o||o.$$is_boolean&&1!=o||(e=!0),(o=v=At(!1!==p&&p!==Et&&null!=p?["dlist"]:vt.const_get(yt,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],((_=function(t){return _.$$s,null==t&&(t=Et),vt.const_get(yt,"ListRxMap",!0,!0)["$[]"](t)["$=~"](g)}).$$s=this,_.$$arity=1,_)))===Et||null==o||o.$$is_boolean&&1!=o||(p=!0,(o=(i=v["$=="]("dlist"))?((s=nt["~"])===Et?Et:s["$[]"](3))["$nil_or_empty?"]():v["$=="]("dlist"))===Et||null==o||o.$$is_boolean&&1!=o||(e=!1)),d["$<<"](g);else{if((o=g["$empty?"]())!==Et&&null!=o&&(!o.$$is_boolean||1==o)&&(t.$skip_blank_lines(),g=t.$read_line(),(o=(i=!1!==g&&g!==Et&&null!=g)?this["$is_sibling_list_item?"](g,n,$)["$!"]():g)===Et||null==o||o.$$is_boolean&&1!=o))break;if(g["$=="](vt.const_get(yt,"LIST_CONTINUATION",!0,!0)))h=d.$size(),d["$<<"](g);else if(!1!==e&&e!==Et&&null!=e){if(!((o=this["$is_sibling_list_item?"](g,n,$))===Et||null==o||o.$$is_boolean&&1!=o))break;if((o=v=At(vt.const_get(yt,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],((c=function(t){return c.$$s,null==t&&(t=Et),vt.const_get(yt,"ListRxMap",!0,!0)["$[]"](t)["$=~"](g)}).$$s=this,c.$$arity=1,c)))===Et||null==o||o.$$is_boolean&&1!=o){if((o=vt.const_get(yt,"LiteralParagraphRx",!0,!0)["$match?"](g))===Et||null==o||o.$$is_boolean&&1!=o)break;t.$unshift_line(g),d.$concat(At(t,"read_lines_until",[St(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((u=function(t){var e=u.$$s||this;return null==t&&(t=Et),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,$):n["$=="]("dlist")}).$$s=this,u.$$arity=1,u)))}else d["$<<"](g),p=!0,(o=(i=v["$=="]("dlist"))?((s=nt["~"])===Et?Et:s["$[]"](3))["$nil_or_empty?"]():v["$=="]("dlist"))===Et||null==o||o.$$is_boolean&&1!=o||(e=!1)}else!1!==p&&p!==Et&&null!=p||d.$pop(),d["$<<"](g),e=!0}else(o=vt.const_get(yt,"LiteralParagraphRx",!0,!0)["$match?"](g))===Et||null==o||o.$$is_boolean&&1!=o?(o=!1!==(i=!1!==(s=vt.const_get(yt,"BlockTitleRx",!0,!0)["$match?"](g))&&s!==Et&&null!=s?s:vt.const_get(yt,"BlockAttributeLineRx",!0,!0)["$match?"](g))&&i!==Et&&null!=i?i:vt.const_get(yt,"AttributeEntryRx",!0,!0)["$match?"](g))===Et||null==o||o.$$is_boolean&&1!=o?((o=v=At(!1!==p&&p!==Et&&null!=p?["dlist"]:vt.const_get(yt,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],((a=function(t){return a.$$s,null==t&&(t=Et),vt.const_get(yt,"ListRxMap",!0,!0)["$[]"](t)["$match?"](g)}).$$s=this,a.$$arity=1,a)))===Et||null==o||o.$$is_boolean&&1!=o||(p=!0,(o=(i=v["$=="]("dlist"))?((s=nt["~"])===Et?Et:s["$[]"](3))["$nil_or_empty?"]():v["$=="]("dlist"))===Et||null==o||o.$$is_boolean&&1!=o||(e=!1)),d["$<<"](g),f="inactive"):d["$<<"](g):(t.$unshift_line(g),d.$concat(At(t,"read_lines_until",[St(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],((l=function(t){var e=l.$$s||this;return null==t&&(t=Et),n["$=="]("dlist")?e["$is_sibling_list_item?"](t,n,$):n["$=="]("dlist")}).$$s=this,l.$$arity=1,l))),f="inactive")}else{if(!f["$=="]("active"))break;d["$<<"](g),d.$concat(t.$read_lines_until(St(["terminator","read_last_line"],{terminator:y.$terminator(),read_last_line:!0}))),f="inactive"}g=Et}for(!1!==g&&g!==Et&&null!=g&&t.$unshift_line(g),!1!==h&&h!==Et&&null!=h&&d.$delete_at(h);i=d["$empty?"]()["$!"](),(o=!1!==i&&i!==Et&&null!=i?d["$[]"](-1)["$empty?"]():i)!==Et&&null!=o&&(!o.$$is_boolean||1==o);)d.$pop();return(r=!1!==(o=d["$empty?"]()["$!"]())&&o!==Et&&null!=o?d["$[]"](-1)["$=="](vt.const_get(yt,"LIST_CONTINUATION",!0,!0)):o)===Et||null==r||r.$$is_boolean&&1!=r||d.$pop(),d},x.$$arity=-3),vt.defs(J,"$initialize_section",k=function(t,e,n){var $,r,o,i,s,l,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et;return null==n&&(n=St([],{})),($=(a=e.$document()).$sourcemap())===Et||null==$||$.$$is_boolean&&1!=$||(c=t.$cursor()),r=this.$parse_section_title(t,a),i=null==($=vt.to_ary(r))[0]?Et:$[0],s=null==$[1]?Et:$[1],u=null==$[2]?Et:$[2],l=null==$[3]?Et:$[3],null==$[4]||$[4],!1!==s&&s!==Et&&null!=s&&(_=["reftext",s],At(n,"[]=",vt.to_a(_)),_[wt(_.length,1)]),d=vt.const_get(yt,"Section",!0,!0).$new(e,l,a.$attributes()["$key?"]("sectnums")),!1!==c&&c!==Et&&null!=c&&(_=[c],At(d,"source_location=",vt.to_a(_)),_[wt(_.length,1)]),_=[i],At(d,"id=",vt.to_a(_)),_[wt(_.length,1)],_=[u],At(d,"title=",vt.to_a(_)),_[wt(_.length,1)],($=n["$[]"](1))===Et||null==$||$.$$is_boolean&&1!=$?(($=(r=u.$casecmp("synopsis")["$=="](0))?a.$doctype()["$=="]("manpage"):u.$casecmp("synopsis")["$=="](0))===Et||null==$||$.$$is_boolean&&1!=$?_=["sect"+d.$level()]:(_=[!0],At(d,"special=",vt.to_a(_)),_[wt(_.length,1)],_=["synopsis"]),At(d,"sectname=",vt.to_a(_)),_[wt(_.length,1)]):(r=this.$parse_style_attribute(n,t),f=null==($=vt.to_ary(r))[0]?Et:$[0],null==$[1]||$[1],!1!==f&&f!==Et&&null!=f?(_=[f],At(d,"sectname=",vt.to_a(_)),_[wt(_.length,1)],_=[!0],At(d,"special=",vt.to_a(_)),_[wt(_.length,1)],($=(r=d.$sectname()["$=="]("abstract"))?a.$doctype()["$=="]("book"):d.$sectname()["$=="]("abstract"))===Et||null==$||$.$$is_boolean&&1!=$||(_=["sect1"],At(d,"sectname=",vt.to_a(_)),_[wt(_.length,1)],_=[!1],At(d,"special=",vt.to_a(_)),_[wt(_.length,1)],_=[1],At(d,"level=",vt.to_a(_)),_[wt(_.length,1)])):(_=["sect"+d.$level()],At(d,"sectname=",vt.to_a(_)),_[wt(_.length,1)])),!1!==(p=!1!==(r=($=d).$id())&&r!==Et&&null!=r?r:$["$id="](!1!==(o=n["$[]"]("id"))&&o!==Et&&null!=o?o:vt.const_get(yt,"Section",!0,!0).$generate_id(d.$title(),a)))&&p!==Et&&null!=p&&a.$register("ids",[p,!1!==($=n["$[]"]("reftext"))&&$!==Et&&null!=$?$:d.$title()]),d.$update_attributes(n),t.$skip_blank_lines(),d},k.$$arity=-3),vt.defs(J,"$is_next_line_section?",O=function(t,e){var n,$,r,o,i=Et;return(n=!1!==($=!1!==(r=e["$key?"](1))&&r!==Et&&null!=r?(i=!1!==(o=e["$[]"](1))&&o!==Et&&null!=o?o:"")["$start_with?"]("float","discrete"):r)&&$!==Et&&null!=$?vt.const_get(yt,"FloatingTitleStyleRx",!0,!0)["$match?"](i):$)===Et||null==n||n.$$is_boolean&&1!=n?(n=t["$has_more_lines?"]())===Et||null==n||n.$$is_boolean&&1!=n?Et:(n=vt.const_get(yt,"Compliance",!0,!0).$underline_style_section_titles())===Et||null==n||n.$$is_boolean&&1!=n?this["$is_section_title?"](t.$peek_line()):At(this,"is_section_title?",vt.to_a(t.$peek_lines(2))):Et},O.$$arity=2),vt.defs(J,"$is_next_line_document_title?",E=function(t,e){return this["$is_next_line_section?"](t,e)["$=="](0)},E.$$arity=2),vt.defs(J,"$is_section_title?",A=function(t,e){var n,$,r=this;return null==e&&(e=Et),!1!==(n=r["$is_single_line_section_title?"](t))&&n!==Et&&null!=n?n:($=e["$nil_or_empty?"]())===Et||null==$||$.$$is_boolean&&1!=$?r["$is_two_line_section_title?"](t,e):Et},A.$$arity=-2),vt.defs(J,"$is_single_line_section_title?",S=function(t){var e,n,$,r;return(e=!1!==(n=!1!==($=t["$start_with?"]("="))&&$!==Et&&null!=$?$:!1!==(r=vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax())&&r!==Et&&null!=r?t["$start_with?"]("#"):r)&&n!==Et&&null!=n?vt.const_get(yt,"AtxSectionRx",!0,!0)["$=~"](t):n)===Et||null==e||e.$$is_boolean&&1!=e?Et:wt(((e=nt["~"])===Et?Et:e["$[]"](1)).$length(),1)},S.$$arity=1),vt.defs(J,"$is_two_line_section_title?",R=function(t,e){var n,$,r,o,i,s,l=Et;return(n=!1!==($=!1!==(r=!1!==(o=i=vt.const_get(yt,"SETEXT_SECTION_LEVELS",!0,!0)["$[]"](s=e.$chr()))&&o!==Et&&null!=o?Q(s,l=e.$length())["$=="](e):o)&&r!==Et&&null!=r?vt.const_get(yt,"SetextSectionTitleRx",!0,!0)["$match?"](t):r)&&$!==Et&&null!=$?Ot(wt(this.$line_length(t),l).$abs(),2):$)===Et||null==n||n.$$is_boolean&&1!=n?Et:i},R.$$arity=2),vt.defs(J,"$parse_section_title",M=function(t,e){var n,$,r,o,i,s,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et;return l=a=Et,(n=!1!==($=!1!==(r=(c=t.$read_line())["$start_with?"]("="))&&r!==Et&&null!=r?r:!1!==(o=vt.const_get(yt,"Compliance",!0,!0).$markdown_syntax())&&o!==Et&&null!=o?c["$start_with?"]("#"):o)&&$!==Et&&null!=$?vt.const_get(yt,"AtxSectionRx",!0,!0)["$=~"](c):$)===Et||null==n||n.$$is_boolean&&1!=n?(n=!1!==($=!1!==(r=!1!==(o=!1!==(i=!1!==(s=vt.const_get(yt,"Compliance",!0,!0).$underline_style_section_titles())&&s!==Et&&null!=s?f=t.$peek_line(!0):s)&&i!==Et&&null!=i?u=vt.const_get(yt,"SETEXT_SECTION_LEVELS",!0,!0)["$[]"](p=f.$chr()):i)&&o!==Et&&null!=o?Q(p,h=f.$length())["$=="](f):o)&&r!==Et&&null!=r?_=!1!==(o=vt.const_get(yt,"SetextSectionTitleRx",!0,!0)["$=~"](c))&&o!==Et&&null!=o?(i=nt["~"])===Et?Et:i["$[]"](1):o:r)&&$!==Et&&null!=$?Ot(wt(this.$line_length(c),h).$abs(),2):$)===Et||null==n||n.$$is_boolean&&1!=n?this.$raise("Unrecognized section at "+t.$prev_line_info()):((n=(d=!1)!==($=!1!==(r=_["$end_with?"]("]]"))&&r!==Et&&null!=r?vt.const_get(yt,"InlineSectionAnchorRx",!0,!0)["$=~"](_):r)&&$!==Et&&null!=$?((r=nt["~"])===Et?Et:r["$[]"](2))["$!"]():$)===Et||null==n||n.$$is_boolean&&1!=n||(_=(n=[($=nt["~"])===Et?Et:$["$[]"](1),($=nt["~"])===Et?Et:$["$[]"](3),($=nt["~"])===Et?Et:$["$[]"](4)])[0],l=n[1],a=n[2]),t.$advance()):(u=(n=[wt((($=nt["~"])===Et?Et:$["$[]"](1)).$length(),1),($=nt["~"])===Et?Et:$["$[]"](2),!0])[0],_=n[1],d=n[2],(n=!1!==($=!1!==(r=_["$end_with?"]("]]"))&&r!==Et&&null!=r?vt.const_get(yt,"InlineSectionAnchorRx",!0,!0)["$=~"](_):r)&&$!==Et&&null!=$?((r=nt["~"])===Et?Et:r["$[]"](2))["$!"]():$)===Et||null==n||n.$$is_boolean&&1!=n||(_=(n=[($=nt["~"])===Et?Et:$["$[]"](1),($=nt["~"])===Et?Et:$["$[]"](3),($=nt["~"])===Et?Et:$["$[]"](4)])[0],l=n[1],a=n[2])),(n=e["$attr?"]("leveloffset"))===Et||null==n||n.$$is_boolean&&1!=n||(u=xt(u,e.$attr("leveloffset").$to_i())),[l,a,_,u,d]},M.$$arity=2),(T=vt.const_get(yt,"FORCE_UNICODE_LINE_LENGTH",!0,!0))===Et||null==T||T.$$is_boolean&&1!=T?vt.defs(J,"$line_length",C=function(t){return t.$length()},C.$$arity=1):vt.defs(J,"$line_length",I=function(t){return t.$scan(vt.const_get(yt,"UnicodeCharScanRx",!0,!0)).$size()},I.$$arity=1),vt.defs(J,"$parse_header_metadata",N=function(t,r){var e,n,o,$,i,s=this,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et,g=Et,b=Et,m=Et,y=Et,v=Et,w=Et,x=Et;if(null==r&&(r=Et),s.$process_attribute_entries(t,r),l=St([],{}),c=a=Et,(e=!1!==(n=t["$has_more_lines?"]())&&n!==Et&&null!=n?t["$next_line_empty?"]()["$!"]():n)===Et||null==e||e.$$is_boolean&&1!=e||(((e=(u=s.$process_authors(t.$read_line()))["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e)&&(!1!==r&&r!==Et&&null!=r&&(At(u,"each",[],((o=function(t,e){o.$$s;var n,$=Et;return null==t&&(t=Et),null==e&&(e=Et),(n=r.$attributes()["$key?"](t))===Et||null==n||n.$$is_boolean&&1!=n?($=[t,(n=vt.const_get([vt.Object.$$scope],"String",!0,!0)["$==="](e))===Et||null==n||n.$$is_boolean&&1!=n?e:r.$apply_header_subs(e)],At(r.$attributes(),"[]=",vt.to_a($)),$[wt($.length,1)]):Et}).$$s=s,o.$$arity=2,o)),a=r.$attributes()["$[]"]("author"),c=r.$attributes()["$[]"]("authors")),l=u),s.$process_attribute_entries(t,r),_=St([],{}),(e=!1!==(n=t["$has_more_lines?"]())&&n!==Et&&null!=n?t["$next_line_empty?"]()["$!"]():n)===Et||null==e||e.$$is_boolean&&1!=e||(d=t.$read_line(),(e=f=vt.const_get(yt,"RevisionInfoLineRx",!0,!0).$match(d))===Et||null==e||e.$$is_boolean&&1!=e?t.$unshift_line(d):((e=f["$[]"](1))===Et||null==e||e.$$is_boolean&&1!=e||(p=["revnumber",f["$[]"](1).$rstrip()],At(_,"[]=",vt.to_a(p)),p[wt(p.length,1)]),((e=(h=f["$[]"](2).$strip())["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e)&&(n=f["$[]"](1)["$!"](),p=(e=!1!==n&&n!==Et&&null!=n?h["$start_with?"]("v"):n)===Et||null==e||e.$$is_boolean&&1!=e?["revdate",h]:["revnumber",h["$[]"](Rt(1,-1,!1))],At(_,"[]=",vt.to_a(p)),p[wt(p.length,1)]),(e=f["$[]"](3))===Et||null==e||e.$$is_boolean&&1!=e||(p=["revremark",f["$[]"](3).$rstrip()],At(_,"[]=",vt.to_a(p)),p[wt(p.length,1)]))),((e=_["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e)&&(!1!==r&&r!==Et&&null!=r&&At(_,"each",[],(($=function(t,e){var n;return $.$$s,null==t&&(t=Et),null==e&&(e=Et),(n=r.$attributes()["$key?"](t))===Et||null==n||n.$$is_boolean&&1!=n?(p=[t,r.$apply_header_subs(e)],At(r.$attributes(),"[]=",vt.to_a(p)),p[wt(p.length,1)]):Et}).$$s=s,$.$$arity=2,$)),l.$update(_)),s.$process_attribute_entries(t,r),t.$skip_blank_lines()),!1!==r&&r!==Et&&null!=r){if((e=!1!==(n=r.$attributes()["$key?"]("author"))&&n!==Et&&null!=n?(g=r.$attributes()["$[]"]("author"))["$!="](a):n)===Et||null==e||e.$$is_boolean&&1!=e)if((e=!1!==(n=r.$attributes()["$key?"]("authors"))&&n!==Et&&null!=n?(g=r.$attributes()["$[]"]("authors"))["$!="](c):n)===Et||null==e||e.$$is_boolean&&1!=e){for(b=(e=[[],1,"author_1",!1,!1])[0],m=e[1],y=e[2],v=e[3],w=e[4];(n=r.$attributes()["$key?"](y))!==Et&&null!=n&&(!n.$$is_boolean||1==n);)(x=r.$attributes()["$[]"](y))["$=="](u["$[]"](y))?(b["$<<"](Et),w=!0):(b["$<<"](x),v=!0),y="author_"+(m=xt(m,1));!1!==v&&v!==Et&&null!=v?(!1!==w&&w!==Et&&null!=w&&At(b,"each_with_index",[],((i=function(t,e){var n,$=i.$$s||this,r=Et;return null==t&&(t=Et),null==e&&(e=Et),!1!==t&&t!==Et&&null!=t?Et:(p=[e,Q(At([u["$[]"]("firstname_"+(r=xt(e,1))),u["$[]"]("middlename_"+r),u["$[]"]("lastname_"+r)].$compact(),"map",[],(n=function(t){return n.$$s,null==t&&(t=Et),t.$tr(" ","_")},n.$$s=$,n.$$arity=1,n))," ")],At(b,"[]=",vt.to_a(p)),p[wt(p.length,1)])}).$$s=s,i.$$arity=2,i)),u=s.$process_authors(b,!0,!1)):u=St([],{})}else u=s.$process_authors(g,!0);else u=s.$process_authors(g,!0,!1);((e=u["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e)&&(r.$attributes().$update(u),(e=!1!==(n=r.$attributes()["$key?"]("email")["$!"]())&&n!==Et&&null!=n?r.$attributes()["$key?"]("email_1"):n)===Et||null==e||e.$$is_boolean&&1!=e||(p=["email",r.$attributes()["$[]"]("email_1")],At(r.$attributes(),"[]=",vt.to_a(p)),p[wt(p.length,1)]))}return l},N.$$arity=-2),vt.defs(J,"$process_authors",j=function(t,p,e){var n,h,g,$,r=this,b=Et;return null==p&&(p=!1),null==e&&(e=!0),b=St([],{}),$=!(g=["author","authorinitials","firstname","middlename","lastname","email"])!==e&&e!==Et&&null!=e?At(t.$split(";"),"map",[],((n=function(t){return n.$$s,null==t&&(t=Et),t.$strip()}).$$s=r,n.$$arity=1,n)):r.$Array(t),At($,"each_with_index",[],((h=function(t,n){var e,$,r,o,i,s=h.$$s||this,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et;return null==t&&(t=Et),null==n&&(n=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?(l=St([],{}),n["$=="](0)?At(g,"each",[],(($=function(t){var e;return $.$$s,null==t&&(t=Et),e=[t.$to_sym(),t],At(l,"[]=",vt.to_a(e)),e[wt(e.length,1)]}).$$s=s,$.$$arity=1,$)):At(g,"each",[],((r=function(t){var e;return r.$$s,null==t&&(t=Et),e=[t.$to_sym(),t+"_"+xt(n,1)],At(l,"[]=",vt.to_a(e)),e[wt(e.length,1)]}).$$s=s,r.$$arity=1,r)),a=Et,!1!==p&&p!==Et&&null!=p?(a=t.$split(Et,3)).$size()["$=="](3)&&a["$<<"](a.$pop().$tr_s(" "," ")):(e=c=vt.const_get(yt,"AuthorInfoLineRx",!0,!0).$match(t))===Et||null==e||e.$$is_boolean&&1!=e||(a=c.$to_a()).$shift(),!1!==a&&a!==Et&&null!=a?(u=[l["$[]"]("firstname"),_=a["$[]"](0).$tr("_"," ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("author"),_],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("authorinitials"),_.$chr()],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],(e=a["$[]"](1))===Et||null==e||e.$$is_boolean&&1!=e||((e=a["$[]"](2))===Et||null==e||e.$$is_boolean&&1!=e?(u=[l["$[]"]("lastname"),f=a["$[]"](1).$tr("_"," ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("author"),[_,f].$join(" ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("authorinitials"),""+_.$chr()+f.$chr()]):(u=[l["$[]"]("middlename"),d=a["$[]"](1).$tr("_"," ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("lastname"),f=a["$[]"](2).$tr("_"," ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("author"),[_,d,f].$join(" ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("authorinitials"),""+_.$chr()+d.$chr()+f.$chr()]),At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)]),((e=!1!==(o=p)&&o!==Et&&null!=o?o:a["$[]"](3)["$!"]())===Et||null==e||e.$$is_boolean&&1!=e)&&(u=[l["$[]"]("email"),a["$[]"](3)],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)])):(u=[l["$[]"]("author"),(u=[l["$[]"]("firstname"),_=t.$strip().$tr_s(" "," ")],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)])],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],u=[l["$[]"]("authorinitials"),_.$chr()],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)]),u=["authorcount",xt(n,1)],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)],n["$=="](1)&&At(g,"each",[],((i=function(t){var e;return i.$$s,null==t&&(t=Et),(e=b["$key?"](t))===Et||null==e||e.$$is_boolean&&1!=e?Et:(u=[t+"_1",b["$[]"](t)],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)])}).$$s=s,i.$$arity=1,i)),u=n["$=="](0)?["authors",b["$[]"](l["$[]"]("author"))]:["authors",b["$[]"]("authors")+", "+b["$[]"](l["$[]"]("author"))],At(b,"[]=",vt.to_a(u)),u[wt(u.length,1)]):Et}).$$s=r,h.$$arity=2,h)),b},j.$$arity=-2),vt.defs(J,"$parse_block_metadata_lines",L=function(t,e,n,$){var r;for(null==n&&(n=St([],{})),null==$&&($=St([],{}));(r=this.$parse_block_metadata_line(t,e,n,$))!==Et&&null!=r&&(!r.$$is_boolean||1==r);)t.$advance(),t.$skip_blank_lines();return n},L.$$arity=-3),vt.defs(J,"$parse_block_metadata_line",z=function(t,e,n,$){var r,o,i,s,l=Et,a=Et,c=Et,u=Et;if(null==$&&($=St([],{})),(r=t["$has_more_lines?"]())===Et||null==r||r.$$is_boolean&&1!=r)return!1;if((r=!1!==(o=s=(l=t.$peek_line())["$start_with?"]("//"))&&o!==Et&&null!=o?vt.const_get(yt,"CommentBlockRx",!0,!0)["$match?"](l):o)===Et||null==r||r.$$is_boolean&&1!=r){if((r=(o=!1!==s&&s!==Et&&null!=s)?vt.const_get(yt,"CommentLineRx",!0,!0)["$match?"](l):s)===Et||null==r||r.$$is_boolean&&1!=r)if((r=!1!==(o=!1!==(i=$["$[]"]("text")["$!"]())&&i!==Et&&null!=i?l["$start_with?"](":"):i)&&o!==Et&&null!=o?a=vt.const_get(yt,"AttributeEntryRx",!0,!0).$match(l):o)===Et||null==r||r.$$is_boolean&&1!=r)if((r=!1!==(o=c=!1!==(i=l["$start_with?"]("["))&&i!==Et&&null!=i?l["$end_with?"]("]"):i)&&o!==Et&&null!=o?a=vt.const_get(yt,"BlockAnchorRx",!0,!0).$match(l):o)===Et||null==r||r.$$is_boolean&&1!=r)if((r=(o=!1!==c&&c!==Et&&null!=c)?a=vt.const_get(yt,"BlockAttributeListRx",!0,!0).$match(l):c)===Et||null==r||r.$$is_boolean&&1!=r){if((r=!1!==(o=$["$[]"]("text")["$!"]())&&o!==Et&&null!=o?a=vt.const_get(yt,"BlockTitleRx",!0,!0).$match(l):o)===Et||null==r||r.$$is_boolean&&1!=r)return!1;u=["title",a["$[]"](1)],At(n,"[]=",vt.to_a(u)),u[wt(u.length,1)]}else e.$document().$parse_attributes(a["$[]"](1),[],St(["sub_input","into"],{sub_input:!0,into:n}));else((r=a["$[]"](1)["$nil_or_empty?"]())===Et||null==r||r.$$is_boolean&&1!=r)&&(u=["id",a["$[]"](1)],At(n,"[]=",vt.to_a(u)),u[wt(u.length,1)],(r=a["$[]"](2))===Et||null==r||r.$$is_boolean&&1!=r||(u=["reftext",a["$[]"](2)],At(n,"[]=",vt.to_a(u)),u[wt(u.length,1)]));else this.$process_attribute_entry(t,e,n,a)}else t.$read_lines_until(St(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0}));return!0},z.$$arity=-4),vt.defs(J,"$process_attribute_entries",P=function(t,e,n){var $;for(null==n&&(n=Et),t.$skip_comment_lines();($=this.$process_attribute_entry(t,e,n))!==Et&&null!=$&&(!$.$$is_boolean||1==$);)t.$advance(),t.$skip_comment_lines()},P.$$arity=-3),vt.defs(J,"$process_attribute_entry",D=function(t,e,n,$){var r,o,i=Et,s=Et,l=Et,a=Et,c=Et,u=Et;if(null==n&&(n=Et),null==$&&($=Et),!1!==(r=$)&&r!==Et&&null!=r||($=(o=t["$has_more_lines?"]())===Et||null==o||o.$$is_boolean&&1!=o?Et:vt.const_get(yt,"AttributeEntryRx",!0,!0).$match(t.$peek_line())),!1!==$&&$!==Et&&null!=$){if(i=$["$[]"](1),((r=(s=!1!==(o=$["$[]"](2))&&o!==Et&&null!=o?o:"")["$empty?"]())===Et||null==r||r.$$is_boolean&&1!=r)&&(r=!1!==(o=s["$end_with?"](l=vt.const_get(yt,"LINE_CONTINUATION",!0,!0)))&&o!==Et&&null!=o?o:s["$end_with?"](l=vt.const_get(yt,"LINE_CONTINUATION_LEGACY",!0,!0)))!==Et&&null!=r&&(!r.$$is_boolean||1==r))for(s=s.$chop().$rstrip();(o=t.$advance())!==Et&&null!=o&&(!o.$$is_boolean||1==o)&&((o=(a=t.$peek_line().$strip())["$empty?"]())===Et||null==o||o.$$is_boolean&&1!=o)&&((o=c=a["$end_with?"](l))===Et||null==o||o.$$is_boolean&&1!=o||(a=a.$chop().$rstrip()),u=(o=s["$end_with?"](vt.const_get(yt,"LINE_BREAK",!0,!0)))===Et||null==o||o.$$is_boolean&&1!=o?" ":vt.const_get(yt,"EOL",!0,!0),s=""+s+u+a,!1!==c&&c!==Et&&null!=c););return this.$store_attribute(i,s,!1!==e&&e!==Et&&null!=e?e.$document():Et,n),!0}return!1},D.$$arity=-3),vt.defs(J,"$store_attribute",B=function(t,e,n,$){var r,o=Et,i=Et;return null==n&&(n=Et),null==$&&($=Et),(r=t["$end_with?"]("!"))===Et||null==r||r.$$is_boolean&&1!=r?(r=t["$start_with?"]("!"))===Et||null==r||r.$$is_boolean&&1!=r||(e=Et,t=t["$[]"](Rt(1,-1,!1))):(e=Et,t=t.$chop()),t=this.$sanitize_attribute_name(t),!(o=!0)!==n&&n!==Et&&null!=n&&(t["$=="]("numbered")?t="sectnums":t["$=="]("leveloffset")&&!1!==e&&e!==Et&&null!=e&&(i=e.$chr(),"+"["$==="](i)?e=xt(n.$attr("leveloffset",0).$to_i(),(!1!==(r=e["$[]"](Rt(1,-1,!1)))&&r!==Et&&null!=r?r:0).$to_i()).$to_s():"-"["$==="](i)&&(e=wt(n.$attr("leveloffset",0).$to_i(),(!1!==(r=e["$[]"](Rt(1,-1,!1)))&&r!==Et&&null!=r?r:0).$to_i()).$to_s())),o=!1!==e&&e!==Et&&null!=e?n.$set_attribute(t,e):n.$delete_attribute(t)),(r=!1!==o&&o!==Et&&null!=o?$:o)===Et||null==r||r.$$is_boolean&&1!=r||(!1!==e&&e!==Et&&null!=e&&(e=n.$attributes()["$[]"](t)),vt.const_get([vt.const_get(yt,"Document",!0,!0).$$scope],"AttributeEntry",!0,!0).$new(t,e).$save_to($)),[t,e]},B.$$arity=-3),vt.defs(J,"$resolve_list_marker",q=function(t,e,n,$,r){var o;return null==n&&(n=0),null==$&&($=!1),null==r&&(r=Et),(o=t["$=="]("olist")?e["$start_with?"](".")["$!"]():t["$=="]("olist"))===Et||null==o||o.$$is_boolean&&1!=o?t["$=="]("colist")?"<1>":e:this.$resolve_ordered_list_marker(e,n,$,r)},q.$$arity=-3),vt.defs(J,"$resolve_ordered_list_marker",U=function(e,t,n,$){var r,o,i,s=Et,l=Et;return null==t&&(t=0),null==n&&(n=!1),null==$&&($=Et),s=l=Et,i=At(vt.const_get(yt,"ORDERED_LIST_STYLES",!0,!0),"find",[],((r=function(t){return r.$$s,null==t&&(t=Et),vt.const_get(yt,"OrderedListMarkerRxMap",!0,!0)["$[]"](t)["$match?"](e)}).$$s=this,r.$$arity=1,r)),"arabic"["$==="](i)?(!1!==n&&n!==Et&&null!=n&&(s=xt(t,1),l=e.$to_i()),e="1."):"loweralpha"["$==="](i)?(!1!==n&&n!==Et&&null!=n&&(s=xt("a"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="a."):"upperalpha"["$==="](i)?(!1!==n&&n!==Et&&null!=n&&(s=xt("A"["$[]"](0).$ord(),t).$chr(),l=e.$chop()),e="A."):"lowerroman"["$==="](i)?(!1!==n&&n!==Et&&null!=n&&(s=xt(t,1),l=this.$roman_numeral_to_int(e.$chop())),e="i)"):"upperroman"["$==="](i)&&(!1!==n&&n!==Et&&null!=n&&(s=xt(t,1),l=this.$roman_numeral_to_int(e.$chop())),e="I)"),(o=!1!==n&&n!==Et&&null!=n?s["$!="](l):n)===Et||null==o||o.$$is_boolean&&1!=o||this.$warn("asciidoctor: WARNING: "+$.$line_info()+": list item index: expected "+s+", got "+l),e},U.$$arity=-2),vt.defs(J,"$is_sibling_list_item?",F=function(t,e,n){var $,r=Et,o=Et,i=Et;return($=vt.const_get([vt.Object.$$scope],"Regexp",!0,!0)["$==="](n))===Et||null==$||$.$$is_boolean&&1!=$?(r=vt.const_get(yt,"ListRxMap",!0,!0)["$[]"](e),o=n):(r=n,o=!1),!(($=i=r.$match(t))===Et||null==$||$.$$is_boolean&&1!=$)&&(!1===o||o===Et||null==o||o["$=="](this.$resolve_list_marker(e,i["$[]"](1))))},F.$$arity=3),vt.defs(J,"$next_table",G=function(t,e,n){var $,r,o,i,s,l,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et,g=Et,b=Et,m=Et,y=Et,v=Et,w=Et;for(a=vt.const_get(yt,"Table",!0,!0).$new(e,n),($=n["$key?"]("title"))===Et||null==$||$.$$is_boolean&&1!=$||(c=[n.$delete("title")],At(a,"title=",vt.to_a(c)),c[wt(c.length,1)],a.$assign_caption(n.$delete("caption"))),($=!1!==(r=n["$key?"]("cols"))&&r!==Et&&null!=r?(u=this.$parse_colspecs(n["$[]"]("cols")))["$empty?"]()["$!"]():r)===Et||null==$||$.$$is_boolean&&1!=$?_=!1:(a.$create_columns(u),_=!0),d=t.$skip_blank_lines(),f=vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ParserContext",!0,!0).$new(t,a,n),p=!1!==($=n["$key?"]("header-option"))&&$!==Et&&null!=$?$:n["$key?"]("noheader-option"),h=-1;(r=t["$has_more_lines?"]())!==Et&&null!=r&&(!r.$$is_boolean||1==r);){for(h=xt(h,1),g=t.$read_line(),o=!1!==(i=!1!==(s=!1!==(l=p["$!"]())&&l!==Et&&null!=l?d["$=="](0):l)&&s!==Et&&null!=s?h["$=="](0):s)&&i!==Et&&null!=i?b=t.$peek_line():i,(r=!1!==o&&o!==Et&&null!=o?b["$empty?"]():o)===Et||null==r||r.$$is_boolean&&1!=r||(c=[!0],At(a,"has_header_option=",vt.to_a(c)),c[wt(c.length,1)],c=["header-option",""],At(n,"[]=",vt.to_a(c)),c[wt(c.length,1)],c=["options",(r=n["$key?"]("options"))===Et||null==r||r.$$is_boolean&&1!=r?"header":n["$[]"]("options")+",header"],At(n,"[]=",vt.to_a(c)),c[wt(c.length,1)]),f.$format()["$=="]("psv")&&((r=f["$starts_with_delimiter?"](g))===Et||null==r||r.$$is_boolean&&1!=r?(o=this.$parse_cellspec(g,"start",f.$delimiter()),m=null==(r=vt.to_ary(o))[0]?Et:r[0],g=null==r[1]?Et:r[1],!1!==m&&m!==Et&&null!=m&&f.$close_open_cell(m)):(g=g["$[]"](Rt(1,-1,!1)),f.$close_open_cell())),y=!1;(o=!1!==(i=y["$!"]())&&i!==Et&&null!=i?i:g["$empty?"]()["$!"]())!==Et&&null!=o&&(!o.$$is_boolean||1==o);)if(y=!0,(o=v=f.$match_delimiter(g))===Et||null==o||o.$$is_boolean&&1!=o)c=[""+f.$buffer()+g+vt.const_get(yt,"EOL",!0,!0)],At(f,"buffer=",vt.to_a(c)),c[wt(c.length,1)],f.$format()["$=="]("csv")&&(c=[f.$buffer().$rstrip()+" "],At(f,"buffer=",vt.to_a(c)),c[wt(c.length,1)]),g="",(o=!1!==(i=f.$format()["$=="]("psv"))&&i!==Et&&null!=i?i:(s=f.$format()["$=="]("csv"))?f["$buffer_has_unclosed_quotes?"]():f.$format()["$=="]("csv"))===Et||null==o||o.$$is_boolean&&1!=o?f.$close_cell(!0):f.$keep_cell_open();else{if(f.$format()["$=="]("csv")){if((o=f["$buffer_has_unclosed_quotes?"](v.$pre_match()))!==Et&&null!=o&&(!o.$$is_boolean||1==o)){g=f.$skip_matched_delimiter(v);continue}}else if((o=v.$pre_match()["$end_with?"]("\\"))!==Et&&null!=o&&(!o.$$is_boolean||1==o)){if((o=(g=f.$skip_matched_delimiter(v,!0))["$empty?"]())!==Et&&null!=o&&(!o.$$is_boolean||1==o)){c=[""+f.$buffer()+vt.const_get(yt,"EOL",!0,!0)],At(f,"buffer=",vt.to_a(c)),c[wt(c.length,1)],f.$keep_cell_open();break}continue}f.$format()["$=="]("psv")?(i=this.$parse_cellspec(v.$pre_match(),"end"),m=null==(o=vt.to_ary(i))[0]?Et:o[0],w=null==o[1]?Et:o[1],f.$push_cellspec(m),c=[""+f.$buffer()+w]):c=[""+f.$buffer()+v.$pre_match()],At(f,"buffer=",vt.to_a(c)),c[wt(c.length,1)],(o=(g=v.$post_match())["$empty?"]())===Et||null==o||o.$$is_boolean&&1!=o||(y=!1),f.$close_cell()}((r=f["$cell_open?"]())===Et||null==r||r.$$is_boolean&&1!=r)&&(d=t.$skip_blank_lines()),((r=t["$has_more_lines?"]())===Et||null==r||r.$$is_boolean&&1!=r)&&((r=f["$cell_open?"]())===Et||null==r||r.$$is_boolean&&1!=r||f.$close_cell(!0))}return(($=!1!==(r=(o="colcount",i=a.$attributes(),!1!==(s=i["$[]"](o))&&s!==Et&&null!=s?s:i["$[]="](o,a.$columns().$size()))["$=="](0))&&r!==Et&&null!=r?r:_)===Et||null==$||$.$$is_boolean&&1!=$)&&a.$assign_column_widths(),a.$partition_header_footer(n),a},G.$$arity=3),vt.defs(J,"$parse_colspecs",H=function(t){var e,n,c,u=Et;return(e=t["$include?"](" "))===Et||null==e||e.$$is_boolean&&1!=e||(t=t.$delete(" ")),t["$=="](t.$to_i().$to_s())?At(vt.const_get([vt.Object.$$scope],"Array",!0,!0),"new",[t.$to_i()],((n=function(){return n.$$s,St(["width"],{width:1})}).$$s=this,n.$$arity=0,n)):(u=[],At(t.$split(",",-1),"each",[],((c=function(t){var e,n,$,r=c.$$s||this,o=Et,i=Et,s=Et,l=Et,a=Et;return null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?(e=o=vt.const_get(yt,"ColumnSpecRx",!0,!0).$match(t))===Et||null==e||e.$$is_boolean&&1!=e?Et:(i=St([],{}),(e=o["$[]"](2))===Et||null==e||e.$$is_boolean&&1!=e||(n=o["$[]"](2).$split("."),s=null==(e=vt.to_ary(n))[0]?Et:e[0],l=null==e[1]?Et:e[1],n=s["$nil_or_empty?"]()["$!"](),(e=!1!==n&&n!==Et&&null!=n?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$key?"](s):n)===Et||null==e||e.$$is_boolean&&1!=e||(a=["halign",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](s)],At(i,"[]=",vt.to_a(a)),a[wt(a.length,1)]),n=l["$nil_or_empty?"]()["$!"](),(e=!1!==n&&n!==Et&&null!=n?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$key?"](l):n)===Et||null==e||e.$$is_boolean&&1!=e||(a=["valign",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](l)],At(i,"[]=",vt.to_a(a)),a[wt(a.length,1)])),a=["width",(e=o["$[]"](3))===Et||null==e||e.$$is_boolean&&1!=e?1:o["$[]"](3).$to_i()],At(i,"[]=",vt.to_a(a)),a[wt(a.length,1)],n=o["$[]"](4),(e=!1!==n&&n!==Et&&null!=n?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$key?"](o["$[]"](4)):n)===Et||null==e||e.$$is_boolean&&1!=e||(a=["style",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](o["$[]"](4))],At(i,"[]=",vt.to_a(a)),a[wt(a.length,1)]),(e=o["$[]"](1))===Et||null==e||e.$$is_boolean&&1!=e?u["$<<"](i):At(1,"upto",[o["$[]"](1).$to_i()],(($=function(){return $.$$s,u["$<<"](i.$dup())}).$$s=r,$.$$arity=0,$))):u["$<<"](St(["width"],{width:1}))}).$$s=this,c.$$arity=1,c)),u)},H.$$arity=1),vt.defs(J,"$parse_cellspec",Y=function(t,e,n){var $,r,o,i,s=Et,l=Et,a=Et,c=Et,u=Et,_=Et;if(null==e&&(e="start"),null==n&&(n=Et),s=Et,l="","start"["$==="](o=e)){if(($=t["$include?"](n))===Et||null==$||$.$$is_boolean&&1!=$)return[Et,t];if(r=t.$split(n,2),a=null==($=vt.to_ary(r))[0]?Et:$[0],l=null==$[1]?Et:$[1],($=s=vt.const_get(yt,"CellSpecStartRx",!0,!0).$match(a))===Et||null==$||$.$$is_boolean&&1!=$)return[Et,t];if(($=s["$[]"](0)["$empty?"]())!==Et&&null!=$&&(!$.$$is_boolean||1==$))return[St([],{}),l]}else if("end"["$==="](o)){if(($=s=vt.const_get(yt,"CellSpecEndRx",!0,!0).$match(t))===Et||null==$||$.$$is_boolean&&1!=$)return[St([],{}),t];if(($=s["$[]"](0).$lstrip()["$empty?"]())!==Et&&null!=$&&(!$.$$is_boolean||1==$))return[St([],{}),t.$rstrip()];l=s.$pre_match()}return i=St([],{}),($=s["$[]"](1))===Et||null==$||$.$$is_boolean&&1!=$||(r=s["$[]"](1).$split("."),$=vt.to_ary(r),c=null==$[0]?Et:$[0],u=null==$[1]?Et:$[1],c=($=c["$nil_or_empty?"]())===Et||null==$||$.$$is_boolean&&1!=$?c.$to_i():1,u=($=u["$nil_or_empty?"]())===Et||null==$||$.$$is_boolean&&1!=$?u.$to_i():1,s["$[]"](2)["$=="]("+")?(c["$=="](1)||(_=["colspan",c],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)]),u["$=="](1)||(_=["rowspan",u],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)])):s["$[]"](2)["$=="]("*")&&(c["$=="](1)||(_=["repeatcol",c],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)]))),($=s["$[]"](3))===Et||null==$||$.$$is_boolean&&1!=$||(r=s["$[]"](3).$split("."),$=vt.to_ary(r),c=null==$[0]?Et:$[0],u=null==$[1]?Et:$[1],r=c["$nil_or_empty?"]()["$!"](),($=!1!==r&&r!==Et&&null!=r?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$key?"](c):r)===Et||null==$||$.$$is_boolean&&1!=$||(_=["halign",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](c)],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)]),r=u["$nil_or_empty?"]()["$!"](),($=!1!==r&&r!==Et&&null!=r?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$key?"](u):r)===Et||null==$||$.$$is_boolean&&1!=$||(_=["valign",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](u)],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)])),r=s["$[]"](4),($=!1!==r&&r!==Et&&null!=r?vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$key?"](s["$[]"](4)):r)===Et||null==$||$.$$is_boolean&&1!=$||(_=["style",vt.const_get([vt.const_get(yt,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](s["$[]"](4))],At(i,"[]=",vt.to_a(_)),_[wt(_.length,1)]),[i,l]},Y.$$arity=-2),vt.defs(J,"$parse_style_attribute",K=function(e,i){var t,n,s,o,$,r,l=Et,a=Et,c=Et,u=Et,_=Et,d=Et,f=Et,p=Et,h=Et;return null==i&&(i=Et),r=e["$[]"]("style"),(t=!1!==(n=!1!==(l=e["$[]"](1))&&l!==Et&&null!=l?l["$include?"](" ")["$!"]():l)&&n!==Et&&null!=n?vt.const_get(yt,"Compliance",!0,!0).$shorthand_property_syntax():n)===Et||null==t||t.$$is_boolean&&1!=t?(f=["style",l],At(e,"[]=",vt.to_a(f)),f[wt(f.length,1)],[l,r]):(a="style",c=[],u=St([],{}),_=At(this,"lambda",[],((s=function(){var t,e,n,$=s.$$s||this,r=Et,o=Et;return(t=c["$empty?"]())===Et||null==t||t.$$is_boolean&&1!=t?("role"["$==="](r=a)||"option"["$==="](r)?(t=a,e=u,!1!==(n=e["$[]"](t))&&n!==Et&&null!=n?n:e["$[]="](t,[]))["$<<"](c.$join()):("id"["$==="](r)&&((t=u["$key?"]("id"))===Et||null==t||t.$$is_boolean&&1!=t||$.$warn("asciidoctor: WARNING:"+(!1!==i&&i!==Et&&null!=i?" "+i.$prev_line_info()+":":Et)+" multiple ids detected in style attribute")),o=[a,c.$join()],At(u,"[]=",vt.to_a(o)),o[wt(o.length,1)]),c=[]):a["$=="]("style")?Et:$.$warn("asciidoctor: WARNING:"+(!1!==i&&i!==Et&&null!=i?" "+i.$prev_line_info()+":":Et)+" invalid empty "+a+" detected in style attribute")}).$$s=this,s.$$arity=0,s)),At(l,"each_char",[],((o=function(t){o.$$s;var e,n,$,r=Et;return null==t&&(t=Et),(e=!1!==(n=!1!==($=t["$=="]("."))&&$!==Et&&null!=$?$:t["$=="]("#"))&&n!==Et&&null!=n?n:t["$=="]("%"))===Et||null==e||e.$$is_boolean&&1!=e?c["$<<"](t):(_.$call(),"."["$==="](r=t)?a="role":"#"["$==="](r)?a="id":"%"["$==="](r)?a="option":Et)}).$$s=this,o.$$arity=1,o)),a["$=="]("style")?(f=["style",l],At(e,"[]=",vt.to_a(f)),d=f[wt(f.length,1)]):(_.$call(),(t=u["$key?"]("style"))===Et||null==t||t.$$is_boolean&&1!=t?d=Et:(f=["style",u["$[]"]("style")],At(e,"[]=",vt.to_a(f)),d=f[wt(f.length,1)]),(t=u["$key?"]("id"))===Et||null==t||t.$$is_boolean&&1!=t||(f=["id",u["$[]"]("id")],At(e,"[]=",vt.to_a(f)),f[wt(f.length,1)]),(t=u["$key?"]("role"))===Et||null==t||t.$$is_boolean&&1!=t||(f=["role",Q(u["$[]"]("role")," ")],At(e,"[]=",vt.to_a(f)),f[wt(f.length,1)]),(t=u["$key?"]("option"))===Et||null==t||t.$$is_boolean&&1!=t||(At(p=u["$[]"]("option"),"each",[],(($=function(t){return $.$$s,null==t&&(t=Et),f=[t+"-option",""],At(e,"[]=",vt.to_a(f)),f[wt(f.length,1)]}).$$s=this,$.$$arity=1,$)),f=(t=h=e["$[]"]("options"))===Et||null==t||t.$$is_boolean&&1!=t?["options",Q(p,",")]:["options",Q(xt(p,h.$split(",")),",")],At(e,"[]=",vt.to_a(f)),f[wt(f.length,1)])),[d,r])},K.$$arity=-2),vt.defs(J,"$adjust_indentation!",W=function(t,e,i){var n,$,s,r,o,l,a,c=this,u=Et,_=Et,d=Et;return null==e&&(e=0),null==i&&(i=0),((n=t["$empty?"]())===Et||null==n||n.$$is_boolean&&1!=n)&&((n=!1!==($=kt(i=i.$to_i(),0))&&$!==Et&&null!=$?t.$join()["$include?"](vt.const_get(yt,"TAB",!0,!0)):$)===Et||null==n||n.$$is_boolean&&1!=n||(u=Q(" ",i),At(t,"map!",[],((s=function(t){var e,n,$,r=s.$$s||this,o=Et;return null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?((e=t["$start_with?"](vt.const_get(yt,"TAB",!0,!0)))===Et||null==e||e.$$is_boolean&&1!=e||(t=At(t,"sub",[vt.const_get(yt,"TabIndentRx",!0,!0)],((n=function(){var t;return n.$$s,Q(u,((t=nt["~"])===Et?Et:t["$[]"](0)).$length())}).$$s=r,n.$$arity=0,n))),(e=t["$include?"](vt.const_get(yt,"TAB",!0,!0)))===Et||null==e||e.$$is_boolean&&1!=e?t:(o=0,At(t,"gsub",[vt.const_get(yt,"TabRx",!0,!0)],(($=function(){$.$$s;var t=Et,e=Et;return null==nt["~"]&&(nt["~"]=Et),(t=xt(nt["~"].$begin(0),o))["$%"](i)["$=="](0)?(o=xt(o,wt(i,1)),u):((e=wt(i,t["$%"](i)))["$=="](1)||(o=xt(o,wt(e,1))),Q(" ",e))}).$$s=r,$.$$arity=0,$)))):t}).$$s=c,s.$$arity=1,s))),(n=($=!1!==e&&e!==Et&&null!=e)?kt(e=e.$to_i(),-1):e)===Et||null==n||n.$$is_boolean&&1!=n||(_=Et,function(){var $=vt.new_brk();try{At(t,"each",[],((r=function(t){var e,n;return r.$$s,null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?(n=wt(t.$length(),t.$lstrip().$length()))["$=="](0)?(_=Et,void vt.brk(Et,$)):(e=!1!==_&&_!==Et&&null!=_?kt(n,_):_)===Et||null==e||e.$$is_boolean&&1!=e?_=n:Et:Et}).$$s=c,r.$$brk=$,r.$$arity=1,r))}catch(t){if(t===$)return t.$v;throw t}}(),e["$=="](0)?!1!==_&&_!==Et&&null!=_&&At(t,"map!",[],((o=function(t){var e;return o.$$s,null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?t["$[]"](vt.Range.$new(_,-1,!1)):t}).$$s=c,o.$$arity=1,o)):(d=Q(" ",e),At(t,"map!",[],!1!==_&&_!==Et&&null!=_?((l=function(t){var e;return l.$$s,null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?xt(d,t["$[]"](vt.Range.$new(_,-1,!1))):t}).$$s=c,l.$$arity=1,l):((a=function(t){var e;return a.$$s,null==t&&(t=Et),(e=t["$empty?"]())===Et||null==e||e.$$is_boolean&&1!=e?xt(d,t):t}).$$s=c,a.$$arity=1,a))))),Et},W.$$arity=-2),vt.defs(J,"$sanitize_attribute_name",X=function(t){return t.$gsub(vt.const_get(yt,"InvalidAttributeNameCharsRx",!0,!0),"").$downcase()},X.$$arity=1),vt.defs(J,"$roman_numeral_to_int",V=function(r){var o,i=Et,s=Et;return r=r.$downcase(),i=St(["i","v","x"],{i:1,v:5,x:10}),s=0,At(vt.Range.$new(0,wt(r.$length(),1),!1),"each",[],((o=function(t){var e,n,$;return o.$$s,null==t&&(t=Et),$=i["$[]"](r["$[]"](vt.Range.$new(t,t,!1))),n=Ot(xt(t,1),r.$length()),s=(e=!1!==n&&n!==Et&&null!=n?kt(i["$[]"](r["$[]"](vt.Range.$new(xt(t,1),xt(t,1),!1))),$):n)===Et||null==e||e.$$is_boolean&&1!=e?xt(s,$):wt(s,$)}).$$s=this,o.$$arity=1,o)),s},V.$$arity=1)}($.base,0,r)},Opal.modules["asciidoctor/path_resolver"]=function(m){function y(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function v(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}m.top;var t,e,n,$,r,o=m,i=[m],w=m.nil,s=(m.breaker,m.slice,m.module),x=m.klass,k=m.hash2,O=m.range,E=m.send;return m.add_stubs(["$attr_accessor","$is_root?","$expand_path","$pwd","$==","$start_with?","$match?","$nil_or_empty?","$include?","$tr","$partition_path","$join_path","$[]","$posixify","$is_web_root?","$is_unc?","$+","$index","$split","$shift","$delete","$[]=","$-","$*","$raise","$empty?","$system_path","$!=","$!","$dup","$each","$>","$size","$pop","$fetch","$warn","$<<","$end_with?","$uri_prefix","$length","$gsub"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p=$=x(t,null,"PathResolver",$),h=p.$$proto,g=p.$$scope,b=n.slice().concat(g);h.file_separator=h._partition_path_web=h._partition_path_sys=h.working_dir=w,m.cdecl(g,"DOT","."),m.cdecl(g,"DOT_DOT",".."),m.cdecl(g,"DOT_SLASH","./"),m.cdecl(g,"SLASH","/"),m.cdecl(g,"BACKSLASH","\\"),m.cdecl(g,"DOUBLE_SLASH","//"),m.cdecl(g,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),p.$attr_accessor("file_separator"),p.$attr_accessor("working_dir"),m.defn(p,"$initialize",r=function(t,e){var n,$=this;return null==t&&(t=w),null==e&&(e=w),$.file_separator=!1!==t&&t!==w&&null!=t?t:!1!==(n=m.const_get([m.const_get([m.Object.$$scope],"File",!0,!0).$$scope],"ALT_SEPARATOR",!0,!0))&&n!==w&&null!=n?n:m.const_get([m.const_get([m.Object.$$scope],"File",!0,!0).$$scope],"SEPARATOR",!0,!0),$.working_dir=!1!==e&&e!==w&&null!=e?(n=$["$is_root?"](e))===w||null==n||n.$$is_boolean&&1!=n?m.const_get([m.Object.$$scope],"File",!0,!0).$expand_path(e):e:m.const_get([m.Object.$$scope],"File",!0,!0).$expand_path(m.const_get([m.Object.$$scope],"Dir",!0,!0).$pwd()),$._partition_path_sys=k([],{}),$._partition_path_web=k([],{})},r.$$arity=-1),m.const_get(b,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&m.defn(p,"$is_root?",o=function(t){var e,n;return!1!==(e=!1!==(n=t["$start_with?"](m.const_get(b,"SLASH",!0,!0)))&&n!==w&&null!=n?n:m.const_get([m.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest")?t["$start_with?"]("file://"):m.const_get([m.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest"))&&e!==w&&null!=e?e:(n=this.file_separator["$=="](m.const_get(b,"BACKSLASH",!0,!0)))?m.const_get(b,"WindowsRootRx",!0,!0)["$match?"](t):this.file_separator["$=="](m.const_get(b,"BACKSLASH",!0,!0))},o.$$arity=1),m.defn(p,"$is_unc?",i=function(t){return t["$start_with?"](m.const_get(b,"DOUBLE_SLASH",!0,!0))},i.$$arity=1),m.defn(p,"$is_web_root?",s=function(t){return t["$start_with?"](m.const_get(b,"SLASH",!0,!0))},s.$$arity=1),m.defn(p,"$posixify",l=function(t){var e;return(e=t["$nil_or_empty?"]())===w||null==e||e.$$is_boolean&&1!=e?(e=t["$include?"](m.const_get(b,"BACKSLASH",!0,!0)))===w||null==e||e.$$is_boolean&&1!=e?t:t.$tr(m.const_get(b,"BACKSLASH",!0,!0),m.const_get(b,"SLASH",!0,!0)):""},l.$$arity=1),m.alias(p,"posixfy","posixify"),m.defn(p,"$expand_path",a=function(t){var e,n,$,r;return n=this.$partition_path(t),$=null==(e=m.to_ary(n))[0]?w:e[0],r=null==e[1]?w:e[1],null==e[2]||e[2],this.$join_path($,r)},a.$$arity=1),m.defn(p,"$partition_path",c=function(t,e){var n,$,r,o,i,s=this,l=w,a=w,c=w;return null==e&&(e=!1),(n=$=!1!==e&&e!==w&&null!=e?s._partition_path_web["$[]"](t):s._partition_path_sys["$[]"](t))===w||null==n||n.$$is_boolean&&1!=n?(l=s.$posixify(t),a=!1!==e&&e!==w&&null!=e?(n=s["$is_web_root?"](l))===w||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](m.const_get(b,"DOT_SLASH",!0,!0)))===w||null==n||n.$$is_boolean&&1!=n?w:m.const_get(b,"DOT_SLASH",!0,!0):m.const_get(b,"SLASH",!0,!0):(n=s["$is_root?"](l))===w||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](m.const_get(b,"DOT_SLASH",!0,!0)))===w||null==n||n.$$is_boolean&&1!=n?w:m.const_get(b,"DOT_SLASH",!0,!0):(n=s["$is_unc?"](l))===w||null==n||n.$$is_boolean&&1!=n?(n=l["$start_with?"](m.const_get(b,"SLASH",!0,!0)))===w||null==n||n.$$is_boolean&&1!=n?l["$[]"](0,y(l.$index(m.const_get(b,"SLASH",!0,!0)),1)):m.const_get(b,"SLASH",!0,!0):m.const_get(b,"DOUBLE_SLASH",!0,!0),c=l.$split(m.const_get(b,"SLASH",!0,!0)),a["$=="](m.const_get(b,"DOUBLE_SLASH",!0,!0))?c=c["$[]"](O(2,-1,!1)):!1!==a&&a!==w&&null!=a&&c.$shift(),c.$delete(m.const_get(b,"DOT",!0,!0)),E(!(r=[t,[c,a,l]])!==e&&e!==w&&null!=e?s._partition_path_web:s._partition_path_sys,"[]=",m.to_a(r)),r[(o=r.length,i=1,"number"==typeof o&&"number"==typeof i?o-i:o["$-"](i))]):$},c.$$arity=-2),m.defn(p,"$join_path",u=function(t,e){return null==e&&(e=w),!1!==e&&e!==w&&null!=e?""+e+v(t,m.const_get(b,"SLASH",!0,!0)):v(t,m.const_get(b,"SLASH",!0,!0))},u.$$arity=-2),m.defn(p,"$system_path",_=function(s,t,l,a){var e,n,c,$=this,r=w,o=w,i=w,u=w,_=w,d=w,f=w,p=w,h=w;if(null==t&&(t=w),null==l&&(l=w),null==a&&(a=k([],{})),!1!==l&&l!==w&&null!=l&&(((e=$["$is_root?"](l))===w||null==e||e.$$is_boolean&&1!=e)&&$.$raise(m.const_get([m.Object.$$scope],"SecurityError",!0,!0),"Jail is not an absolute path: "+l),l=$.$posixify(l)),(e=s["$nil_or_empty?"]())===w||null==e||e.$$is_boolean&&1!=e?(n=$.$partition_path(s),r=null==(e=m.to_ary(n))[0]?w:e[0],o=null==e[1]?w:e[1],null==e[2]||e[2]):r=[],(e=r["$empty?"]())!==w&&null!=e&&(!e.$$is_boolean||1==e)){if(!((e=t["$nil_or_empty?"]())===w||null==e||e.$$is_boolean&&1!=e))return!1!==l&&l!==w&&null!=l?l:$.working_dir;if((e=$["$is_root?"](t))===w||null==e||e.$$is_boolean&&1!=e)return $.$system_path(t,l,l,a);if(!1===l||l===w||null==l)return $.$expand_path(t)}return(e=(n=!1!==o&&o!==w&&null!=o)?o["$!="](m.const_get(b,"DOT_SLASH",!0,!0)):o)===w||null==e||e.$$is_boolean&&1!=e||(i=$.$join_path(r,o),(e=!1!==(n=l["$!"]())&&n!==w&&null!=n?n:i["$start_with?"](l))===w||null==e||e.$$is_boolean&&1!=e)?(t=(e=t["$nil_or_empty?"]())===w||null==e||e.$$is_boolean&&1!=e?(e=$["$is_root?"](t))===w||null==e||e.$$is_boolean&&1!=e?$.$system_path(t,l,l,a):$.$posixify(t):!1!==l&&l!==w&&null!=l?l:$.working_dir,l["$=="](t)?(n=$.$partition_path(l),e=m.to_ary(n),u=null==e[0]?w:e[0],_=null==e[1]?w:e[1],null==e[2]||e[2],d=u.$dup()):!1!==l&&l!==w&&null!=l?(((e=t["$start_with?"](l))===w||null==e||e.$$is_boolean&&1!=e)&&$.$raise(m.const_get([m.Object.$$scope],"SecurityError",!0,!0),(!1!==(e=a["$[]"]("target_name"))&&e!==w&&null!=e?e:"Start path")+" "+t+" is outside of jail: "+l+" (disallowed in safe mode)"),n=$.$partition_path(t),d=null==(e=m.to_ary(n))[0]?w:e[0],f=null==e[1]?w:e[1],null==e[2]||e[2],n=$.$partition_path(l),e=m.to_ary(n),u=null==e[0]?w:e[0],_=null==e[1]?w:e[1],null==e[2]||e[2]):(n=$.$partition_path(t),d=null==(e=m.to_ary(n))[0]?w:e[0],f=null==e[1]?w:e[1],null==e[2]||e[2],_=f),p=d.$dup(),h=!1,E(r,"each",[],((c=function(t){var e,n,$,r,o=c.$$s||this,i=w;return null==t&&(t=w),t["$=="](m.const_get(b,"DOT_DOT",!0,!0))?!1!==l&&l!==w&&null!=l?($=p.$size(),r=u.$size(),(e="number"==typeof $&&"number"==typeof r?r<$:$["$>"](r))===w||null==e||e.$$is_boolean&&1!=e?(e=(!1!==(n=i)&&n!==w&&null!=n?n:i=a.$fetch("recover",!0))["$!"]())===w||null==e||e.$$is_boolean&&1!=e?(e=h["$!"]())===w||null==e||e.$$is_boolean&&1!=e?w:(o.$warn("asciidoctor: WARNING: "+(!1!==(e=a["$[]"]("target_name"))&&e!==w&&null!=e?e:"path")+" has illegal reference to ancestor of jail, auto-recovering"),h=!0):o.$raise(m.const_get([m.Object.$$scope],"SecurityError",!0,!0),(!1!==(e=a["$[]"]("target_name"))&&e!==w&&null!=e?e:"path")+" "+s+" refers to location outside jail: "+l+" (disallowed in safe mode)"):p.$pop()):p.$pop():p["$<<"](t)}).$$s=$,c.$$arity=1,c)),$.$join_path(p,_)):i},_.$$arity=-2),m.defn(p,"$web_path",d=function(t,e){var n,$,r,o,i=w,s=w,l=w,a=w;return null==e&&(e=w),t=this.$posixify(t),e=this.$posixify(e),i=w,((n=!1!==($=e["$nil_or_empty?"]())&&$!==w&&null!=$?$:this["$is_web_root?"](t))===w||null==n||n.$$is_boolean&&1!=n)&&(t=(n=e["$end_with?"](m.const_get(b,"SLASH",!0,!0)))===w||null==n||n.$$is_boolean&&1!=n?""+e+m.const_get(b,"SLASH",!0,!0)+t:""+e+t,(n=i=m.const_get(b,"Helpers",!0,!0).$uri_prefix(t))===w||null==n||n.$$is_boolean&&1!=n||(t=t["$[]"](m.Range.$new(i.$length(),-1,!1)))),$=this.$partition_path(t,!0),o=null==(n=m.to_ary($))[0]?w:n[0],s=null==n[1]?w:n[1],null==n[2]||n[2],l=[],E(o,"each",[],((r=function(t){var e;return r.$$s,null==t&&(t=w),t["$=="](m.const_get(b,"DOT_DOT",!0,!0))?(e=l["$empty?"]())===w||null==e||e.$$is_boolean&&1!=e?l["$[]"](-1)["$=="](m.const_get(b,"DOT_DOT",!0,!0))?l["$<<"](t):l.$pop():(e=!1!==s&&s!==w&&null!=s?s["$!="](m.const_get(b,"DOT_SLASH",!0,!0)):s)===w||null==e||e.$$is_boolean&&1!=e?l["$<<"](t):w:l["$<<"](t)}).$$s=this,r.$$arity=1,r)),(n=(a=this.$join_path(l,s))["$include?"](" "))===w||null==n||n.$$is_boolean&&1!=n||(a=a.$gsub(" ","%20")),!1!==i&&i!==w&&null!=i?""+i+a:a},d.$$arity=-2),m.defn(p,"$relative_path",f=function(t,e){var n,$,r=this,o=w;return $=r["$is_root?"](t),(n=!1!==$&&$!==w&&null!=$?r["$is_root?"](e):$)===w||null==n||n.$$is_boolean&&1!=n?t:(o=(n=e["$end_with?"](r.file_separator))===w||null==n||n.$$is_boolean&&1!=n?y(e.$length(),1):e.$length(),t["$[]"](m.Range.$new(o,-1,!1)))},f.$$arity=2)}($.base,0,r)},Opal.modules["asciidoctor/reader"]=function(P){function D(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function B(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function U(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}P.top;var t,e,n,$,r,o=P,i=[P],F=P.nil,s=(P.breaker,P.slice,P.module),G=P.klass,H=P.hash2,Y=P.range,K=P.send,w=P.gvars;return P.add_stubs(["$attr_accessor","$path","$lineno","$attr_reader","$!","$===","$split","$file","$dir","$dirname","$==","$basename","$prepare_lines","$dup","$empty?","$[]","$normalize_lines_from_string","$normalize_lines_array","$+","$nil?","$peek_line","$nil_or_empty?","$>","$process_line","$times","$read_line","$<<","$unshift_all","$has_more_lines?","$shift","$*","$read_lines","$unshift","$advance","$eof?","$start_with?","$match?","$push","$read_lines_until","$size","$clear","$[]=","$-","$new","$line_info","$to_i","$fetch","$attributes","$<","$references","$key?","$skip_front_matter!","$pop","$adjust_indentation!","$attr","$end_with?","$include?","$=~","$preprocess_conditional_directive","$preprocess_include_directive","$strip","$pop_include","$downcase","$warn","$none?","$any?","$resolve_expr_val","$send","$to_sym","$replace_next_line","$rstrip","$sub_attributes","$attribute_missing","$include_processors?","$find","$handles?","$instance","$process_method","$parse","$>=","$safe","$pwd","$base_dir","$join","$uriish?","$require_library","$normalize_system_path","$file?","$relative_path","$each","$map","$to_proc","$/","$concat","$to_a","$uniq","$sort","$to_set","$open","$each_line","$infinite?","$push_include","$force_encoding","$length","$read","$extname","$rootname","$<=","$!=","$to_f","$extensions?","$extensions","$include_processors","$class","$object_id","$inspect","$to_s"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N=$=G(t,null,"Reader",$),j=N.$$proto,L=N.$$scope,z=n.slice().concat(L);j.file=j.dir=j.lines=j.process_lines=j.look_ahead=j.eof=j.unescape_next_line=j.lineno=j.path=j.source_lines=F,function(t,e,n){function $(){}var r,o,i=$=G(t,null,"Cursor",$),s=(i.$$proto,i.$$scope);n.slice().concat(s),i.$attr_accessor("file"),i.$attr_accessor("dir"),i.$attr_accessor("path"),i.$attr_accessor("lineno"),P.defn(i,"$initialize",r=function(t,e,n,$){return null==e&&(e=F),null==n&&(n=F),null==$&&($=F),this.file=t,this.dir=e,this.path=n,this.lineno=$},r.$$arity=-2),P.defn(i,"$line_info",o=function(){return this.$path()+": line "+this.$lineno()},o.$$arity=0),P.alias(i,"to_s","line_info")}(L.base,0,z),N.$attr_reader("file"),N.$attr_reader("dir"),N.$attr_reader("path"),N.$attr_reader("lineno"),N.$attr_reader("source_lines"),N.$attr_accessor("process_lines"),P.defn(N,"$initialize",r=function(t,e,n){var $,r,o=this;return null==t&&(t=F),null==e&&(e=F),null==n&&(n=H(["normalize"],{normalize:!1})),($=e["$!"]())===F||null==$||$.$$is_boolean&&1!=$?($=P.const_get([P.Object.$$scope],"String",!0,!0)["$==="](e))===F||null==$||$.$$is_boolean&&1!=$?(o.file=e.$file(),o.dir=e.$dir(),o.path=!1!==($=e.$path())&&$!==F&&null!=$?$:"<stdin>",($=o.file)===F||null==$||$.$$is_boolean&&1!=$||((($=o.dir)===F||null==$||$.$$is_boolean&&1!=$)&&(o.dir=P.const_get([P.Object.$$scope],"File",!0,!0).$dirname(o.file),o.dir["$=="](".")&&(o.dir=F)),(($=e.$path())===F||null==$||$.$$is_boolean&&1!=$)&&(o.path=P.const_get([P.Object.$$scope],"File",!0,!0).$basename(o.file))),o.lineno=!1!==($=e.$lineno())&&$!==F&&null!=$?$:1):(o.file=e,r=P.const_get([P.Object.$$scope],"File",!0,!0).$split(o.file),$=P.to_ary(r),o.dir=null==$[0]?F:$[0],o.path=null==$[1]?F:$[1],o.lineno=1):(o.file=o.dir=F,o.path="<stdin>",o.lineno=1),o.lines=!1!==t&&t!==F&&null!=t?o.$prepare_lines(t,n):[],o.source_lines=o.lines.$dup(),o.eof=o.lines["$empty?"](),o.look_ahead=0,o.process_lines=!0,o.unescape_next_line=!1},r.$$arity=-1),P.defn(N,"$prepare_lines",o=function(t,e){var n;return null==e&&(e=H([],{})),(n=P.const_get([P.Object.$$scope],"String",!0,!0)["$==="](t))===F||null==n||n.$$is_boolean&&1!=n?(n=e["$[]"]("normalize"))===F||null==n||n.$$is_boolean&&1!=n?t.$dup():P.const_get(z,"Helpers",!0,!0).$normalize_lines_array(t):(n=e["$[]"]("normalize"))===F||null==n||n.$$is_boolean&&1!=n?t.$split(P.const_get(z,"EOL",!0,!0),-1):P.const_get(z,"Helpers",!0,!0).$normalize_lines_from_string(t)},o.$$arity=-2),P.defn(N,"$process_line",i=function(t){var e;return(e=this.process_lines)===F||null==e||e.$$is_boolean&&1!=e||(this.look_ahead=D(this.look_ahead,1)),t},i.$$arity=1),P.defn(N,"$has_more_lines?",s=function(){var t;return(!1!==(t=this.eof)&&t!==F&&null!=t?t:this.eof=this.$peek_line()["$nil?"]())["$!"]()},s.$$arity=0),P.defn(N,"$next_line_empty?",l=function(){return this.$peek_line()["$nil_or_empty?"]()},l.$$arity=0),P.defn(N,"$peek_line",a=function(t){var e,n,$=this,r=F;return null==t&&(t=!1),(e=!1!==(n=t)&&n!==F&&null!=n?n:B($.look_ahead,0))===F||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=$.eof)&&n!==F&&null!=n?n:$.lines["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?(e=(r=$.$process_line($.lines["$[]"](0)))["$!"]())===F||null==e||e.$$is_boolean&&1!=e?r:$.$peek_line():($.eof=!0,$.look_ahead=0,F):(e=$.unescape_next_line)===F||null==e||e.$$is_boolean&&1!=e?$.lines["$[]"](0):$.lines["$[]"](0)["$[]"](Y(1,-1,!1))},a.$$arity=-1),P.defn(N,"$peek_lines",c=function(t,r){var o,e,n,i=this,s=F;return null==t&&(t=1),null==r&&(r=!0),n=i.look_ahead,s=[],function(){var $=P.new_brk();try{K(t,"times",[],((o=function(){var t,e,n=o.$$s||this;if(!((t=e=n.$read_line(r))===F||null==t||t.$$is_boolean&&1!=t))return s["$<<"](e);P.brk(F,$)}).$$s=i,o.$$brk=$,o.$$arity=0,o))}catch(t){if(t===$)return t.$v;throw t}}(),((e=s["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e)&&(i.$unshift_all(s),!1!==r&&r!==F&&null!=r&&(i.look_ahead=n)),s},c.$$arity=-1),P.defn(N,"$read_line",u=function(t){var e,n,$;return null==t&&(t=!1),(e=!1!==(n=!1!==($=t)&&$!==F&&null!=$?$:B(this.look_ahead,0))&&n!==F&&null!=n?n:this["$has_more_lines?"]())===F||null==e||e.$$is_boolean&&1!=e?F:this.$shift()},u.$$arity=-1),P.defn(N,"$read_lines",_=function(){var t,e=F;for(e=[];(t=this["$has_more_lines?"]())!==F&&null!=t&&(!t.$$is_boolean||1==t);)e["$<<"](this.$shift());return e},_.$$arity=0),P.alias(N,"readlines","read_lines"),P.defn(N,"$read",d=function(){return q(this.$read_lines(),P.const_get(z,"EOL",!0,!0))},d.$$arity=0),P.defn(N,"$advance",f=function(t){return null==t&&(t=!0),this.$read_line(t)["$!"]()["$!"]()},f.$$arity=-1),P.defn(N,"$unshift_line",p=function(t){return this.$unshift(t),F},p.$$arity=1),P.alias(N,"restore_line","unshift_line"),P.defn(N,"$unshift_lines",h=function(t){return this.$unshift_all(t),F},h.$$arity=1),P.alias(N,"restore_lines","unshift_lines"),P.defn(N,"$replace_next_line",g=function(t){return this.$advance(),this.$unshift(t),F},g.$$arity=1),P.alias(N,"replace_line","replace_next_line"),P.defn(N,"$skip_blank_lines",b=function(){var t,e,n=F,$=F;if((t=this["$eof?"]())!==F&&null!=t&&(!t.$$is_boolean||1==t))return 0;for(n=0;(e=$=this.$peek_line())!==F&&null!=e&&(!e.$$is_boolean||1==e);){if((e=$["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e)return n;this.$advance(),n=D(n,1)}return n},b.$$arity=0),P.defn(N,"$skip_comment_lines",m=function(t){var e,n,$,r,o=F,i=F,s=F;if(null==t&&(t=H([],{})),(e=this["$eof?"]())!==F&&null!=e&&(!e.$$is_boolean||1==e))return[];for(o=[],r=t["$[]"]("include_blank_lines");(n=i=this.$peek_line())!==F&&null!=n&&(!n.$$is_boolean||1==n);)if((n=($=!1!==r&&r!==F&&null!=r)?i["$empty?"]():r)===F||null==n||n.$$is_boolean&&1!=n)if((n=!1!==($=s=i["$start_with?"]("//"))&&$!==F&&null!=$?P.const_get(z,"CommentBlockRx",!0,!0)["$match?"](i):$)===F||null==n||n.$$is_boolean&&1!=n){if((n=($=!1!==s&&s!==F&&null!=s)?P.const_get(z,"CommentLineRx",!0,!0)["$match?"](i):s)===F||null==n||n.$$is_boolean&&1!=n)break;o["$<<"](this.$shift())}else o["$<<"](this.$shift()),K(o,"push",P.to_a(this.$read_lines_until(H(["terminator","read_last_line","skip_processing"],{terminator:i,read_last_line:!0,skip_processing:!0}))));else o["$<<"](this.$shift());return o},m.$$arity=-1),P.defn(N,"$skip_line_comments",y=function(){var t,e,n=F,$=F;if((t=this["$eof?"]())!==F&&null!=t&&(!t.$$is_boolean||1==t))return[];for(n=[];!((e=$=this.$peek_line())===F||null==e||e.$$is_boolean&&1!=e||(e=P.const_get(z,"CommentLineRx",!0,!0)["$match?"]($))===F||null==e||e.$$is_boolean&&1!=e);)n["$<<"](this.$shift());return n},y.$$arity=0),P.defn(N,"$terminate",v=function(){return this.lineno=D(this.lineno,this.lines.$size()),this.lines.$clear(),this.eof=!0,this.look_ahead=0,F},v.$$arity=0),P.defn(N,"$eof?",w=function(){return this["$has_more_lines?"]()["$!"]()},w.$$arity=0),P.alias(N,"empty?","eof?"),P.defn(N,"$read_lines_until",x=function(t){var e,n,$,r,o,i=x.$$p,s=i||F,l=F,a=F,c=F,u=F,_=F,d=F,f=F,p=F,h=F,g=F;for(null==t&&(t=H([],{})),i&&(x.$$p=null),l=[],(e=t["$[]"]("skip_first_line"))===F||null==e||e.$$is_boolean&&1!=e||this.$advance(),a=!((e=!1!==(n=this.process_lines)&&n!==F&&null!=n?t["$[]"]("skip_processing"):n)===F||null==e||e.$$is_boolean&&1!=e||(this.process_lines=!1)),(e=c=t["$[]"]("terminator"))===F||null==e||e.$$is_boolean&&1!=e?(u=t["$[]"]("break_on_blank_lines"),_=t["$[]"]("break_on_list_continuation")):_=u=!1,o=t["$[]"]("skip_line_comments"),p=f=d=!1;(n=!1!==($=p["$!"]())&&$!==F&&null!=$?h=this.$read_line():$)!==F&&null!=n&&(!n.$$is_boolean||1==n);)!1!==(p=function(){for(;($=!0)!==F&&null!=$&&(!$.$$is_boolean||1==$);)return!((($=(r=!1!==c&&c!==F&&null!=c)?h["$=="](c):c)===F||null==$||$.$$is_boolean&&1!=$)&&(($=(r=!1!==u&&u!==F&&null!=u)?h["$empty?"]():u)===F||null==$||$.$$is_boolean&&1!=$)&&(($=!1!==(r=!1!==_&&_!==F&&null!=_?d:_)&&r!==F&&null!=r?h["$=="](P.const_get(z,"LIST_CONTINUATION",!0,!0)):r)===F||null==$||$.$$is_boolean&&1!=$?($=(r=s!==F)?P.yield1(s,h):s!==F)===F||null==$||$.$$is_boolean&&1!=$:(g=["preserve_last_line",!0],K(t,"[]=",P.to_a(g)),g[U(g.length,1)],0)));return F}())&&p!==F&&null!=p?((n=t["$[]"]("read_last_line"))===F||null==n||n.$$is_boolean&&1!=n||(l["$<<"](h),d=!0),(n=t["$[]"]("preserve_last_line"))===F||null==n||n.$$is_boolean&&1!=n||(this.$unshift(h),f=!0)):((n=!1!==($=(r=!1!==o&&o!==F&&null!=o)?h["$start_with?"]("//"):o)&&$!==F&&null!=$?P.const_get(z,"CommentLineRx",!0,!0)["$match?"](h):$)===F||null==n||n.$$is_boolean&&1!=n)&&(l["$<<"](h),d=!0);return!1!==a&&a!==F&&null!=a&&((e=(n=!(this.process_lines=!0)!==f&&f!==F&&null!=f)?c["$!"]():f)===F||null==e||e.$$is_boolean&&1!=e||(this.look_ahead=U(this.look_ahead,1))),l},x.$$arity=-1),P.defn(N,"$shift",k=function(){return this.lineno=D(this.lineno,1),this.look_ahead["$=="](0)||(this.look_ahead=U(this.look_ahead,1)),this.lines.$shift()},k.$$arity=0),P.defn(N,"$unshift",O=function(t){return this.lineno=U(this.lineno,1),this.look_ahead=D(this.look_ahead,1),this.eof=!1,this.lines.$unshift(t)},O.$$arity=1),P.defn(N,"$unshift_all",E=function(t){return this.lineno=U(this.lineno,t.$size()),this.look_ahead=D(this.look_ahead,t.$size()),this.eof=!1,K(this.lines,"unshift",P.to_a(t))},E.$$arity=1),P.defn(N,"$cursor",A=function(){return P.const_get(z,"Cursor",!0,!0).$new(this.file,this.dir,this.path,this.lineno)},A.$$arity=0),P.defn(N,"$line_info",S=function(){return this.path+": line "+this.lineno},S.$$arity=0),P.alias(N,"next_line_info","line_info"),P.defn(N,"$prev_line_info",R=function(){return this.path+": line "+U(this.lineno,1)},R.$$arity=0),P.defn(N,"$lines",M=function(){return this.lines.$dup()},M.$$arity=0),P.defn(N,"$string",T=function(){return q(this.lines,P.const_get(z,"EOL",!0,!0))},T.$$arity=0),P.defn(N,"$source",I=function(){return q(this.source_lines,P.const_get(z,"EOL",!0,!0))},I.$$arity=0),P.defn(N,"$to_s",C=function(){return this.$line_info()},C.$$arity=0)}($.base,0,r),void function(t,e,n){function $(){}var c,f,r,s,o,i,l,a,u,_,d,p,h,g,b,m=$=G(t,e,"PreprocessorReader",$),y=m.$$proto,v=m.$$scope,A=n.slice().concat(v);y.document=y.lineno=y.process_lines=y.look_ahead=y.skipping=y.include_stack=y.conditional_stack=y.path=y.include_processor_extensions=y.maxdepth=y.dir=y.lines=y.file=y.includes=y.unescape_next_line=F,m.$attr_reader("include_stack"),m.$attr_reader("includes"),P.defn(m,"$initialize",c=function(t,e,n){var $,r,o,i,s,l=c.$$p,a=F;return null==e&&(e=F),null==n&&(n=F),l&&(c.$$p=null),this.document=t,K(this,P.find_super_dispatcher(this,"initialize",c,!1),[e,n,H(["normalize"],{normalize:!0})],null),a=t.$attributes().$fetch("max-include-depth",64).$to_i(),s=0,($="number"==typeof(i=a)&&"number"==typeof s?i<s:i["$<"](s))===F||null==$||$.$$is_boolean&&1!=$||(a=0),this.maxdepth=H(["abs","rel"],{abs:a,rel:a}),this.include_stack=[],this.includes=!($="includes")!==(o=(r=t.$references())["$[]"]($))&&o!==F&&null!=o?o:r["$[]="]($,[]),this.skipping=!1,this.conditional_stack=[],this.include_processor_extensions=F},c.$$arity=-2),P.defn(m,"$prepare_lines",f=function(t,e){var n,$,r,o,i=f.$$p,s=F,l=F,a=F,c=F,u=F,_=F,d=F;for(null==e&&(e=H([],{})),i&&(f.$$p=null),d=0,o=arguments.length,_=new Array(o);d<o;d++)_[d]=arguments[d];if(s=K(this,P.find_super_dispatcher(this,"prepare_lines",f,!1),_,i),(n=!1!==($=this.document)&&$!==F&&null!=$?this.document.$attributes()["$key?"]("skip-front-matter"):$)===F||null==n||n.$$is_boolean&&1!=n||(n=l=this["$skip_front_matter!"](s))===F||null==n||n.$$is_boolean&&1!=n||(a=["front-matter",q(l,P.const_get(A,"EOL",!0,!0))],K(this.document.$attributes(),"[]=",P.to_a(a)),a[U(a.length,1)]),(n=e.$fetch("condense",!0))!==F&&null!=n&&(!n.$$is_boolean||1==n)){for(;($=!1!==(r=c=s["$[]"](0))&&r!==F&&null!=r?c["$empty?"]():r)!==F&&null!=$&&(!$.$$is_boolean||1==$);)!1!==($=s.$shift())&&$!==F&&null!=$&&(this.lineno=D(this.lineno,1));for(;($=!1!==(r=u=s["$[]"](-1))&&r!==F&&null!=r?u["$empty?"]():r)!==F&&null!=$&&(!$.$$is_boolean||1==$);)s.$pop()}return(n=e["$[]"]("indent"))===F||null==n||n.$$is_boolean&&1!=n||P.const_get(A,"Parser",!0,!0)["$adjust_indentation!"](s,e["$[]"]("indent"),this.document.$attr("tabsize")),s},f.$$arity=-2),P.defn(m,"$process_line",r=function(t){var e,n,$,r=this;return(e=r.process_lines)===F||null==e||e.$$is_boolean&&1!=e?t:(e=t["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=!1!==($=t["$end_with?"]("]"))&&$!==F&&null!=$?t["$start_with?"]("[")["$!"]():$)&&n!==F&&null!=n?t["$include?"]("::"):n)===F||null==e||e.$$is_boolean&&1!=e?(e=r.skipping)===F||null==e||e.$$is_boolean&&1!=e?(r.look_ahead=D(r.look_ahead,1),t):(r.$advance(),F):(e=!1!==(n=t["$include?"]("if"))&&n!==F&&null!=n?P.const_get(A,"ConditionalDirectiveRx",!0,!0)["$=~"](t):n)===F||null==e||e.$$is_boolean&&1!=e?(e=r.skipping)===F||null==e||e.$$is_boolean&&1!=e?(e=!1!==(n=t["$start_with?"]("inc","\\inc"))&&n!==F&&null!=n?P.const_get(A,"IncludeDirectiveRx",!0,!0)["$=~"](t):n)===F||null==e||e.$$is_boolean&&1!=e?(r.look_ahead=D(r.look_ahead,1),t):((e=w["~"])===F?F:e["$[]"](1))["$=="]("\\")?(r.unescape_next_line=!0,r.look_ahead=D(r.look_ahead,1),t["$[]"](Y(1,-1,!1))):(e=r.$preprocess_include_directive((n=w["~"])===F?F:n["$[]"](2),((n=w["~"])===F?F:n["$[]"](3)).$strip()))===F||null==e||e.$$is_boolean&&1!=e?(r.look_ahead=D(r.look_ahead,1),t):F:(r.$advance(),F):((e=w["~"])===F?F:e["$[]"](1))["$=="]("\\")?(r.unescape_next_line=!0,r.look_ahead=D(r.look_ahead,1),t["$[]"](Y(1,-1,!1))):(e=r.$preprocess_conditional_directive((n=w["~"])===F?F:n["$[]"](2),(n=w["~"])===F?F:n["$[]"](3),(n=w["~"])===F?F:n["$[]"](4),(n=w["~"])===F?F:n["$[]"](5)))===F||null==e||e.$$is_boolean&&1!=e?(r.look_ahead=D(r.look_ahead,1),t):(r.$advance(),F):(r.look_ahead=D(r.look_ahead,1),"")},r.$$arity=1),P.defn(m,"$peek_line",s=function(t){var e,n,$,r=s.$$p,o=F,i=F;for(null==t&&(t=!1),r&&(s.$$p=null),i=0,$=arguments.length,o=new Array($);i<$;i++)o[i]=arguments[i];return(e=n=K(this,P.find_super_dispatcher(this,"peek_line",s,!1),o,r))===F||null==e||e.$$is_boolean&&1!=e?(e=this.include_stack["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?(this.$pop_include(),this.$peek_line(t)):F:n},s.$$arity=-1),P.defn(m,"$preprocess_conditional_directive",o=function(t,e,n,$){var r,o,i,s,l,a,c,u,_=this,d=F,f=F,p=F,h=F,g=F,b=F,m=F,y=F;if((r=!1!==(o=!1!==(i=!1!==(s=t["$=="]("ifdef"))&&s!==F&&null!=s?s:t["$=="]("ifndef"))&&i!==F&&null!=i?e["$empty?"]():i)&&o!==F&&null!=o?o:(i=t["$=="]("endif"))?$:t["$=="]("endif"))!==F&&null!=r&&(!r.$$is_boolean||1==r))return!1;if(e=e.$downcase(),t["$=="]("endif"))return d=_.conditional_stack.$size(),(r=B(d,0))===F||null==r||r.$$is_boolean&&1!=r?_.$warn("asciidoctor: ERROR: "+_.$line_info()+": unmatched macro: endif::"+e+"[]"):(f=_.conditional_stack["$[]"](-1),(r=!1!==(o=e["$empty?"]())&&o!==F&&null!=o?o:e["$=="](f["$[]"]("target")))===F||null==r||r.$$is_boolean&&1!=r?_.$warn("asciidoctor: ERROR: "+_.$line_info()+": mismatched macro: endif::"+e+"[], expected endif::"+f["$[]"]("target")+"[]"):(_.conditional_stack.$pop(),_.skipping=!!((r=_.conditional_stack["$empty?"]())===F||null==r||r.$$is_boolean&&1!=r)&&_.conditional_stack["$[]"](-1)["$[]"]("skipping"))),!0;if(p=!1,(r=_.skipping)===F||null==r||r.$$is_boolean&&1!=r)if("ifdef"["$==="](h=t))h=n,F["$==="](h)?p=_.document.$attributes()["$key?"](e)["$!"]():","["$==="](h)?p=K(e.$split(","),"none?",[],((l=function(t){var e=l.$$s||this;return null==e.document&&(e.document=F),null==t&&(t=F),e.document.$attributes()["$key?"](t)}).$$s=_,l.$$arity=1,l)):"+"["$==="](h)&&(p=K(e.$split("+"),"any?",[],((a=function(t){var e=a.$$s||this;return null==e.document&&(e.document=F),null==t&&(t=F),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=_,a.$$arity=1,a)));else if("ifndef"["$==="](h))h=n,F["$==="](h)?p=_.document.$attributes()["$key?"](e):","["$==="](h)?p=K(e.$split(","),"none?",[],((c=function(t){var e=c.$$s||this;return null==e.document&&(e.document=F),null==t&&(t=F),e.document.$attributes()["$key?"](t)["$!"]()}).$$s=_,c.$$arity=1,c)):"+"["$==="](h)&&(p=K(e.$split("+"),"any?",[],((u=function(t){var e=u.$$s||this;return null==e.document&&(e.document=F),null==t&&(t=F),e.document.$attributes()["$key?"](t)}).$$s=_,u.$$arity=1,u)));else if("ifeval"["$==="](h)){if(o=e["$empty?"](),(r=!1!==o&&o!==F&&null!=o?P.const_get(A,"EvalExpressionRx",!0,!0)["$=~"]($.$strip()):o)===F||null==r||r.$$is_boolean&&1!=r)return!1;g=(r=[(o=w["~"])===F?F:o["$[]"](1),(o=w["~"])===F?F:o["$[]"](2),(o=w["~"])===F?F:o["$[]"](3)])[0],b=r[1],m=r[2],g=_.$resolve_expr_val(g),m=_.$resolve_expr_val(m),p=b["$=="]("!=")?g.$send("==",m):g.$send(b.$to_sym(),m)["$!"]()}if((r=!1!==(o=t["$=="]("ifeval"))&&o!==F&&null!=o?o:$["$!"]())===F||null==r||r.$$is_boolean&&1!=r){if((r=!1!==(o=_.skipping)&&o!==F&&null!=o?o:p)===F||null==r||r.$$is_boolean&&1!=r)return y=_.$peek_line(!0),_.$replace_next_line($.$rstrip()),_.$unshift(y),!0}else!1!==p&&p!==F&&null!=p&&(_.skipping=!0),_.conditional_stack["$<<"](H(["target","skip","skipping"],{target:e,skip:p,skipping:_.skipping}));return!0},o.$$arity=4),P.defn(m,"$preprocess_include_directive",i=function(t,e){var n,$,r,o,s,l,a,i,c,u=this,_=F,d=F,f=F,p=F,h=F,g=F,b=F,m=F,y=F,v=F,w=F,x=F,k=F,O=F,E=F;if((n=(c=u.document.$sub_attributes(t,H(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n){if($=u["$include_processors?"](),(n=!1!==$&&$!==F&&null!=$?_=K(u.include_processor_extensions,"find",[],((r=function(t){return r.$$s,null==t&&(t=F),t.$instance()["$handles?"](c)}).$$s=u,r.$$arity=1,r)):$)===F||null==n||n.$$is_boolean&&1!=n){if((n=S(u.document.$safe(),P.const_get([P.const_get(A,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===F||null==n||n.$$is_boolean&&1!=n){if((n=B(d=u.maxdepth["$[]"]("abs"),0))===F||null==n||n.$$is_boolean&&1!=n)return!1;if((n=S(u.include_stack.$size(),d))!==F&&null!=n&&(!n.$$is_boolean||1==n))return u.$warn("asciidoctor: ERROR: "+u.$line_info()+": maximum include depth of "+u.maxdepth["$[]"]("rel")+" exceeded"),!1;if($=P.const_get([P.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0),(n=!1!==$&&$!==F&&null!=$?P.const_get([P.Object.$$scope],"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("xmlhttprequest"):$)===F||null==n||n.$$is_boolean&&1!=n)if((n=P.const_get(A,"Helpers",!0,!0)["$uriish?"](c))===F||null==n||n.$$is_boolean&&1!=n){if(f="file",p=u.document.$normalize_system_path(c,u.dir,F,H(["target_name"],{target_name:"include file"})),(n=P.const_get([P.Object.$$scope],"File",!0,!0)["$file?"](p))===F||null==n||n.$$is_boolean&&1!=n)return u.$warn("asciidoctor: WARNING: "+u.$line_info()+": include file not found: "+p),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+c+"["+e+"]"),!0;h=P.const_get(A,"PathResolver",!0,!0).$new().$relative_path(p,u.document.$base_dir())}else{if((n=u.document.$attributes()["$key?"]("allow-uri-read"))===F||null==n||n.$$is_boolean&&1!=n)return u.$replace_next_line("link:"+c+"[]"),!0;f="uri",p=h=c,(n=u.document.$attributes()["$key?"]("cache-uri"))===F||null==n||n.$$is_boolean&&1!=n?(n=P.const_get([P.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===F||null==n||n.$$is_boolean&&1!=n||P.const_get([P.Object.$$scope],"OpenURI",!0,!0):((n=(o=P.const_get([P.Object.$$scope],"OpenURI",!0,!1))&&o.$$scope&&($=P.const_get([o.$$scope],"Cache",!0,!1))?"constant":F)===F||null==n||n.$$is_boolean&&1!=n)&&P.const_get(A,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached")}else f="file",p=h=(n=u.include_stack["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n?P.const_get([P.Object.$$scope],"File",!0,!0).$join(u.dir,c):P.const_get([P.Object.$$scope],"Dir",!0,!0).$pwd()["$=="](u.document.$base_dir())?c:P.const_get([P.Object.$$scope],"File",!0,!0).$join(u.dir,c);if(b=g=F,m=H([],{}),(n=e["$empty?"]()["$!"]())===F||null==n||n.$$is_boolean&&1!=n||(m=P.const_get(A,"AttributeList",!0,!0).$new(e).$parse(),(n=m["$key?"]("lines"))===F||null==n||n.$$is_boolean&&1!=n?(n=m["$key?"]("tag"))===F||null==n||n.$$is_boolean&&1!=n?(n=m["$key?"]("tags"))===F||null==n||n.$$is_boolean&&1!=n||(b=m["$[]"]("tags").$split(P.const_get(A,"DataDelimiterRx",!0,!0)).$to_set()):b=[m["$[]"]("tag")].$to_set():(g=[],K(m["$[]"]("lines").$split(P.const_get(A,"DataDelimiterRx",!0,!0)),"each",[],((s=function(t){s.$$s;var e,n,$,r,o=F,i=F;return null==t&&(t=F),(e=t["$include?"](".."))===F||null==e||e.$$is_boolean&&1!=e?g["$<<"](t.$to_i()):(n=K(t.$split("..",2),"map",[],"to_i".$to_proc()),o=null==(e=P.to_ary(n))[0]?F:e[0],(i=null==e[1]?F:e[1])["$=="](-1)?(g["$<<"](o),g["$<<"]((r=0,"number"==typeof($=1)&&"number"==typeof r?$/r:$["$/"](r)))):g.$concat(P.const_get([P.Object.$$scope],"Range",!0,!0).$new(o,i).$to_a()))}).$$s=u,s.$$arity=1,s)),g=g.$sort().$uniq())),!1!==g&&g!==F&&null!=g){if((n=g["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n){y=[],w=v=0;try{!function(){var e=P.new_brk();try{K(u,"open",[p,"r"],((l=function(o){var i,t=l.$$s||this;return null==o&&(o=F),function(){var r=P.new_brk();try{return K(o,"each_line",[],((i=function(t){i.$$s;var e,n,$=F;return null==t&&(t=F),w=D(w,1),$=g["$[]"](0),(e=!1!==(n=P.const_get([P.Object.$$scope],"Float",!0,!0)["$==="]($))&&n!==F&&null!=n?$["$infinite?"]():n)===F||null==e||e.$$is_boolean&&1!=e?(o.$lineno()["$=="]($)&&(y["$<<"](t),v["$=="](0)&&(v=w),g.$shift()),(e=g["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?F:void P.brk(F,r)):(y["$<<"](t),v["$=="](0)?v=w:F)}).$$s=t,i.$$brk=r,i.$$arity=1,i))}catch(t){if(t===r)return t.$v;throw t}}()}).$$s=u,l.$$brk=e,l.$$arity=1,l))}catch(t){if(t===e)return t.$v;throw t}}()}catch(t){if(!P.rescue(t,[P.const_get(A,"StandardError",!0,!0)]))throw t;try{return u.$warn("asciidoctor: WARNING: "+u.$line_info()+": include "+f+" not readable: "+p),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+c+"["+e+"]"),!0}finally{P.pop_exception()}}u.$advance(),u.$push_include(y,p,h,v,m)}}else if(!1!==b&&b!==F&&null!=b){if((n=b["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n){y=[],w=v=0,x=F,k=P.const_get([P.Object.$$scope],"Set",!0,!0).$new();try{!function(){var e=P.new_brk();try{K(u,"open",[p,"r"],((a=function(t){var i,n=a.$$s||this;return null==t&&(t=F),function(){var e=P.new_brk();try{return K(t,"each_line",[],((i=function(t){var e,n,$,r=i.$$s||this,o=F;return null==t&&(t=F),w=D(w,1),(e=P.const_get(A,"FORCE_ENCODING",!0,!0))===F||null==e||e.$$is_boolean&&1!=e||t.$force_encoding(P.const_get([P.const_get([P.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)),(e=(o=t=t.$rstrip())["$end_with?"]("--\x3e"))===F||null==e||e.$$is_boolean&&1!=e||(o=o["$[]"](0,U(o.$length(),3)).$rstrip()),!1!==x&&x!==F&&null!=x?(e=o["$end_with?"]("end::"+x+"[]"))===F||null==e||e.$$is_boolean&&1!=e?(((e=!1!==(n=o["$end_with?"]("[]"))&&n!==F&&null!=n?P.const_get(A,"TagDirectiveRx",!0,!0)["$match?"](o):n)===F||null==e||e.$$is_boolean&&1!=e)&&y["$<<"](t),v["$=="](0)?v=w:F):x=F:(e=!1!==(n=o["$end_with?"]("[]"))&&n!==F&&null!=n?P.const_get(A,"TagDirectiveRx",!0,!0)["$match?"](o):n)===F||null==e||e.$$is_boolean&&1!=e?F:function(){var n=P.new_brk();try{return K(b,"each",[],(($=function(t){var e;if($.$$s,null==t&&(t=F),(e=o["$end_with?"]("tag::"+t+"[]"))===F||null==e||e.$$is_boolean&&1!=e)return F;x=t,k["$<<"](t),P.brk(F,n)}).$$s=r,$.$$brk=n,$.$$arity=1,$))}catch(t){if(t===n)return t.$v;throw t}}()}).$$s=n,i.$$brk=e,i.$$arity=1,i))}catch(t){if(t===e)return t.$v;throw t}}()}).$$s=u,a.$$brk=e,a.$$arity=1,a))}catch(t){if(t===e)return t.$v;throw t}}()}catch(t){if(!P.rescue(t,[P.const_get(A,"StandardError",!0,!0)]))throw t;try{return u.$warn("asciidoctor: WARNING: "+u.$line_info()+": include "+f+" not readable: "+p),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+c+"["+e+"]"),!0}finally{P.pop_exception()}}((n=(O=U(b.$to_a(),k.$to_a()))["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n)&&u.$warn("asciidoctor: WARNING: "+u.$line_info()+": tag"+((n=B(O.$size(),1))===F||null==n||n.$$is_boolean&&1!=n?F:"s")+" '"+q(O,",")+"' not found in include "+f+": "+p),u.$advance(),u.$push_include(y,p,h,v,m)}}else try{E=K(u,"open",[p,"r"],((i=function(t){return i.$$s,null==t&&(t=F),t.$read()}).$$s=u,i.$$arity=1,i)),u.$advance(),u.$push_include(E,p,h,1,m)}catch(t){if(!P.rescue(t,[P.const_get(A,"StandardError",!0,!0)]))throw t;try{return u.$warn("asciidoctor: WARNING: "+u.$line_info()+": include "+f+" not readable: "+p),u.$replace_next_line("Unresolved directive in "+u.path+" - include::"+c+"["+e+"]"),!0}finally{P.pop_exception()}}return!0}return u.$replace_next_line("link:"+c+"[]"),!0}return u.$advance(),_.$process_method()["$[]"](u.document,u,c,P.const_get(A,"AttributeList",!0,!0).$new(e).$parse()),!0}return u.$advance(),u.document.$attributes().$fetch("attribute-missing",P.const_get(A,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")&&u.$unshift("Unresolved directive in "+u.path+" - include::"+t+"["+e+"]"),!0},i.$$arity=2),P.defn(m,"$push_include",l=function(t,e,n,$,r){var o,i,s,l=this,a=F,c=F;return null==e&&(e=F),null==n&&(n=F),null==$&&($=1),null==r&&(r=H([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),!1!==e&&e!==F&&null!=e?(l.file=e,l.dir=P.const_get(A,"File",!0,!0).$dirname(e),l.process_lines=P.const_get(A,"ASCIIDOC_EXTENSIONS",!0,!0)["$[]"](P.const_get([P.Object.$$scope],"File",!0,!0).$extname(e))):(l.file=F,l.dir=".",l.process_lines=!0),!1!==n&&n!==F&&null!=n?(l.includes["$<<"](P.const_get(A,"Helpers",!0,!0).$rootname(n)),l.path=n):l.path="<stdin>",l.lineno=$,(o=r["$key?"]("depth"))===F||null==o||o.$$is_boolean&&1!=o||(a=r["$[]"]("depth").$to_i(),s=0,(o="number"==typeof(i=a)&&"number"==typeof s?i<=s:i["$<="](s))===F||null==o||o.$$is_boolean&&1!=o||(a=1),l.maxdepth=H(["abs","rel"],{abs:D(U(l.include_stack.$size(),1),a),rel:a})),(o=(l.lines=l.$prepare_lines(t,H(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:r["$[]"]("indent")})))["$empty?"]())===F||null==o||o.$$is_boolean&&1!=o?((o=r["$key?"]("leveloffset"))===F||null==o||o.$$is_boolean&&1!=o||(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+r["$[]"]("leveloffset")),l.lines["$<<"](""),(o=c=l.document.$attr("leveloffset"))===F||null==o||o.$$is_boolean&&1!=o?l.lines["$<<"](":leveloffset!:"):l.lines["$<<"](":leveloffset: "+c),l.lineno=U(l.lineno,2)),l.eof=!1,l.look_ahead=0):l.$pop_include(),l},l.$$arity=-2),P.defn(m,"$pop_include",a=function(){var t,e,n=this;return(t=B(n.include_stack.$size(),0))===F||null==t||t.$$is_boolean&&1!=t||(e=n.include_stack.$pop(),t=P.to_ary(e),n.lines=null==t[0]?F:t[0],n.file=null==t[1]?F:t[1],n.dir=null==t[2]?F:t[2],n.path=null==t[3]?F:t[3],n.lineno=null==t[4]?F:t[4],n.maxdepth=null==t[5]?F:t[5],n.process_lines=null==t[6]?F:t[6],n.eof=n.lines["$empty?"](),n.look_ahead=0),F},a.$$arity=0),P.defn(m,"$include_depth",u=function(){return this.include_stack.$size()},u.$$arity=0),P.defn(m,"$exceeded_max_depth?",_=function(){var t,e,n;return!((t=!1!==(e=B(n=this.maxdepth["$[]"]("abs"),0))&&e!==F&&null!=e?S(this.include_stack.$size(),n):e)===F||null==t||t.$$is_boolean&&1!=t)&&this.maxdepth["$[]"]("rel")},_.$$arity=0),P.defn(m,"$shift",d=function(){var t,e,n=d.$$p,$=F,r=F;for(n&&(d.$$p=null),r=0,e=arguments.length,$=new Array(e);r<e;r++)$[r]=arguments[r];return(t=this.unescape_next_line)===F||null==t||t.$$is_boolean&&1!=t?K(this,P.find_super_dispatcher(this,"shift",d,!1),$,n):(this.unescape_next_line=!1,K(this,P.find_super_dispatcher(this,"shift",d,!1),$,n)["$[]"](Y(1,-1,!1)))},d.$$arity=0),P.defn(m,"$skip_front_matter!",p=function(t,e){var n,$,r,o=F,i=F;if(null==e&&(e=!0),o=F,t["$[]"](0)["$=="]("---")){for(i=t.$dup(),o=[],t.$shift(),!1!==e&&e!==F&&null!=e&&(this.lineno=D(this.lineno,1));($=!1!==(r=t["$empty?"]()["$!"]())&&r!==F&&null!=r?t["$[]"](0)["$!="]("---"):r)!==F&&null!=$&&(!$.$$is_boolean||1==$);)o["$<<"](t.$shift()),!1!==e&&e!==F&&null!=e&&(this.lineno=D(this.lineno,1));(n=t["$empty?"]())===F||null==n||n.$$is_boolean&&1!=n?(t.$shift(),!1!==e&&e!==F&&null!=e&&(this.lineno=D(this.lineno,1))):(K(t,"unshift",P.to_a(i)),!1!==e&&e!==F&&null!=e&&(this.lineno=0),o=F)}return o},p.$$arity=-2),P.defn(m,"$resolve_expr_val",h=function(t){var e,n,$,r=F;return(e=!1!==(n=!1!==($=t["$start_with?"]('"'))&&$!==F&&null!=$?t["$end_with?"]('"'):$)&&n!==F&&null!=n?n:!1!==($=t["$start_with?"]("'"))&&$!==F&&null!=$?t["$end_with?"]("'"):$)===F||null==e||e.$$is_boolean&&1!=e?r=!1:(r=!0,t=t["$[]"](Y(1,-1,!0))),(e=t["$include?"]("{"))===F||null==e||e.$$is_boolean&&1!=e||(t=this.document.$sub_attributes(t,H(["attribute_missing"],{attribute_missing:"drop"}))),!1!==r&&r!==F&&null!=r?t:(e=t["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?!!t["$=="]("true")||!t["$=="]("false")&&((e=t.$rstrip()["$empty?"]())===F||null==e||e.$$is_boolean&&1!=e?(e=t["$include?"]("."))===F||null==e||e.$$is_boolean&&1!=e?t.$to_i():t.$to_f():" "):F},h.$$arity=1),P.defn(m,"$include_processors?",g=function(){var t,e;return(t=this.include_processor_extensions["$nil?"]())===F||null==t||t.$$is_boolean&&1!=t?this.include_processor_extensions["$!="](!1):(t=!1!==(e=this.document["$extensions?"]())&&e!==F&&null!=e?this.document.$extensions()["$include_processors?"]():e)===F||null==t||t.$$is_boolean&&1!=t?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()},g.$$arity=0),P.defn(m,"$to_s",b=function(){var e;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+K(this.include_stack,"map",[],(e=function(t){return e.$$s,null==t&&(t=F),t.$to_s()},e.$$s=this,e.$$arity=1,e)).$join(", ")+"]}>"},b.$$arity=0)}($.base,P.const_get(r,"Reader",!0,!0),r)},Opal.modules["asciidoctor/section"]=function(f){function p(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function h(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}f.top;var t,e,n,$,r,o=f,i=[f],g=f.nil,s=(f.breaker,f.slice,f.module),b=f.klass,m=f.send,y=f.hash2,v=f.range;return f.add_stubs(["$attr_accessor","$+","$level","$>","$==","$context","$special","$generate_id","$title","$sectnum","$assign_index","$!=","$class","$object_id","$inspect","$size","$key?","$attributes","$[]","$gsub","$downcase","$empty?","$tr_s","$end_with?","$chop","$start_with?","$references","$unique_id_start_index"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var i,r,o,s,l,a,c=$=b(t,e,"Section",$),u=c.$$proto,_=c.$$scope,d=n.slice().concat(_);u.level=u.document=u.parent=u.number=u.title=u.numbered=u.blocks=g,c.$attr_accessor("index"),c.$attr_accessor("number"),c.$attr_accessor("sectname"),c.$attr_accessor("special"),c.$attr_accessor("numbered"),f.defn(c,"$initialize",i=function(t,e,n,$){var r,o=i.$$p;return null==t&&(t=g),null==e&&(e=g),null==n&&(n=!0),null==$&&($=y([],{})),o&&(i.$$p=null),m(this,f.find_super_dispatcher(this,"initialize",i,!1),[t,"section",$],null),this.level=!1!==e&&e!==g&&null!=e?e:!1!==t&&t!==g&&null!=t?p(t.$level(),1):1,this.numbered=!1!==n&&n!==g&&null!=n?h(this.level,0):n,this.special=!1!==(r=!1!==t&&t!==g&&null!=t?t.$context()["$=="]("section"):t)&&r!==g&&null!=r?t.$special():r,this.index=0,this.number=1},i.$$arity=-1),f.alias(c,"name","title"),f.defn(c,"$generate_id",r=function(){return f.const_get(d,"Section",!0,!0).$generate_id(this.$title(),this.document)},r.$$arity=0),f.defn(c,"$sectnum",o=function(t,e){var n,$,r,o;return null==t&&(t="."),null==e&&(e=g),!1!==(n=e)&&n!==g&&null!=n||(e=e["$=="](!1)?"":t),(n=!1!==($=!1!==(r=!1!==(o=this.level)&&o!==g&&null!=o?h(this.level,1):o)&&r!==g&&null!=r?this.parent:r)&&$!==g&&null!=$?this.parent.$context()["$=="]("section"):$)===g||null==n||n.$$is_boolean&&1!=n?""+this.number+e:""+this.parent.$sectnum(t)+this.number+e},o.$$arity=-1),f.defn(c,"$<<",s=function(t){var e,n=s.$$p,$=g,r=g;for(n&&(s.$$p=null),r=0,e=arguments.length,$=new Array(e);r<e;r++)$[r]=arguments[r];return t.$context()["$=="]("section")&&this.$assign_index(t),m(this,f.find_super_dispatcher(this,"<<",s,!1),$,n)},s.$$arity=1),f.defn(c,"$to_s",l=function(){var t,e,n=this,$=l.$$p,r=g,o=g,i=g;for($&&(l.$$p=null),i=0,e=arguments.length,o=new Array(e);i<e;i++)o[i]=arguments[i];return(t=n.title["$!="](g))===g||null==t||t.$$is_boolean&&1!=t?m(n,f.find_super_dispatcher(n,"to_s",l,!1),o,$):(r=(t=n.numbered)===g||null==t||t.$$is_boolean&&1!=t?n.title:n.$sectnum()+" "+n.title,"#<"+n.$class()+"@"+n.$object_id()+" {level: "+n.level+", title: "+r.$inspect()+", blocks: "+n.blocks.$size()+"}>")},l.$$arity=0),f.defs(c,"$generate_id",a=function(t,e){var n,$,r=g,o=g,i=g,s=g,l=g,a=g,c=g;if((n=(r=e.$attributes())["$key?"]("sectids"))===g||null==n||n.$$is_boolean&&1!=n)return g;if(o=!1!==(n=r["$[]"]("idseparator"))&&n!==g&&null!=n?n:"_",s=""+(i=!1!==(n=r["$[]"]("idprefix"))&&n!==g&&null!=n?n:"_")+t.$downcase().$gsub(f.const_get(d,"InvalidSectionIdCharsRx",!0,!0),o),((n=o["$empty?"]())===g||null==n||n.$$is_boolean&&1!=n)&&((n=(s=s.$tr_s(o,o))["$end_with?"](o))===g||null==n||n.$$is_boolean&&1!=n||(s=s.$chop()),(n=i["$empty?"]())!==g&&null!=n&&(!n.$$is_boolean||1==n)))for(;($=s["$start_with?"](o))!==g&&null!=$&&(!$.$$is_boolean||1==$);)s=s["$[]"](v(1,-1,!1));if((n=e.$references()["$[]"]("ids")["$key?"](s))===g||null==n||n.$$is_boolean&&1!=n)return s;for(l=e.$references()["$[]"]("ids"),a=f.const_get(d,"Compliance",!0,!0).$unique_id_start_index();($=l["$key?"](c=""+s+o+a))!==g&&null!=$&&(!$.$$is_boolean||1==$);)a=p(a,1);return c},a.$$arity=2)}($.base,f.const_get(r,"AbstractBlock",!0,!0),r)},Opal.modules["asciidoctor/stylesheets"]=function(w){w.top;var t,e,n,$,r,o=w,i=[w],x=w.nil,s=(w.breaker,w.slice,w.module),k=w.klass,O=w.send,E=w.hash2;return w.add_stubs(["$join","$new","$chomp","$read","$primary_stylesheet_data","$open","$primary_stylesheet_name","$write","$coderay_stylesheet_data","$coderay_stylesheet_name","$load_pygments","$[]","$[]=","$sub","$css","$pygments_stylesheet_data","$pygments_stylesheet_name","$!","$nil?","$require_library"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b=$=k(t,null,"Stylesheets",$),m=b.$$proto,y=b.$$scope,v=n.slice().concat(y);m.primary_stylesheet_data=m.coderay_stylesheet_data=m.pygments_stylesheet_data=x,w.cdecl(y,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),w.cdecl(y,"DEFAULT_PYGMENTS_STYLE","default"),w.cdecl(y,"STYLESHEETS_DATA_PATH",w.const_get([w.Object.$$scope],"File",!0,!0).$join(w.const_get(v,"DATA_PATH",!0,!0),"stylesheets")),b.__instance__=b.$new(),w.defs(b,"$instance",r=function(){return null==this.__instance__&&(this.__instance__=x),this.__instance__},r.$$arity=0),w.defn(b,"$primary_stylesheet_name",o=function(){return w.const_get(v,"DEFAULT_STYLESHEET_NAME",!0,!0)},o.$$arity=0),w.defn(b,"$primary_stylesheet_data",i=function(){var t;return t=y.get("JAVASCRIPT_PLATFORM")["$=="]("node")?w.get("File").$join(__dirname,"css"):"css",!1!==($a=b.primary_stylesheet_data)&&$a!==x&&null!=$a?$a:b.primary_stylesheet_data=w.get("IO").$read(w.get("File").$join(t,"asciidoctor.css")).$chomp()},i.$$arity=0),w.defn(b,"$embed_primary_stylesheet",s=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},s.$$arity=0),w.defn(b,"$write_primary_stylesheet",l=function(t){var n;return null==t&&(t="."),O(w.const_get([w.Object.$$scope],"File",!0,!0),"open",[w.const_get([w.Object.$$scope],"File",!0,!0).$join(t,this.$primary_stylesheet_name()),"w"],((n=function(t){var e=n.$$s||this;return null==t&&(t=x),t.$write(e.$primary_stylesheet_data())}).$$s=this,n.$$arity=1,n))},l.$$arity=-1),w.defn(b,"$coderay_stylesheet_name",a=function(){return"coderay-asciidoctor.css"},a.$$arity=0),w.defn(b,"$coderay_stylesheet_data",c=function(){var t;return!1!==(t=this.coderay_stylesheet_data)&&t!==x&&null!=t?t:this.coderay_stylesheet_data=w.const_get([w.Object.$$scope],"IO",!0,!0).$read(w.const_get([w.Object.$$scope],"File",!0,!0).$join(w.const_get(v,"STYLESHEETS_DATA_PATH",!0,!0),"coderay-asciidoctor.css")).$chomp()},c.$$arity=0),w.defn(b,"$embed_coderay_stylesheet",u=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},u.$$arity=0),w.defn(b,"$write_coderay_stylesheet",_=function(t){var n;return null==t&&(t="."),O(w.const_get([w.Object.$$scope],"File",!0,!0),"open",[w.const_get([w.Object.$$scope],"File",!0,!0).$join(t,this.$coderay_stylesheet_name()),"w"],((n=function(t){var e=n.$$s||this;return null==t&&(t=x),t.$write(e.$coderay_stylesheet_data())}).$$s=this,n.$$arity=1,n))},_.$$arity=-1),w.defn(b,"$pygments_stylesheet_name",d=function(t){var e;return null==t&&(t=x),"pygments-"+(!1!==(e=t)&&e!==x&&null!=e?e:w.const_get(v,"DEFAULT_PYGMENTS_STYLE",!0,!0))+".css"},d.$$arity=-1),w.defn(b,"$pygments_stylesheet_data",f=function(t){var e,n,$,r;return null==t&&(t=x),(e=this.$load_pygments())===x||null==e||e.$$is_boolean&&1!=e?"/* Pygments styles disabled. Pygments is not available. */":(e=!1!==($=t)&&$!==x&&null!=$?$:w.const_get(v,"DEFAULT_PYGMENTS_STYLE",!0,!0),n=!1!==($=this.pygments_stylesheet_data)&&$!==x&&null!=$?$:this.pygments_stylesheet_data=E([],{}),!1!==($=n["$[]"](e))&&$!==x&&null!=$?$:n["$[]="](e,w.const_get([w.Object.$$scope],"Pygments",!0,!0).$css(".listingblock .pygments",E(["classprefix","style"],{classprefix:"tok-",style:!1!==(r=t)&&r!==x&&null!=r?r:w.const_get(v,"DEFAULT_PYGMENTS_STYLE",!0,!0)})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},f.$$arity=-1),w.defn(b,"$embed_pygments_stylesheet",p=function(t){return null==t&&(t=x),"<style>\n"+this.$pygments_stylesheet_data(t)+"\n</style>"},p.$$arity=-1),w.defn(b,"$write_pygments_stylesheet",h=function(t,n){var $;return null==t&&(t="."),null==n&&(n=x),O(w.const_get([w.Object.$$scope],"File",!0,!0),"open",[w.const_get([w.Object.$$scope],"File",!0,!0).$join(t,this.$pygments_stylesheet_name(n)),"w"],(($=function(t){var e=$.$$s||this;return null==t&&(t=x),t.$write(e.$pygments_stylesheet_data(n))}).$$s=this,$.$$arity=1,$))},h.$$arity=-1),w.defn(b,"$load_pygments",g=function(){var t;return!((t=w.const_get([w.Object.$$scope],"Pygments",!0,!1)?"constant":x)===x||null==t||t.$$is_boolean&&1!=t)||w.const_get(v,"Helpers",!0,!0).$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},g.$$arity=0)}($.base,0,r)},Opal.modules["asciidoctor/table"]=function(E){function A(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function S(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function f(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function p(t,e){return"number"==typeof t&&"number"==typeof e?t/e:t["$/"](e)}function R(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}E.top;var t,e,n,$,r,o=E,i=[E],M=E.nil,s=(E.breaker,E.slice,E.module),T=E.klass,I=E.hash2,C=E.send,N=E.range;return E.add_stubs(["$attr_accessor","$new","$key?","$[]","$>","$to_i","$<","$==","$[]=","$-","$attributes","$round","$*","$/","$to_f","$empty?","$body","$each","$+","$<<","$size","$assign_column_widths","$**","$assign_width","$shift","$style=","$head=","$pop","$foot=","$update_attributes","$parent","$attr_reader","$header_row?","$table","$delete","$!","$rstrip","$start_with?","$slice","$length","$strip","$split","$include?","$readlines","$!=","$unshift","$nil?","$apply_subs","$convert","$map","$text","$to_s","$cursor","$raise","$nested?","$document","$escape","$columns","$match","$chop","$pre_match","$post_match","$buffer","$end_with?","$gsub","$push_cellspec","$cell_open?","$close_cell","$advance","$take_cellspec","$warn","$line_info","$tr_s","$upto","$times","$rowspan","$activate_rowspan","$colspan","$end_of_row?","$close_row","$rows","$effective_column_visits"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),function(t,e,n){function $(){}var _,r,o,i,s,l=$=T(t,e,"Table",$),a=l.$$proto,c=l.$$scope,d=n.slice().concat(c);a.attributes=a.document=a.has_header_option=a.rows=a.columns=M,function(t,e,n){function $(){}var r,o=$=T(t,null,"Rows",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),o.$attr_accessor("head","foot","body"),E.defn(o,"$initialize",r=function(t,e,n){return null==t&&(t=[]),null==e&&(e=[]),null==n&&(n=[]),this.head=t,this.foot=e,this.body=n},r.$$arity=-1),E.alias(o,"[]","send")}(c.base,0,d),E.cdecl(c,"DEFAULT_DATA_FORMAT","psv"),E.cdecl(c,"DATA_FORMATS",["psv","dsv","csv"]),E.cdecl(c,"DEFAULT_DELIMITERS",I(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),E.cdecl(c,"TEXT_STYLES",I(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),E.cdecl(c,"ALIGNMENTS",I(["h","v"],{h:I(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:I(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),l.$attr_accessor("columns"),l.$attr_accessor("rows"),l.$attr_accessor("has_header_option"),E.defn(l,"$initialize",_=function(t,e){var n,$,r,o,i,s=this,l=_.$$p,a=M,c=M,u=M;return l&&(_.$$p=null),C(s,E.find_super_dispatcher(s,"initialize",_,!1),[t,"table"],null),s.rows=E.const_get(d,"Rows",!0,!0).$new(),s.columns=[],s.has_header_option=e["$key?"]("header-option"),(n=a=e["$[]"]("width"))===M||null==n||n.$$is_boolean&&1!=n?c=100:(n=!1!==($=A(c=a.$to_i(),100))&&$!==M&&null!=$?$:(i=1,"number"==typeof(o=c)&&"number"==typeof i?o<i:o["$<"](i)))===M||null==n||n.$$is_boolean&&1!=n||((n=($=c["$=="](0))?!1!==(r=a["$=="]("0"))&&r!==M&&null!=r?r:a["$=="]("0%"):c["$=="](0))===M||null==n||n.$$is_boolean&&1!=n)&&(c=100),u=["tablepcwidth",c],C(s.attributes,"[]=",E.to_a(u)),u[S(u.length,1)],(n=s.document.$attributes()["$key?"]("pagewidth"))===M||null==n||n.$$is_boolean&&1!=n||!(n="tableabswidth")!==(r=($=s.attributes)["$[]"](n))&&r!==M&&null!=r||$["$[]="](n,f(p(s.attributes["$[]"]("tablepcwidth").$to_f(),100),s.document.$attributes()["$[]"]("pagewidth")).$round()),(n=e["$key?"]("rotate-option"))===M||null==n||n.$$is_boolean&&1!=n?M:(u=["orientation","landscape"],C(e,"[]=",E.to_a(u)),u[S(u.length,1)])},_.$$arity=2),E.defn(l,"$header_row?",r=function(){var t;return!1!==(t=this.has_header_option)&&t!==M&&null!=t?this.rows.$body()["$empty?"]():t},r.$$arity=0),E.defn(l,"$create_columns",o=function(t){var n,e,$=M,r=M,o=M;return $=[],r=0,C(t,"each",[],((n=function(t){var e=n.$$s||this;return null==t&&(t=M),r=R(r,t["$[]"]("width")),$["$<<"](E.const_get(d,"Column",!0,!0).$new(e,$.$size(),t))}).$$s=this,n.$$arity=1,n)),((e=(this.columns=$)["$empty?"]())===M||null==e||e.$$is_boolean&&1!=e)&&(o=["colcount",$.$size()],C(this.attributes,"[]=",E.to_a(o)),o[S(o.length,1)],this.$assign_column_widths(r["$=="](0)?M:r)),M},o.$$arity=1),E.defn(l,"$assign_column_widths",i=function(e){var n,$,r,o=M,i=M;return null==e&&(e=M),r=10["$**"](4),o=i=0,!1!==e&&e!==M&&null!=e?C(this.columns,"each",[],((n=function(t){return n.$$s,null==t&&(t=M),o=R(o,i=t.$assign_width(M,e,r))}).$$s=this,n.$$arity=1,n)):((i=p(p(f(100,r),this.columns.$size()).$to_i(),r)).$to_i()["$=="](i)&&(i=i.$to_i()),C(this.columns,"each",[],(($=function(t){return $.$$s,null==t&&(t=M),o=R(o,t.$assign_width(i))}).$$s=this,$.$$arity=1,$))),o["$=="](100)||this.columns["$[]"](-1).$assign_width(p(f(R(S(100,o),i),r).$round(),r)),M},i.$$arity=-1),E.defn(l,"$partition_header_footer",s=function(t){var e,n,$,r=M,o=M,i=M;return r=["rowcount",this.rows.$body().$size()],C(this.attributes,"[]=",E.to_a(r)),r[S(r.length,1)],(e=!1!==(n=A(o=this.rows.$body().$size(),0))&&n!==M&&null!=n?this.has_header_option:n)===M||null==e||e.$$is_boolean&&1!=e||(i=this.rows.$body().$shift(),o=S(o,1),C(i,"each",[],(($=function(t){return $.$$s,null==t&&(t=M),r=[M],C(t,"style=",E.to_a(r)),r[S(r.length,1)]}).$$s=this,$.$$arity=1,$)),r=[[i]],C(this.rows,"head=",E.to_a(r)),r[S(r.length,1)]),(e=!1!==(n=A(o,0))&&n!==M&&null!=n?t["$key?"]("footer-option"):n)===M||null==e||e.$$is_boolean&&1!=e||(r=[[this.rows.$body().$pop()]],C(this.rows,"foot=",E.to_a(r)),r[S(r.length,1)]),M},s.$$arity=1)}($.base,E.const_get(r,"AbstractBlock",!0,!0),r),function(t,e,n){function $(){}var l,r,o=$=T(t,e,"Column",$),i=o.$$proto,s=o.$$scope;n.slice().concat(s),i.attributes=M,o.$attr_accessor("style"),E.defn(o,"$initialize",l=function(t,e,n){var $,r,o,i,s=l.$$p;return null==n&&(n=I([],{})),s&&(l.$$p=null),C(this,E.find_super_dispatcher(this,"initialize",l,!1),[t,"column"],null),this.style=n["$[]"]("style"),i=["colnumber",R(e,1)],C(n,"[]=",E.to_a(i)),S(i.length,1),!($="width")!==(o=(r=n)["$[]"]($))&&o!==M&&null!=o||r["$[]="]($,1),!($="halign")!==(o=(r=n)["$[]"]($))&&o!==M&&null!=o||r["$[]="]($,"left"),!($="valign")!==(o=(r=n)["$[]"]($))&&o!==M&&null!=o||r["$[]="]($,"top"),this.$update_attributes(n)},l.$$arity=-3),E.alias(o,"table","parent"),E.defn(o,"$assign_width",r=function(t,e,n){var $,r=M;return null==e&&(e=M),null==n&&(n=1e4),!1!==e&&e!==M&&null!=e&&(t=p(f(f(p(this.attributes["$[]"]("width").$to_f(),e),100),n).$to_i(),n)).$to_i()["$=="](t)&&(t=t.$to_i()),r=["colpcwidth",t],C(this.attributes,"[]=",E.to_a(r)),r[S(r.length,1)],($=this.$parent().$attributes()["$key?"]("tableabswidth"))===M||null==$||$.$$is_boolean&&1!=$||(r=["colabswidth",f(p(t,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],C(this.attributes,"[]=",E.to_a(r)),r[S(r.length,1)]),t},r.$$arity=-2)}(E.const_get(r,"Table",!0,!0),E.const_get(r,"AbstractNode",!0,!0),r),function(t,e,n){function $(){}var p,r,o,i,s,l=$=T(t,e,"Cell",$),a=l.$$proto,c=l.$$scope,h=n.slice().concat(c);a.document=a.text=a.style=a.inner_document=a.colspan=a.rowspan=a.attributes=M,l.$attr_accessor("style"),l.$attr_accessor("colspan"),l.$attr_accessor("rowspan"),E.alias(l,"column","parent"),l.$attr_reader("inner_document"),E.defn(l,"$initialize",p=function(t,e,n,$){var r,o,i=this,s=p.$$p,l=M,a=M,c=M,u=M,_=M,d=M,f=M;if(null==n&&(n=I([],{})),null==$&&($=I([],{})),s&&(p.$$p=null),C(i,E.find_super_dispatcher(i,"initialize",p,!1),[t,"cell"],null),!1!==t&&t!==M&&null!=t?(l=(r=a=t.$table()["$header_row?"]())===M||null==r||r.$$is_boolean&&1!=r?t.$attributes()["$[]"]("style"):M,i.$update_attributes(t.$attributes())):a=l=M,!1!==n&&n!==M&&null!=n){if(i.colspan=n.$delete("colspan"),i.rowspan=n.$delete("rowspan"),((r=!1!==(o=a)&&o!==M&&null!=o?o:n["$key?"]("style")["$!"]())===M||null==r||r.$$is_boolean&&1!=r)&&(l=n["$[]"]("style")),(r=$["$[]"]("strip_text"))!==M&&null!=r&&(!r.$$is_boolean||1==r))if((r=!1!==(o=l["$=="]("literal"))&&o!==M&&null!=o?o:l["$=="]("verse"))===M||null==r||r.$$is_boolean&&1!=r)e=e.$strip();else for(e=e.$rstrip();(o=e["$start_with?"](E.const_get(h,"EOL",!0,!0)))!==M&&null!=o&&(!o.$$is_boolean||1==o);)e=e.$slice(1,e.$length());i.$update_attributes(n)}else i.colspan=M,i.rowspan=M;return l["$=="]("asciidoc")&&(c=i.document.$attributes().$delete("doctitle"),u=e.$split(E.const_get(h,"EOL",!0,!0),-1),((r=!1!==(o=u["$empty?"]())&&o!==M&&null!=o?o:u["$[]"](0)["$include?"]("::")["$!"]())===M||null==r||r.$$is_boolean&&1!=r)&&(_=u["$[]"](0),d=E.const_get(h,"PreprocessorReader",!0,!0).$new(i.document,_).$readlines(),(r=d["$!="](_))===M||null==r||r.$$is_boolean&&1!=r||(u.$shift(),C(u,"unshift",E.to_a(d)))),i.inner_document=E.const_get(h,"Document",!0,!0).$new(u,I(["header_footer","parent","cursor"],{header_footer:!1,parent:i.document,cursor:$["$[]"]("cursor")})),((r=c["$nil?"]())===M||null==r||r.$$is_boolean&&1!=r)&&(f=["doctitle",c],C(i.document.$attributes(),"[]=",E.to_a(f)),f[S(f.length,1)])),i.text=e,i.style=l},p.$$arity=-3),E.defn(l,"$text",r=function(){var t=this;return t.$apply_subs(t.text,t.style["$=="]("literal")?E.const_get(h,"BASIC_SUBS",!0,!0):E.const_get(h,"NORMAL_SUBS",!0,!0))},r.$$arity=0),E.defn(l,"$text=",o=function(t){return this.text=t},o.$$arity=1),E.defn(l,"$content",i=function(){var r;return this.style["$=="]("asciidoc")?this.inner_document.$convert():C(this.$text().$split(E.const_get(h,"BlankLineRx",!0,!0)),"map",[],((r=function(t){var e,n,$=r.$$s||this;return null==$.style&&($.style=M),null==t&&(t=M),(e=!1!==(n=$.style["$!"]())&&n!==M&&null!=n?n:$.style["$=="]("header"))===M||null==e||e.$$is_boolean&&1!=e?E.const_get(h,"Inline",!0,!0).$new($.$parent(),"quoted",t,I(["type"],{type:$.style})).$convert():t}).$$s=this,r.$$arity=1,r))},i.$$arity=0),E.defn(l,"$to_s",s=function(){var t,e,n=s.$$p,$=M,r=M;for(n&&(s.$$p=null),r=0,e=arguments.length,$=new Array(e);r<e;r++)$[r]=arguments[r];return C(this,E.find_super_dispatcher(this,"to_s",s,!1),$,n).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(t=this.colspan)&&t!==M&&null!=t?t:1)+", rowspan: "+(!1!==(t=this.rowspan)&&t!==M&&null!=t?t:1)+", attributes: "+this.attributes+"]"},s.$$arity=0)}(E.const_get(r,"Table",!0,!0),E.const_get(r,"AbstractNode",!0,!0),r),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w=$=T(t,null,"ParserContext",$),x=w.$$proto,k=w.$$scope,O=n.slice().concat(k);x.format=x.delimiter=x.delimiter_re=x.buffer=x.cellspecs=x.cell_open=x.last_cursor=x.table=x.current_row=x.colcount=x.column_visits=x.active_rowspans=x.linenum=M,w.$attr_accessor("table"),w.$attr_accessor("format"),w.$attr_reader("colcount"),w.$attr_accessor("buffer"),w.$attr_reader("delimiter"),w.$attr_reader("delimiter_re"),E.defn(w,"$initialize",r=function(t,e,n){var $,r,o=this;return null==n&&(n=I([],{})),o.reader=t,o.table=e,o.last_cursor=t.$cursor(),($=o.format=n["$[]"]("format"))===M||null==$||$.$$is_boolean&&1!=$?o.format=E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"DEFAULT_DATA_FORMAT",!0,!0):(($=E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"DATA_FORMATS",!0,!0)["$include?"](o.format))===M||null==$||$.$$is_boolean&&1!=$)&&o.$raise("Illegal table format: "+o.format),r=o.format["$=="]("psv")?n["$key?"]("separator")["$!"]():o.format["$=="]("psv"),($=!1!==r&&r!==M&&null!=r?e.$document()["$nested?"]():r)===M||null==$||$.$$is_boolean&&1!=$?o.delimiter=!1!==($=n["$[]"]("separator"))&&$!==M&&null!=$?$:E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"DEFAULT_DELIMITERS",!0,!0)["$[]"](o.format):o.delimiter="!",o.delimiter_re=new RegExp(E.const_get(O,"Regexp",!0,!0).$escape(o.delimiter)),o.colcount=($=e.$columns()["$empty?"]())===M||null==$||$.$$is_boolean&&1!=$?e.$columns().$size():-1,o.buffer="",o.cellspecs=[],o.cell_open=!1,o.active_rowspans=[0],o.column_visits=0,o.current_row=[],o.linenum=-1},r.$$arity=-3),E.defn(w,"$starts_with_delimiter?",o=function(t){return t["$start_with?"](this.delimiter)},o.$$arity=1),E.defn(w,"$match_delimiter",i=function(t){return this.delimiter_re.$match(t)},i.$$arity=1),E.defn(w,"$skip_matched_delimiter",s=function(t,e){return null==e&&(e=!1),this.buffer=""+this.buffer+(!1!==e&&e!==M&&null!=e?t.$pre_match().$chop():t.$pre_match())+this.delimiter,t.$post_match()},s.$$arity=-2),E.defn(w,"$buffer_has_unclosed_quotes?",l=function(t){var e,n,$,r=this,o=M,i=M;return null==t&&(t=M),!((e=(o=!1!==t&&t!==M&&null!=t?R(r.$buffer(),t).$strip():r.$buffer().$strip())["$start_with?"]('"'))===M||null==e||e.$$is_boolean&&1!=e)&&((e=!1!==(n=!1!==($=i=o["$end_with?"]('"'))&&$!==M&&null!=$?o["$end_with?"]('""'):$)&&n!==M&&null!=n?n:o["$start_with?"]('""'))===M||null==e||e.$$is_boolean&&1!=e?i["$!"]():!1!==(e=(o=o.$gsub('""',""))["$start_with?"]('"'))&&e!==M&&null!=e?o["$end_with?"]('"')["$!"]():e)},l.$$arity=-1),E.defn(w,"$take_cellspec",a=function(){return this.cellspecs.$shift()},a.$$arity=0),E.defn(w,"$push_cellspec",c=function(t){var e;return null==t&&(t=I([],{})),this.cellspecs["$<<"](!1!==(e=t)&&e!==M&&null!=e?e:I([],{})),M},c.$$arity=-1),E.defn(w,"$keep_cell_open",u=function(){return this.cell_open=!0,M},u.$$arity=0),E.defn(w,"$mark_cell_closed",_=function(){return this.cell_open=!1,M},_.$$arity=0),E.defn(w,"$cell_open?",d=function(){return this.cell_open},d.$$arity=0),E.defn(w,"$cell_closed?",f=function(){return this.cell_open["$!"]()},f.$$arity=0),E.defn(w,"$close_open_cell",p=function(t){var e;return null==t&&(t=I([],{})),this.$push_cellspec(t),(e=this["$cell_open?"]())===M||null==e||e.$$is_boolean&&1!=e||this.$close_cell(!0),this.$advance(),M},p.$$arity=-1),E.defn(w,"$close_cell",h=function(u){try{var t,e,_,n=this,d=M,f=M,p=M,h=M;return null==u&&(u=!1),n.format["$=="]("psv")?(d=!0,f=n.buffer,n.buffer="",(t=p=n.$take_cellspec())===M||null==t||t.$$is_boolean&&1!=t?(n.$warn("asciidoctor: ERROR: "+n.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=I([],{}),h=1):h=!1!==(t=p.$delete("repeatcol"))&&t!==M&&null!=t?t:1):(d=!1,f=n.buffer.$strip(),n.buffer="",p=M,h=1,n.format["$=="]("csv")&&((t=!1!==(e=f["$empty?"]()["$!"]())&&e!==M&&null!=e?f["$include?"]('"'):e)===M||null==t||t.$$is_boolean&&1!=t||((t=!1!==(e=f["$start_with?"]('"'))&&e!==M&&null!=e?f["$end_with?"]('"'):e)===M||null==t||t.$$is_boolean&&1!=t||(f=f["$[]"](N(1,-1,!0)).$strip()),f=f.$tr_s('"','"')))),C(1,"upto",[h],((_=function(t){var e,n,$,r,o,i=_.$$s||this,s=M,l=M,a=M,c=M;return null==i.colcount&&(i.colcount=M),null==i.table&&(i.table=M),null==i.current_row&&(i.current_row=M),null==i.last_cursor&&(i.last_cursor=M),null==i.reader&&(i.reader=M),null==i.column_visits&&(i.column_visits=M),null==i.linenum&&(i.linenum=M),null==t&&(t=M),i.colcount["$=="](-1)?(i.table.$columns()["$<<"](s=E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"Column",!0,!0).$new(i.table,S(R(i.table.$columns().$size(),t),1))),(e=!1!==(n=($=!1!==p&&p!==M&&null!=p)?p["$key?"]("colspan"):p)&&n!==M&&null!=n?A(l=S(p["$[]"]("colspan").$to_i(),1),0):n)===M||null==e||e.$$is_boolean&&1!=e||(a=i.table.$columns().$size(),C(l,"times",[],((r=function(t){var e=r.$$s||this;return null==e.table&&(e.table=M),null==t&&(t=M),e.table.$columns()["$<<"](E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"Column",!0,!0).$new(e.table,R(a,t)))}).$$s=i,r.$$arity=1,r)))):((e=s=i.table.$columns()["$[]"](i.current_row.$size()))===M||null==e||e.$$is_boolean&&1!=e)&&(i.$warn("asciidoctor: ERROR: "+i.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),E.ret(M)),c=E.const_get([E.const_get(O,"Table",!0,!0).$$scope],"Cell",!0,!0).$new(s,f,p,I(["cursor","strip_text"],{cursor:i.last_cursor,strip_text:d})),i.last_cursor=i.reader.$cursor(),((e=!1!==(n=c.$rowspan()["$!"]())&&n!==M&&null!=n?n:c.$rowspan()["$=="](1))===M||null==e||e.$$is_boolean&&1!=e)&&i.$activate_rowspan(c.$rowspan(),!1!==(e=c.$colspan())&&e!==M&&null!=e?e:1),i.column_visits=R(i.column_visits,!1!==(e=c.$colspan())&&e!==M&&null!=e?e:1),i.current_row["$<<"](c),(e=!1!==(n=i["$end_of_row?"]())&&n!==M&&null!=n?!1!==($=!1!==(o=i.colcount["$!="](-1))&&o!==M&&null!=o?o:A(i.linenum,0))&&$!==M&&null!=$?$:(o=!1!==u&&u!==M&&null!=u)?t["$=="](h):u:n)===M||null==e||e.$$is_boolean&&1!=e?M:i.$close_row()}).$$s=n,_.$$arity=1,_)),n.cell_open=!1,M}catch(t){if(t===E.returner)return t.$v;throw t}},h.$$arity=-1),E.defn(w,"$close_row",g=function(){var t,e;return this.table.$rows().$body()["$<<"](this.current_row),this.colcount["$=="](-1)&&(this.colcount=this.column_visits),this.column_visits=0,this.current_row=[],this.active_rowspans.$shift(),!1!==(e=(t=this.active_rowspans)["$[]"](0))&&e!==M&&null!=e||t["$[]="](0,0),M},g.$$arity=0),E.defn(w,"$activate_rowspan",b=function(t,r){var o;return C(1..$upto(S(t,1)),"each",[],((o=function(t){var e,n,$=o.$$s||this;return null==$.active_rowspans&&($.active_rowspans=M),null==t&&(t=M),n=[t,R(!1!==(e=$.active_rowspans["$[]"](t))&&e!==M&&null!=e?e:0,r)],C($.active_rowspans,"[]=",E.to_a(n)),n[S(n.length,1)]}).$$s=this,o.$$arity=1,o)),M},b.$$arity=2),E.defn(w,"$end_of_row?",m=function(){var t;return!1!==(t=this.colcount["$=="](-1))&&t!==M&&null!=t?t:this.$effective_column_visits()["$=="](this.colcount)},m.$$arity=0),E.defn(w,"$effective_column_visits",y=function(){return R(this.column_visits,this.active_rowspans["$[]"](0))},y.$$arity=0),E.defn(w,"$advance",v=function(){return this.linenum=R(this.linenum,1)},v.$$arity=0)}(E.const_get(r,"Table",!0,!0),0,r)},Opal.modules["asciidoctor/converter/composite"]=function(u){u.top;var t,e,n,$,r,o=u,i=[u],_=u.nil,s=(u.breaker,u.slice,u.module),d=u.klass,f=u.send,p=u.hash2;return u.add_stubs(["$attr_reader","$each","$compact","$flatten","$respond_to?","$composed","$node_name","$convert","$converter_for","$[]","$[]=","$find_converter","$handles?","$raise"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l=$=d(t,e,"CompositeConverter",$),a=l.$$proto,c=l.$$scope;n.slice().concat(c),a.converter_map=a.converters=_,l.$attr_reader("converters"),u.defn(l,"$initialize",r=function(t,e){var $,n,r=arguments.length,o=r-1;o<0&&(o=0),n=new Array(o);for(var i=1;i<r;i++)n[i-1]=arguments[i];return this.backend=t,f(this.converters=n.$flatten().$compact(),"each",[],(($=function(t){var e,n=$.$$s||this;return null==t&&(t=_),(e=t["$respond_to?"]("composed"))===_||null==e||e.$$is_boolean&&1!=e?_:t.$composed(n)}).$$s=this,$.$$arity=1,$)),this.converter_map=p([],{})},r.$$arity=-2),u.defn(l,"$convert",o=function(t,e,n){var $;return null==e&&(e=_),null==n&&(n=p([],{})),!1!==($=e)&&$!==_&&null!=$||(e=t.$node_name()),this.$converter_for(e).$convert(t,e,n)},o.$$arity=-2),u.alias(l,"convert_with_options","convert"),u.defn(l,"$converter_for",i=function(t){var e,n,$;return e=t,!1!==($=(n=this.converter_map)["$[]"](e))&&$!==_&&null!=$?$:n["$[]="](e,this.$find_converter(t))},i.$$arity=1),u.defn(l,"$find_converter",s=function(n){try{var $;return f(this.converters,"each",[],(($=function(t){var e;if($.$$s,null==t&&(t=_),(e=t["$handles?"](n))===_||null==e||e.$$is_boolean&&1!=e)return _;u.ret(t)}).$$s=this,$.$$arity=1,$)),this.$raise("Could not find a converter to handle transform: "+n)}catch(t){if(t===u.returner)return t.$v;throw t}},s.$$arity=1)}(u.const_get(r,"Converter",!0,!0),u.const_get([u.const_get(r,"Converter",!0,!0).$$scope],"Base",!0,!0),r)},Opal.modules["asciidoctor/converter/html5"]=function(J){function Z(t,e){return"number"==typeof t&&"number"==typeof e?t*e:t["$*"](e)}function Q(t,e){return"number"==typeof t&&"number"==typeof e?e<t:t["$>"](e)}function tt(t,e){return"number"==typeof t&&"number"==typeof e?t<=e:t["$<="](e)}function et(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}function nt(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}J.top;var t,e,n,$,r,o=J,i=[J],$t=J.nil,s=(J.breaker,J.slice,J.module),rt=J.klass,ot=J.send,it=J.hash2;return J.add_stubs(["$default=","$-","$==","$[]","$instance","$empty?","$attr","$>=","$safe","$attr?","$<<","$doctitle","$include?","$normalize_web_path","$embed_primary_stylesheet","$read_asset","$normalize_system_path","$===","$coderay_stylesheet_name","$embed_coderay_stylesheet","$pygments_stylesheet_name","$embed_pygments_stylesheet","$docinfo","$id","$sections?","$doctype","$*","$noheader","$outline","$has_header?","$notitle","$title","$header","$sub_macros","$>","$to_i","$each","$downcase","$concat","$content","$footnotes?","$!","$footnotes","$index","$text","$nofooter","$inspect","$!=","$document","$sections","$level","$special","$numbered","$caption","$<=","$sectnum","$<","$captioned_title","$+","$role","$title?","$icon_uri","$compact","$media_uri","$option?","$append_boolean_attribute","$style","$each_with_index","$items","$text?","$blocks?","$chomp","$read_svg_contents","$image_uri","$to_sym","$start_with?","$end_with?","$list_marker_keyword","$parent","$warn","$context","$times","$size","$columns","$select","$rows","$map","$colspan","$rowspan","$role?","$unshift","$shift","$split","$nil_or_empty?","$target","$type","$attributes","$references","$join","$chop","$read_contents","$sub","$gsub","$match","$length"]),t=o.base,e=i,(n=s(t,"Asciidoctor")).$$proto,$=n.$$scope,r=e.slice().concat($),void function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,U,F,G,H,Y,K=$=rt(t,e,"Html5Converter",$),W=K.$$proto,X=K.$$scope,V=n.slice().concat(X);W.xml_mode=W.void_element_slash=W.stylesheets=$t,G=[["","",!1]],ot(J.cdecl(X,"QUOTE_TAGS",it(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",J.to_a(G)),Y=1,"number"==typeof(H=G.length)&&"number"==typeof Y||H["$-"](Y),J.cdecl(X,"SvgPreambleRx",/^.*?(?=<svg\b)/m),J.cdecl(X,"SvgStartTagRx",/^<svg[^>]*>/),J.cdecl(X,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),J.defn(K,"$initialize",r=function(t,e){var n,$=this;return null==e&&(e=it([],{})),$.xml_mode=e["$[]"]("htmlsyntax")["$=="]("xml"),$.void_element_slash=(n=$.xml_mode)===$t||null==n||n.$$is_boolean&&1!=n?$t:"/",$.stylesheets=J.const_get(V,"Stylesheets",!0,!0).$instance()},r.$$arity=-2),J.defn(K,"$document",o=function(n){var t,e,$,r,o,i,s,l,a,c,u,_,d,f,p,h=this,g=$t,b=$t,m=$t,y=$t,v=$t,w=$t,x=$t,k=$t,O=$t,E=$t,A=$t,S=$t,R=$t,M=$t;return g=[],s=h.void_element_slash,l="<br"+s+">",((t=(b=n.$attr("asset-uri-scheme","https"))["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t)&&(b+=":"),a=b+"//cdnjs.cloudflare.com/ajax/libs",c=!1!==(f=n.$safe(),p=J.const_get([J.const_get(V,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0),t="number"==typeof f&&"number"==typeof p?p<=f:f["$>="](p))&&t!==$t&&null!=t?t:n["$attr?"]("linkcss"),g["$<<"]("<!DOCTYPE html>"),u=(t=n["$attr?"]("nolang"))===$t||null==t||t.$$is_boolean&&1!=t?' lang="'+n.$attr("lang","en")+'"':$t,g["$<<"]("<html"+((t=h.xml_mode)===$t||null==t||t.$$is_boolean&&1!=t?$t:' xmlns="http://www.w3.org/1999/xhtml"')+u+">"),g["$<<"]('<head>\n<meta charset="'+n.$attr("encoding","UTF-8")+'"'+s+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+s+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+s+'>\n<meta name="generator" content="Asciidoctor '+n.$attr("asciidoctor-version")+'"'+s+">"),(t=n["$attr?"]("app-name"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<meta name="application-name" content="'+n.$attr("app-name")+'"'+s+">"),(t=n["$attr?"]("description"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<meta name="description" content="'+n.$attr("description")+'"'+s+">"),(t=n["$attr?"]("keywords"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<meta name="keywords" content="'+n.$attr("keywords")+'"'+s+">"),(t=n["$attr?"]("authors"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<meta name="author" content="'+n.$attr("authors")+'"'+s+">"),(t=n["$attr?"]("copyright"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<meta name="copyright" content="'+n.$attr("copyright")+'"'+s+">"),g["$<<"]("<title>"+n.$doctitle(it(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(t=J.const_get(V,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](n.$attr("stylesheet")))===$t||null==t||t.$$is_boolean&&1!=t?(t=n["$attr?"]("stylesheet"))===$t||null==t||t.$$is_boolean&&1!=t||(!1!==c&&c!==$t&&null!=c?g["$<<"]('<link rel="stylesheet" href="'+n.$normalize_web_path(n.$attr("stylesheet"),n.$attr("stylesdir",""))+'"'+s+">"):g["$<<"]("<style>\n"+n.$read_asset(n.$normalize_system_path(n.$attr("stylesheet"),n.$attr("stylesdir","")),it(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((t=m=n.$attr("webfonts"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<link rel="stylesheet" href="'+b+"//fonts.googleapis.com/css?family="+((t=m["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t?m:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+s+">"),!1!==c&&c!==$t&&null!=c?g["$<<"]('<link rel="stylesheet" href="'+n.$normalize_web_path(J.const_get(V,"DEFAULT_STYLESHEET_NAME",!0,!0),n.$attr("stylesdir",""),!1)+'"'+s+">"):g["$<<"](h.stylesheets.$embed_primary_stylesheet())),(t=n["$attr?"]("icons","font"))===$t||null==t||t.$$is_boolean&&1!=t||((t=n["$attr?"]("iconfont-remote"))===$t||null==t||t.$$is_boolean&&1!=t?(y=n.$attr("iconfont-name","font-awesome")+".css",g["$<<"]('<link rel="stylesheet" href="'+n.$normalize_web_path(y,n.$attr("stylesdir",""),!1)+'"'+s+">")):g["$<<"]('<link rel="stylesheet" href="'+n.$attr("iconfont-cdn",a+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+s+">")),v=_=n.$attr("source-highlighter"),"coderay"["$==="](v)?n.$attr("coderay-css","class")["$=="]("class")&&(!1!==c&&c!==$t&&null!=c?g["$<<"]('<link rel="stylesheet" href="'+n.$normalize_web_path(h.stylesheets.$coderay_stylesheet_name(),n.$attr("stylesdir",""),!1)+'"'+s+">"):g["$<<"](h.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](v)&&n.$attr("pygments-css","class")["$=="]("class")&&(w=n.$attr("pygments-style"),!1!==c&&c!==$t&&null!=c?g["$<<"]('<link rel="stylesheet" href="'+n.$normalize_web_path(h.stylesheets.$pygments_stylesheet_name(w),n.$attr("stylesdir",""),!1)+'"'+s+">"):g["$<<"](h.stylesheets.$embed_pygments_stylesheet(w))),((t=(x=n.$docinfo())["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t)&&g["$<<"](x),g["$<<"]("</head>"),k=[],(t=n.$id())===$t||null==t||t.$$is_boolean&&1!=t||k["$<<"]('id="'+n.$id()+'"'),e=!1!==($=!1!==(r=d=n["$sections?"]())&&r!==$t&&null!=r?n["$attr?"]("toc-class"):r)&&$!==$t&&null!=$?n["$attr?"]("toc"):$,(t=!1!==e&&e!==$t&&null!=e?n["$attr?"]("toc-placement","auto"):e)===$t||null==t||t.$$is_boolean&&1!=t?k["$<<"]('class="'+n.$doctype()+'"'):k["$<<"]('class="'+n.$doctype()+" "+n.$attr("toc-class")+" toc-"+n.$attr("toc-position","header")+'"'),(t=n["$attr?"]("max-width"))===$t||null==t||t.$$is_boolean&&1!=t||k["$<<"]('style="max-width: '+n.$attr("max-width")+';"'),g["$<<"]("<body "+Z(k," ")+">"),((t=n.$noheader())===$t||null==t||t.$$is_boolean&&1!=t)&&(g["$<<"]('<div id="header">'),n.$doctype()["$=="]("manpage")?(g["$<<"]("<h1>"+n.$doctitle()+" Manual Page</h1>"),e=($=!1!==d&&d!==$t&&null!=d)?n["$attr?"]("toc"):d,(t=!1!==e&&e!==$t&&null!=e?n["$attr?"]("toc-placement","auto"):e)===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+h.$outline(n)+"\n</div>"),g["$<<"]("<h2>"+n.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+n.$attr("manname")+" - "+n.$attr("manpurpose")+"</p>\n</div>")):((t=n["$has_header?"]())===$t||null==t||t.$$is_boolean&&1!=t||(((t=n.$notitle())===$t||null==t||t.$$is_boolean&&1!=t)&&g["$<<"]("<h1>"+n.$header().$title()+"</h1>"),O=[],(t=n["$attr?"]("author"))===$t||null==t||t.$$is_boolean&&1!=t||(O["$<<"]('<span id="author" class="author">'+n.$attr("author")+"</span>"+l),(t=n["$attr?"]("email"))===$t||null==t||t.$$is_boolean&&1!=t||O["$<<"]('<span id="email" class="email">'+n.$sub_macros(n.$attr("email"))+"</span>"+l),(t=Q(E=n.$attr("authorcount").$to_i(),1))===$t||null==t||t.$$is_boolean&&1!=t||ot(J.Range.$new(2,E,!1),"each",[],((o=function(t){var e;return o.$$s,null==t&&(t=$t),O["$<<"]('<span id="author'+t+'" class="author">'+n.$attr("author_"+t)+"</span>"+l),(e=n["$attr?"]("email_"+t))===$t||null==e||e.$$is_boolean&&1!=e?$t:O["$<<"]('<span id="email'+t+'" class="email">'+n.$sub_macros(n.$attr("email_"+t))+"</span>"+l)}).$$s=h,o.$$arity=1,o))),(t=n["$attr?"]("revnumber"))===$t||null==t||t.$$is_boolean&&1!=t||O["$<<"]('<span id="revnumber">'+(!1!==(t=n.$attr("version-label"))&&t!==$t&&null!=t?t:"").$downcase()+" "+n.$attr("revnumber")+((t=n["$attr?"]("revdate"))===$t||null==t||t.$$is_boolean&&1!=t?"":",")+"</span>"),(t=n["$attr?"]("revdate"))===$t||null==t||t.$$is_boolean&&1!=t||O["$<<"]('<span id="revdate">'+n.$attr("revdate")+"</span>"),(t=n["$attr?"]("revremark"))===$t||null==t||t.$$is_boolean&&1!=t||O["$<<"](l+'<span id="revremark">'+n.$attr("revremark")+"</span>"),((t=O["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t)&&(g["$<<"]('<div class="details">'),g.$concat(O),g["$<<"]("</div>"))),e=($=!1!==d&&d!==$t&&null!=d)?n["$attr?"]("toc"):d,(t=!1!==e&&e!==$t&&null!=e?n["$attr?"]("toc-placement","auto"):e)===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"]('<div id="toc" class="'+n.$attr("toc-class","toc")+'">\n<div id="toctitle">'+n.$attr("toc-title")+"</div>\n"+h.$outline(n)+"\n</div>")),g["$<<"]("</div>")),g["$<<"]('<div id="content">\n'+n.$content()+"\n</div>"),e=n["$footnotes?"](),(t=!1!==e&&e!==$t&&null!=e?n["$attr?"]("nofootnotes")["$!"]():e)===$t||null==t||t.$$is_boolean&&1!=t||(g["$<<"]('<div id="footnotes">\n<hr'+s+">"),ot(n.$footnotes(),"each",[],((i=function(t){return i.$$s,null==t&&(t=$t),g["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=h,i.$$arity=1,i)),g["$<<"]("</div>")),((t=n.$nofooter())===$t||null==t||t.$$is_boolean&&1!=t)&&(g["$<<"]('<div id="footer">'),g["$<<"]('<div id="footer-text">'),(t=n["$attr?"]("revnumber"))===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"](n.$attr("version-label")+" "+n.$attr("revnumber")+l),e=n["$attr?"]("last-update-label"),(t=!1!==e&&e!==$t&&null!=e?n["$attr?"]("reproducible")["$!"]():e)===$t||null==t||t.$$is_boolean&&1!=t||g["$<<"](n.$attr("last-update-label")+" "+n.$attr("docdatetime")),g["$<<"]("</div>"),g["$<<"]("</div>")),((t=(x=n.$docinfo("footer"))["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t)&&g["$<<"](x),"highlightjs"["$==="](v=_)||"highlight.js"["$==="](v)?(A=n.$attr("highlightjsdir",a+"/highlight.js/9.9.0"),g["$<<"]('<link rel="stylesheet" href="'+A+"/styles/"+n.$attr("highlightjs-theme","github")+'.min.css"'+s+">"),g["$<<"]('<script src="'+A+'/highlight.min.js"><\/script>\n<script>hljs.initHighlighting()<\/script>')):"prettify"["$==="](v)&&(S=n.$attr("prettifydir",a+"/prettify/r298"),g["$<<"]('<link rel="stylesheet" href="'+S+"/"+n.$attr("prettify-theme","prettify")+'.min.css"'+s+">"),g["$<<"]('<script src="'+S+'/prettify.min.js"><\/script>\n<script>prettyPrint()<\/script>')),(t=n["$attr?"]("stem"))===$t||null==t||t.$$is_boolean&&1!=t||(R=n.$attr("eqnums","none"),(t=R["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t||(R="AMS"),M=' equationNumbers: { autoNumber: "'+R+'" } ',g["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+J.const_get(V,"INLINE_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+J.const_get(V,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+J.const_get(V,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+M+'}\n});\n<\/script>\n<script src="'+a+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),g["$<<"]("</body>"),g["$<<"]("</html>"),Z(g,J.const_get(V,"EOL",!0,!0))},o.$$arity=1),J.defn(K,"$embedded",i=function(t){var e,n,$,r,o,i=$t,s=$t,l=$t;return i=[],t.$doctype()["$=="]("manpage")?(((e=t.$notitle())===$t||null==e||e.$$is_boolean&&1!=e)&&(s=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',i["$<<"]("<h1"+s+">"+t.$doctitle()+" Manual Page</h1>")),i["$<<"]("<h2>"+t.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+t.$attr("manname")+" - "+t.$attr("manpurpose")+"</p>\n</div>")):(n=t["$has_header?"](),(e=!1!==n&&n!==$t&&null!=n?t.$notitle()["$!"]():n)===$t||null==e||e.$$is_boolean&&1!=e||(s=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',i["$<<"]("<h1"+s+">"+t.$header().$title()+"</h1>"))),n=!1!==($=!1!==(r=t["$sections?"]())&&r!==$t&&null!=r?t["$attr?"]("toc"):r)&&$!==$t&&null!=$?(l=t.$attr("toc-placement"))["$!="]("macro"):$,(e=!1!==n&&n!==$t&&null!=n?l["$!="]("preamble"):n)===$t||null==e||e.$$is_boolean&&1!=e||i["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+t.$attr("toc-title")+"</div>\n"+this.$outline(t)+"\n</div>"),i["$<<"](t.$content()),n=t["$footnotes?"](),(e=!1!==n&&n!==$t&&null!=n?t["$attr?"]("nofootnotes")["$!"]():n)===$t||null==e||e.$$is_boolean&&1!=e||(i["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),ot(t.$footnotes(),"each",[],((o=function(t){return o.$$s,null==t&&(t=$t),i["$<<"]('<div class="footnote" id="_footnote_'+t.$index()+'">\n<a href="#_footnoteref_'+t.$index()+'">'+t.$index()+"</a>. "+t.$text()+"\n</div>")}).$$s=this,o.$$arity=1,o)),i["$<<"]("</div>")),Z(i,J.const_get(V,"EOL",!0,!0))},i.$$arity=1),J.defn(K,"$outline",s=function(t,e){var n,s,l,a,c=$t,$=$t,r=$t,o=$t;return null==e&&(e=it([],{})),(n=t["$sections?"]())===$t||null==n||n.$$is_boolean&&1!=n?$t:(l=!1!==(n=e["$[]"]("sectnumlevels"))&&n!==$t&&null!=n?n:t.$document().$attr("sectnumlevels",3).$to_i(),a=!1!==(n=e["$[]"]("toclevels"))&&n!==$t&&null!=n?n:t.$document().$attr("toclevels",2).$to_i(),c=[],(n=(r=(o=($=t.$sections())["$[]"](0)).$level())["$=="](0)?o.$special():r["$=="](0))===$t||null==n||n.$$is_boolean&&1!=n||(r=1),c["$<<"]('<ul class="sectlevel'+r+'">'),ot($,"each",[],((s=function(t){var e,n,$,r=s.$$s||this,o=$t,i=$t;return null==t&&(t=$t),$=t.$numbered(),n=!1!==$&&$!==$t&&null!=$?t.$caption()["$!"]():$,o=(e=!1!==n&&n!==$t&&null!=n?tt(t.$level(),l):n)===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$sectnum()+" ",n=et(t.$level(),a),(e=!1!==n&&n!==$t&&null!=n?i=r.$outline(t,it(["toclevels","secnumlevels"],{toclevels:a,secnumlevels:l})):n)===$t||null==e||e.$$is_boolean&&1!=e?c["$<<"]('<li><a href="#'+t.$id()+'">'+o+t.$captioned_title()+"</a></li>"):(c["$<<"]('<li><a href="#'+t.$id()+'">'+o+t.$captioned_title()+"</a>"),c["$<<"](i),c["$<<"]("</li>"))}).$$s=this,s.$$arity=1,s)),c["$<<"]("</ul>"),Z(c,J.const_get(V,"EOL",!0,!0)))},s.$$arity=-2),J.defn(K,"$section",l=function(t){var e,n,$,r,o=$t,i=$t,s=$t,l=$t,a=$t,c=$t,u=$t,_=$t,d=$t;return o=t.$level(),(e=(n=o["$=="](0))?t.$special():o["$=="](0))===$t||null==e||e.$$is_boolean&&1!=e||(o=1),r="h"+nt(o,1),i=s=l=a=$t,(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e||(i=' id="'+(c=t.$id())+'"',(e=(u=t.$document())["$attr?"]("sectanchors"))===$t||null==e||e.$$is_boolean&&1!=e||(s='<a class="anchor" href="#'+c+'"></a>'),(e=u["$attr?"]("sectlinks"))===$t||null==e||e.$$is_boolean&&1!=e||(l='<a class="link" href="#'+c+'">',a="</a>")),o["$=="](0)?"<h1"+i+' class="sect0">'+s+l+t.$title()+a+"</h1>\n"+t.$content():(_=(e=d=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?' class="sect'+o+'"':' class="sect'+o+" "+d+'"',$=t.$numbered(),n=!1!==$&&$!==$t&&null!=$?t.$caption()["$!"]():$,"<div"+_+">\n<"+r+i+">"+s+l+((e=!1!==n&&n!==$t&&null!=n?tt(o,t.$document().$attr("sectnumlevels",3).$to_i()):n)===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$sectnum()+" ")+t.$captioned_title()+a+"</"+r+">\n"+(o["$=="](1)?'<div class="sectionbody">\n'+t.$content()+"\n</div>":t.$content())+"\n</div>")},l.$$arity=1),J.defn(K,"$admonition",a=function(t){var e,n,$,r,o,i,s,l=this;return $=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=t.$attr("name"),o=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n",i=(e=t.$document()["$attr?"]("icons"))===$t||null==e||e.$$is_boolean&&1!=e?'<div class="title">'+t.$caption()+"</div>":(n=t.$document()["$attr?"]("icons","font"),(e=!1!==n&&n!==$t&&null!=n?t["$attr?"]("icon")["$!"]():n)===$t||null==e||e.$$is_boolean&&1!=e?'<img src="'+t.$icon_uri(r)+'" alt="'+t.$caption()+'"'+l.void_element_slash+">":'<i class="fa icon-'+r+'" title="'+t.$caption()+'"></i>'),"<div"+$+' class="admonitionblock '+r+(!1!==(e=s=t.$role())&&e!==$t&&null!=e?" "+s:e)+'">\n<table>\n<tr>\n<td class="icon">\n'+i+'\n</td>\n<td class="content">\n'+o+t.$content()+"\n</td>\n</tr>\n</table>\n</div>"},a.$$arity=1),J.defn(K,"$audio",c=function(t){var e,n,$,r,o,i,s,l,a,c=this;return $=c.xml_mode,r=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',o=' class="'+Z(["audioblock",t.$role()].$compact()," ")+'"',i=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$captioned_title()+"</div>\n",s=t.$attr("start",$t,!1),l=t.$attr("end",$t,!1),a=(e=!1!==(n=s)&&n!==$t&&null!=n?n:l)===$t||null==e||e.$$is_boolean&&1!=e?$t:"#t="+s+(!1!==l&&l!==$t&&null!=l?",":$t)+l,"<div"+r+o+">\n"+i+'<div class="content">\n<audio src="'+t.$media_uri(t.$attr("target"))+a+'"'+((e=t["$option?"]("autoplay"))===$t||null==e||e.$$is_boolean&&1!=e?$t:c.$append_boolean_attribute("autoplay",$))+((e=t["$option?"]("nocontrols"))===$t||null==e||e.$$is_boolean&&1!=e?c.$append_boolean_attribute("controls",$):$t)+((e=t["$option?"]("loop"))===$t||null==e||e.$$is_boolean&&1!=e?$t:c.$append_boolean_attribute("loop",$))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},c.$$arity=1),J.defn(K,"$colist",u=function(o){var t,i,e,n,$,s=$t,l=$t;return s=[],n=(t=o.$id())===$t||null==t||t.$$is_boolean&&1!=t?$t:' id="'+o.$id()+'"',$=' class="'+Z(["colist",o.$style(),o.$role()].$compact()," ")+'"',s["$<<"]("<div"+n+$+">"),(t=o["$title?"]())===$t||null==t||t.$$is_boolean&&1!=t||s["$<<"]('<div class="title">'+o.$title()+"</div>"),(t=o.$document()["$attr?"]("icons"))===$t||null==t||t.$$is_boolean&&1!=t?(s["$<<"]("<ol>"),ot(o.$items(),"each",[],((e=function(t){return e.$$s,null==t&&(t=$t),s["$<<"]("<li>\n<p>"+t.$text()+"</p>\n</li>")}).$$s=this,e.$$arity=1,e)),s["$<<"]("</ol>")):(s["$<<"]("<table>"),l=o.$document()["$attr?"]("icons","font"),ot(o.$items(),"each_with_index",[],((i=function(t,e){var n,$,r=i.$$s||this;return null==r.void_element_slash&&(r.void_element_slash=$t),null==t&&(t=$t),null==e&&(e=$t),n=nt(e,1),$=!1!==l&&l!==$t&&null!=l?'<i class="conum" data-value="'+n+'"></i><b>'+n+"</b>":'<img src="'+o.$icon_uri("callouts/"+n)+'" alt="'+n+'"'+r.void_element_slash+">",s["$<<"]("<tr>\n<td>"+$+"</td>\n<td>"+t.$text()+"</td>\n</tr>")}).$$s=this,i.$$arity=2,i)),s["$<<"]("</table>")),s["$<<"]("</div>"),Z(s,J.const_get(V,"EOL",!0,!0))},u.$$arity=1),J.defn(K,"$dlist",_=function(s){var t,o,e,l,i,n,$,a=$t,r=$t,c=$t,u=$t,_=$t;return a=[],n=(t=s.$id())===$t||null==t||t.$$is_boolean&&1!=t?$t:' id="'+s.$id()+'"',$=' class="'+Z((r=s.$style(),"qanda"["$==="](r)?["qlist","qanda",s.$role()]:"horizontal"["$==="](r)?["hdlist",s.$role()]:["dlist",s.$style(),s.$role()]).$compact()," ")+'"',a["$<<"]("<div"+n+$+">"),(t=s["$title?"]())===$t||null==t||t.$$is_boolean&&1!=t||a["$<<"]('<div class="title">'+s.$title()+"</div>"),r=s.$style(),"qanda"["$==="](r)?(a["$<<"]("<ol>"),ot(s.$items(),"each",[],((o=function(t,e){var n,$,r=o.$$s||this;return null==t&&(t=$t),null==e&&(e=$t),a["$<<"]("<li>"),ot([].concat(J.to_a(t)),"each",[],((n=function(t){return n.$$s,null==t&&(t=$t),a["$<<"]("<p><em>"+t.$text()+"</em></p>")}).$$s=r,n.$$arity=1,n)),!1!==e&&e!==$t&&null!=e&&(($=e["$text?"]())===$t||null==$||$.$$is_boolean&&1!=$||a["$<<"]("<p>"+e.$text()+"</p>"),($=e["$blocks?"]())===$t||null==$||$.$$is_boolean&&1!=$||a["$<<"](e.$content())),a["$<<"]("</li>")}).$$s=this,o.$$arity=2,o)),a["$<<"]("</ol>")):"horizontal"["$==="](r)?(c=this.void_element_slash,a["$<<"]("<table>"),(t=!1!==(e=s["$attr?"]("labelwidth"))&&e!==$t&&null!=e?e:s["$attr?"]("itemwidth"))===$t||null==t||t.$$is_boolean&&1!=t||(a["$<<"]("<colgroup>"),u=(t=s["$attr?"]("labelwidth"))===$t||null==t||t.$$is_boolean&&1!=t?$t:' style="width: '+s.$attr("labelwidth").$chomp("%")+'%;"',a["$<<"]("<col"+u+c+">"),u=(t=s["$attr?"]("itemwidth"))===$t||null==t||t.$$is_boolean&&1!=t?$t:' style="width: '+s.$attr("itemwidth").$chomp("%")+'%;"',a["$<<"]("<col"+u+c+">"),a["$<<"]("</colgroup>")),ot(s.$items(),"each",[],((l=function(t,e){var n,$,r,o=l.$$s||this,i=$t;return null==t&&(t=$t),null==e&&(e=$t),a["$<<"]("<tr>"),a["$<<"]('<td class="hdlist1'+((n=s["$option?"]("strong"))===$t||null==n||n.$$is_boolean&&1!=n?$t:" strong")+'">'),i=[].concat(J.to_a(t)),r=i["$[]"](-1),ot(i,"each",[],(($=function(t){var e;return $.$$s,null==t&&(t=$t),a["$<<"](t.$text()),(e=t["$!="](r))===$t||null==e||e.$$is_boolean&&1!=e?$t:a["$<<"]("<br"+c+">")}).$$s=o,$.$$arity=1,$)),a["$<<"]("</td>"),a["$<<"]('<td class="hdlist2">'),!1!==e&&e!==$t&&null!=e&&((n=e["$text?"]())===$t||null==n||n.$$is_boolean&&1!=n||a["$<<"]("<p>"+e.$text()+"</p>"),(n=e["$blocks?"]())===$t||null==n||n.$$is_boolean&&1!=n||a["$<<"](e.$content())),a["$<<"]("</td>"),a["$<<"]("</tr>")}).$$s=this,l.$$arity=2,l)),a["$<<"]("</table>")):(a["$<<"]("<dl>"),_=(t=s.$style())===$t||null==t||t.$$is_boolean&&1!=t?' class="hdlist1"':$t,ot(s.$items(),"each",[],((i=function(t,e){var n,$,r=i.$$s||this;return null==t&&(t=$t),null==e&&(e=$t),ot([].concat(J.to_a(t)),"each",[],((n=function(t){return n.$$s,null==t&&(t=$t),a["$<<"]("<dt"+_+">"+t.$text()+"</dt>")}).$$s=r,n.$$arity=1,n)),!1!==e&&e!==$t&&null!=e?(a["$<<"]("<dd>"),($=e["$text?"]())===$t||null==$||$.$$is_boolean&&1!=$||a["$<<"]("<p>"+e.$text()+"</p>"),($=e["$blocks?"]())===$t||null==$||$.$$is_boolean&&1!=$||a["$<<"](e.$content()),a["$<<"]("</dd>")):$t}).$$s=this,i.$$arity=2,i)),a["$<<"]("</dl>")),a["$<<"]("</div>"),Z(a,J.const_get(V,"EOL",!0,!0))},_.$$arity=1),J.defn(K,"$example",d=function(t){var e,n,$,r=$t;return n=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',$=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$captioned_title()+"</div>\n","<div"+n+' class="'+((e=r=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?"exampleblock":Z(["exampleblock",r]," "))+'">\n'+$+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"},d.$$arity=1),J.defn(K,"$floating_title",f=function(t){var e,n;return"<"+(n="h"+nt(t.$level(),1))+((e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"')+' class="'+Z([t.$style(),t.$role()].$compact()," ")+'">'+t.$title()+"</"+n+">"},f.$$arity=1),J.defn(K,"$image",p=function(t){var e,n,$,r,o,i,s,l,a,c=this,u=$t,_=$t,d=$t,f=$t,p=$t,h=$t;return u=t.$attr("target"),o=(e=t["$attr?"]("width"))===$t||null==e||e.$$is_boolean&&1!=e?$t:' width="'+t.$attr("width")+'"',i=(e=t["$attr?"]("height"))===$t||null==e||e.$$is_boolean&&1!=e?$t:' height="'+t.$attr("height")+'"',n=!1!==($=!1!==(r=t["$attr?"]("format","svg",!1))&&r!==$t&&null!=r?r:u["$include?"](".svg"))&&$!==$t&&null!=$?et(t.$document().$safe(),J.const_get([J.const_get(V,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):$,(e=!1!==n&&n!==$t&&null!=n?!1!==($=_=t["$option?"]("inline"))&&$!==$t&&null!=$?$:d=t["$option?"]("interactive"):n)===$t||null==e||e.$$is_boolean&&1!=e||(!1!==_&&_!==$t&&null!=_?f=!1!==(e=c.$read_svg_contents(t,u))&&e!==$t&&null!=e?e:'<span class="alt">'+t.$attr("alt")+"</span>":!1!==d&&d!==$t&&null!=d&&(p=(e=t["$attr?"]("fallback"))===$t||null==e||e.$$is_boolean&&1!=e?'<span class="alt">'+t.$attr("alt")+"</span>":'<img src="'+t.$image_uri(t.$attr("fallback"))+'" alt="'+t.$attr("alt")+'"'+o+i+c.void_element_slash+">",f='<object type="image/svg+xml" data="'+t.$image_uri(u)+'"'+o+i+">"+p+"</object>")),!1!==(e=f)&&e!==$t&&null!=e||(f='<img src="'+t.$image_uri(u)+'" alt="'+t.$attr("alt")+'"'+o+i+c.void_element_slash+">"),(e=s=t.$attr("link"))===$t||null==e||e.$$is_boolean&&1!=e||(f='<a class="image" href="'+s+'">'+f+"</a>"),l=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',a=' class="'+Z(["imageblock",t.$role()].$compact()," ")+'"',h=[],(e=t["$attr?"]("align"))===$t||null==e||e.$$is_boolean&&1!=e||h["$<<"]("text-align: "+t.$attr("align")),(e=t["$attr?"]("float"))===$t||null==e||e.$$is_boolean&&1!=e||h["$<<"]("float: "+t.$attr("float")),"<div"+l+a+((e=h["$empty?"]())===$t||null==e||e.$$is_boolean&&1!=e?' style="'+Z(h,";")+'"':$t)+'>\n<div class="content">\n'+f+"\n</div>"+((e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'\n<div class="title">'+t.$captioned_title()+"</div>")+"\n</div>"},p.$$arity=1),J.defn(K,"$listing",h=function(t){var e,n,$,r,o,i=$t,s=$t,l=$t,a=$t,c=$t,u=$t;return n=!1!==(e=t.$document()["$attr?"]("prewrap")["$!"]())&&e!==$t&&null!=e?e:t["$option?"]("nowrap"),t.$style()["$=="]("source")?(s=(e=i=t.$attr("language",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?$t:' data-lang="'+i+'"',l=t.$document().$attr("source-highlighter"),"coderay"["$==="](l)?a=' class="CodeRay highlight'+(!1!==n&&n!==$t&&null!=n?" nowrap":$t)+'"':"pygments"["$==="](l)?a=' class="pygments highlight'+(!1!==n&&n!==$t&&null!=n?" nowrap":$t)+'"':"highlightjs"["$==="](l)||"highlight.js"["$==="](l)?(a=' class="highlightjs highlight'+(!1!==n&&n!==$t&&null!=n?" nowrap":$t)+'"',!1!==i&&i!==$t&&null!=i&&(s=' class="language-'+i+'"'+s)):"prettify"["$==="](l)?(a=' class="prettyprint highlight'+(!1!==n&&n!==$t&&null!=n?" nowrap":$t)+((e=t["$attr?"]("linenums"))===$t||null==e||e.$$is_boolean&&1!=e?$t:" linenums")+'"',!1!==i&&i!==$t&&null!=i&&(s=' class="language-'+i+'"'+s)):"html-pipeline"["$==="](l)?(a=!1!==i&&i!==$t&&null!=i?' lang="'+i+'"':$t,s=$t):(a=' class="highlight'+(!1!==n&&n!==$t&&null!=n?" nowrap":$t)+'"',!1!==i&&i!==$t&&null!=i&&(s=' class="language-'+i+'"'+s)),c="<pre"+a+"><code"+s+">",u="</code></pre>"):(c="<pre"+(!1!==n&&n!==$t&&null!=n?' class="nowrap"':$t)+">",u="</pre>"),$=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$captioned_title()+"</div>\n","<div"+$+' class="listingblock'+(!1!==(e=o=t.$role())&&e!==$t&&null!=e?" "+o:e)+'">\n'+r+'<div class="content">\n'+c+t.$content()+u+"\n</div>\n</div>"},h.$$arity=1),J.defn(K,"$literal",g=function(t){var e,n,$,r,o;return n=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',$=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n",r=!1!==(e=t.$document()["$attr?"]("prewrap")["$!"]())&&e!==$t&&null!=e?e:t["$option?"]("nowrap"),"<div"+n+' class="literalblock'+(!1!==(e=o=t.$role())&&e!==$t&&null!=e?" "+o:e)+'">\n'+$+'<div class="content">\n<pre'+(!1!==r&&r!==$t&&null!=r?' class="nowrap"':$t)+">"+t.$content()+"</pre>\n</div>\n</div>"},g.$$arity=1),J.defn(K,"$stem",b=function(t){var e,n,$,r,o,i,s=$t,l=$t;return $=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n",n=J.const_get(V,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"](t.$style().$to_sym()),o=null==(e=J.to_ary(n))[0]?$t:e[0],i=null==e[1]?$t:e[1],n=(s=t.$content())["$start_with?"](o),((e=!1!==n&&n!==$t&&null!=n?s["$end_with?"](i):n)===$t||null==e||e.$$is_boolean&&1!=e)&&(s=""+o+s+i),"<div"+$+' class="'+((e=l=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?"stemblock":Z(["stemblock",l]," "))+'">\n'+r+'<div class="content">\n'+s+"\n</div>\n</div>"},b.$$arity=1),J.defn(K,"$olist",m=function(t){var e,n,$,r,o,i,s,l=this,a=$t,c=$t;return a=[],$=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=' class="'+Z(["olist",t.$style(),t.$role()].$compact()," ")+'"',a["$<<"]("<div"+$+r+">"),(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e||a["$<<"]('<div class="title">'+t.$title()+"</div>"),o=(e=c=t.$list_marker_keyword())===$t||null==e||e.$$is_boolean&&1!=e?$t:' type="'+c+'"',i=(e=t["$attr?"]("start"))===$t||null==e||e.$$is_boolean&&1!=e?$t:' start="'+t.$attr("start")+'"',s=(e=t["$option?"]("reversed"))===$t||null==e||e.$$is_boolean&&1!=e?$t:l.$append_boolean_attribute("reversed",l.xml_mode),a["$<<"]('<ol class="'+t.$style()+'"'+o+i+s+">"),ot(t.$items(),"each",[],((n=function(t){var e;return n.$$s,null==t&&(t=$t),a["$<<"]("<li>"),a["$<<"]("<p>"+t.$text()+"</p>"),(e=t["$blocks?"]())===$t||null==e||e.$$is_boolean&&1!=e||a["$<<"](t.$content()),a["$<<"]("</li>")}).$$s=l,n.$$arity=1,n)),a["$<<"]("</ol>"),a["$<<"]("</div>"),Z(a,J.const_get(V,"EOL",!0,!0))},m.$$arity=1),J.defn(K,"$open",y=function(t){var e,n,$,r=$t,o=$t,i=$t,s=$t;return(r=t.$style())["$=="]("abstract")?(e=t.$parent()["$=="](t.$document())?t.$document().$doctype()["$=="]("book"):t.$parent()["$=="](t.$document()))===$t||null==e||e.$$is_boolean&&1!=e?(o=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',i=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n","<div"+o+' class="quoteblock abstract'+(!1!==(e=s=t.$role())&&e!==$t&&null!=e?" "+s:e)+'">\n'+i+"<blockquote>\n"+t.$content()+"\n</blockquote>\n</div>"):(this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(e=r["$=="]("partintro")?!1!==(n=!1!==($=Q(t.$level(),0))&&$!==$t&&null!=$?$:t.$parent().$context()["$!="]("section"))&&n!==$t&&null!=n?n:t.$document().$doctype()["$!="]("book"):r["$=="]("partintro"))===$t||null==e||e.$$is_boolean&&1!=e?(o=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',i=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n","<div"+o+' class="openblock'+((e=!1!==r&&r!==$t&&null!=r?r["$!="]("open"):r)===$t||null==e||e.$$is_boolean&&1!=e?"":" "+r)+(!1!==(e=s=t.$role())&&e!==$t&&null!=e?" "+s:e)+'">\n'+i+'<div class="content">\n'+t.$content()+"\n</div>\n</div>"):(this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")},y.$$arity=1),J.defn(K,"$page_break",v=function(t){return'<div style="page-break-after: always;"></div>'},v.$$arity=1),J.defn(K,"$paragraph",w=function(t){var e,n,$;return n=(e=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?'class="paragraph"':'class="paragraph '+t.$role()+'"',$=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?n:'id="'+t.$id()+'" '+n,(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?"<div "+$+">\n<p>"+t.$content()+"</p>\n</div>":"<div "+$+'>\n<div class="title">'+t.$title()+"</div>\n<p>"+t.$content()+"</p>\n</div>"},w.$$arity=1),J.defn(K,"$preamble",x=function(t){var e,n,$,r=$t,o=$t;return o=(e=!1!==(n=!1!==($=(r=t.$document())["$attr?"]("toc-placement","preamble"))&&$!==$t&&null!=$?r["$sections?"]():$)&&n!==$t&&null!=n?r["$attr?"]("toc"):n)===$t||null==e||e.$$is_boolean&&1!=e?$t:'\n<div id="toc" class="'+r.$attr("toc-class","toc")+'">\n<div id="toctitle">'+r.$attr("toc-title")+"</div>\n"+this.$outline(r)+"\n</div>",'<div id="preamble">\n<div class="sectionbody">\n'+t.$content()+"\n</div>"+o+"\n</div>"},x.$$arity=1),J.defn(K,"$quote",k=function(t){var e,n,$,r,o,i,s,l=this,a=$t,c=$t;return $=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=' class="'+Z(["quoteblock",t.$role()].$compact()," ")+'"',o=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'\n<div class="title">'+t.$title()+"</div>",i=(e=t["$attr?"]("attribution"))===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$attr("attribution"),s=(e=t["$attr?"]("citetitle"))===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$attr("citetitle"),(e=!1!==(n=i)&&n!==$t&&null!=n?n:s)===$t||null==e||e.$$is_boolean&&1!=e?c=$t:(a=!1!==s&&s!==$t&&null!=s?"<cite>"+s+"</cite>":$t,c='\n<div class="attribution">\n'+(!1!==i&&i!==$t&&null!=i?"&#8212; "+i+(!1!==s&&s!==$t&&null!=s?"<br"+l.void_element_slash+">\n":$t):$t)+a+"\n</div>"),"<div"+$+r+">"+o+"\n<blockquote>\n"+t.$content()+"\n</blockquote>"+c+"\n</div>"},k.$$arity=1),J.defn(K,"$thematic_break",O=function(t){return"<hr"+this.void_element_slash+">"},O.$$arity=1),J.defn(K,"$sidebar",E=function(t){var e,n,$,r=$t;return n=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',$=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'<div class="title">'+t.$title()+"</div>\n","<div"+n+' class="'+((e=r=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?"sidebarblock":Z(["sidebarblock",r]," "))+'">\n<div class="content">\n'+$+t.$content()+"\n</div>\n</div>"},E.$$arity=1),J.defn(K,"$table",A=function(f){var t,e,n,$,r,o,i,s,l,a,p=$t,c=$t,u=$t,_=$t,d=$t;return p=[],i=(t=f.$id())===$t||null==t||t.$$is_boolean&&1!=t?$t:' id="'+f.$id()+'"',c=["tableblock","frame-"+f.$attr("frame","all"),"grid-"+f.$attr("grid","all")],u=[],e=f["$option?"]("autowidth"),((t=!1!==e&&e!==$t&&null!=e?f["$attr?"]("width",$t,!1)["$!"]():e)===$t||null==t||t.$$is_boolean&&1!=t)&&((t=f["$attr?"]("tablepcwidth",100))===$t||null==t||t.$$is_boolean&&1!=t?u["$<<"]("width: "+f.$attr("tablepcwidth")+"%;"):c["$<<"]("spread")),(t=s=f.$role())===$t||null==t||t.$$is_boolean&&1!=t||c["$<<"](s),l=' class="'+Z(c," ")+'"',(t=f["$attr?"]("float"))===$t||null==t||t.$$is_boolean&&1!=t||u["$<<"]("float: "+f.$attr("float")+";"),a=(t=u["$empty?"]())===$t||null==t||t.$$is_boolean&&1!=t?' style="'+Z(u," ")+'"':$t,p["$<<"]("<table"+i+l+a+">"),(t=f["$title?"]())===$t||null==t||t.$$is_boolean&&1!=t||p["$<<"]('<caption class="title">'+f.$captioned_title()+"</caption>"),(t=Q(f.$attr("rowcount"),0))===$t||null==t||t.$$is_boolean&&1!=t||(_=this.void_element_slash,p["$<<"]("<colgroup>"),(t=f["$option?"]("autowidth"))===$t||null==t||t.$$is_boolean&&1!=t?ot(f.$columns(),"each",[],(($=function(t){return $.$$s,null==t&&(t=$t),p["$<<"]('<col style="width: '+t.$attr("colpcwidth")+'%;"'+_+">")}).$$s=this,$.$$arity=1,$)):(d="<col"+_+">",ot(f.$columns().$size(),"times",[],((n=function(){return n.$$s,p["$<<"](d)}).$$s=this,n.$$arity=0,n))),p["$<<"]("</colgroup>"),ot(ot(["head","foot","body"],"select",[],((r=function(t){return r.$$s,null==t&&(t=$t),f.$rows()["$[]"](t)["$empty?"]()["$!"]()}).$$s=this,r.$$arity=1,r)),"each",[],((o=function(d){var n,t=o.$$s||this;return null==d&&(d=$t),p["$<<"]("<t"+d+">"),ot(f.$rows()["$[]"](d),"each",[],((n=function(t){var _,e=n.$$s||this;return null==t&&(t=$t),p["$<<"]("<tr>"),ot(t,"each",[],((_=function(t){var e,n,$,r,o,i,s,l,a=_.$$s||this,c=$t,u=$t;return null==t&&(t=$t),d["$=="]("head")?c=t.$text():(u=t.$style(),c="asciidoc"["$==="](u)?"<div>"+t.$content()+"</div>":"verse"["$==="](u)?'<div class="verse">'+t.$text()+"</div>":"literal"["$==="](u)?'<div class="literal"><pre>'+t.$text()+"</pre></div>":Z(ot(t.$content(),"map",[],((e=function(t){return e.$$s,null==t&&(t=$t),'<p class="tableblock">'+t+"</p>"}).$$s=a,e.$$arity=1,e)),J.const_get(V,"EOL",!0,!0))),r=(n=!1!==($=d["$=="]("head"))&&$!==$t&&null!=$?$:t.$style()["$=="]("header"))===$t||null==n||n.$$is_boolean&&1!=n?"td":"th",o=' class="tableblock halign-'+t.$attr("halign")+" valign-"+t.$attr("valign")+'"',i=(n=t.$colspan())===$t||null==n||n.$$is_boolean&&1!=n?$t:' colspan="'+t.$colspan()+'"',s=(n=t.$rowspan())===$t||null==n||n.$$is_boolean&&1!=n?$t:' rowspan="'+t.$rowspan()+'"',l=(n=f.$document()["$attr?"]("cellbgcolor"))===$t||null==n||n.$$is_boolean&&1!=n?$t:' style="background-color: '+f.$document().$attr("cellbgcolor")+';"',p["$<<"]("<"+r+o+i+s+l+">"+c+"</"+r+">")}).$$s=e,_.$$arity=1,_)),p["$<<"]("</tr>")}).$$s=t,n.$$arity=1,n)),p["$<<"]("</t"+d+">")}).$$s=this,o.$$arity=1,o))),p["$<<"]("</table>"),Z(p,J.const_get(V,"EOL",!0,!0))},A.$$arity=1),J.defn(K,"$toc",S=function(t){var e,n,$,r,o,i=$t,s=$t,l=$t;return n=!1!==($=(i=t.$document())["$attr?"]("toc-placement","macro"))&&$!==$t&&null!=$?i["$sections?"]():$,(e=!1!==n&&n!==$t&&null!=n?i["$attr?"]("toc"):n)===$t||null==e||e.$$is_boolean&&1!=e?"\x3c!-- toc disabled --\x3e":((e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?(s=' id="toc"',l=' id="toctitle"'):(s=' id="'+t.$id()+'"',l=' id="'+t.$id()+'title"'),r=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?i.$attr("toc-title"):t.$title(),o=(e=t["$attr?"]("levels"))===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$attr("levels").$to_i(),"<div"+s+' class="'+((e=t["$role?"]())===$t||null==e||e.$$is_boolean&&1!=e?i.$attr("toc-class","toc"):t.$role())+'">\n<div'+l+' class="title">'+r+"</div>\n"+this.$outline(i,it(["toclevels"],{toclevels:o}))+"\n</div>")},S.$$arity=1),J.defn(K,"$ulist",R=function(t){var e,n,$,r,o=$t,i=$t,s=$t,l=$t,a=$t;return o=[],$=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',i=["ulist",t.$style(),t.$role()].$compact(),l=s=$t,(e=r=t["$option?"]("checklist"))===$t||null==e||e.$$is_boolean&&1!=e?a=(e=t.$style())===$t||null==e||e.$$is_boolean&&1!=e?$t:' class="'+t.$style()+'"':(i.$unshift(i.$shift(),"checklist"),a=' class="checklist"',(e=t["$option?"]("interactive"))===$t||null==e||e.$$is_boolean&&1!=e?(e=t.$document()["$attr?"]("icons","font"))===$t||null==e||e.$$is_boolean&&1!=e?(s="&#10003; ",l="&#10063; "):(s='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(e=this.xml_mode)===$t||null==e||e.$$is_boolean&&1!=e?(s='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(s='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> ')),o["$<<"]("<div"+$+' class="'+Z(i," ")+'">'),(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e||o["$<<"]('<div class="title">'+t.$title()+"</div>"),o["$<<"]("<ul"+a+">"),ot(t.$items(),"each",[],((n=function(t){var e;return n.$$s,null==t&&(t=$t),o["$<<"]("<li>"),(e=!1!==r&&r!==$t&&null!=r?t["$attr?"]("checkbox"):r)===$t||null==e||e.$$is_boolean&&1!=e?o["$<<"]("<p>"+t.$text()+"</p>"):o["$<<"]("<p>"+((e=t["$attr?"]("checked"))===$t||null==e||e.$$is_boolean&&1!=e?l:s)+t.$text()+"</p>"),(e=t["$blocks?"]())===$t||null==e||e.$$is_boolean&&1!=e||o["$<<"](t.$content()),o["$<<"]("</li>")}).$$s=this,n.$$arity=1,n)),o["$<<"]("</ul>"),o["$<<"]("</div>"),Z(o,J.const_get(V,"EOL",!0,!0))},R.$$arity=1),J.defn(K,"$verse",M=function(t){var e,n,$,r,o,i,s,l=this,a=$t,c=$t;return $=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',r=' class="'+Z(["verseblock",t.$role()].$compact()," ")+'"',o=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'\n<div class="title">'+t.$title()+"</div>",i=(e=t["$attr?"]("attribution"))===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$attr("attribution"),s=(e=t["$attr?"]("citetitle"))===$t||null==e||e.$$is_boolean&&1!=e?$t:t.$attr("citetitle"),(e=!1!==(n=i)&&n!==$t&&null!=n?n:s)===$t||null==e||e.$$is_boolean&&1!=e?c=$t:(a=!1!==s&&s!==$t&&null!=s?"<cite>"+s+"</cite>":$t,c='\n<div class="attribution">\n'+(!1!==i&&i!==$t&&null!=i?"&#8212; "+i+(!1!==s&&s!==$t&&null!=s?"<br"+l.void_element_slash+">\n":$t):$t)+a+"\n</div>"),"<div"+$+r+">"+o+'\n<pre class="content">'+t.$content()+"</pre>"+c+"\n</div>"},M.$$arity=1),J.defn(K,"$video",T=function(t){var e,n,$,r,o,i,s,l,a,c=this,u=$t,_=$t,d=$t,f=$t,p=$t,h=$t,g=$t,b=$t,m=$t,y=$t,v=$t,w=$t,x=$t,k=$t,O=$t,E=$t,A=$t,S=$t,R=$t,M=$t,T=$t,I=$t,C=$t,N=$t,j=$t;return $=c.xml_mode,r=(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="'+t.$id()+'"',o=["videoblock",t.$role()].$compact(),i=' class="'+Z(o," ")+'"',s=(e=t["$title?"]())===$t||null==e||e.$$is_boolean&&1!=e?$t:'\n<div class="title">'+t.$captioned_title()+"</div>",l=(e=t["$attr?"]("width"))===$t||null==e||e.$$is_boolean&&1!=e?$t:' width="'+t.$attr("width")+'"',a=(e=t["$attr?"]("height"))===$t||null==e||e.$$is_boolean&&1!=e?$t:' height="'+t.$attr("height")+'"',u=t.$attr("poster"),"vimeo"["$==="](u)?(((e=(_=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===$t||null==e||e.$$is_boolean&&1!=e)&&(_+=":"),d=(e=t["$attr?"]("start",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?$t:"#at="+t.$attr("start"),!(f="?")!==(p=(e=t["$option?"]("autoplay"))===$t||null==e||e.$$is_boolean&&1!=e?$t:f+"autoplay=1")&&p!==$t&&null!=p&&(f="&amp;"),h=(e=t["$option?"]("loop"))===$t||null==e||e.$$is_boolean&&1!=e?$t:f+"loop=1","<div"+r+i+">"+s+'\n<div class="content">\n<iframe'+l+a+' src="'+_+"//player.vimeo.com/video/"+t.$attr("target")+d+p+h+'" frameborder="0"'+((e=t["$option?"]("nofullscreen"))===$t||null==e||e.$$is_boolean&&1!=e?c.$append_boolean_attribute("allowfullscreen",$):$t)+"></iframe>\n</div>\n</div>"):"youtube"["$==="](u)?(((e=(_=t.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===$t||null==e||e.$$is_boolean&&1!=e)&&(_+=":"),g=(e=t["$option?"]("related"))===$t||null==e||e.$$is_boolean&&1!=e?0:1,b=(e=t["$attr?"]("start",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;start="+t.$attr("start"),m=(e=t["$attr?"]("end",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;end="+t.$attr("end"),p=(e=t["$option?"]("autoplay"))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;autoplay=1",h=(e=t["$option?"]("loop"))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;loop=1",y=(e=t["$option?"]("nocontrols"))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;controls=0",(e=t["$option?"]("nofullscreen"))===$t||null==e||e.$$is_boolean&&1!=e?(v=$t,w=c.$append_boolean_attribute("allowfullscreen",$)):(v="&amp;fs=0",w=$t),x=(e=t["$option?"]("modest"))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;modestbranding=1",k=(e=t["$attr?"]("theme",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;theme="+t.$attr("theme"),O=(e=t["$attr?"]("lang"))===$t||null==e||e.$$is_boolean&&1!=e?$t:"&amp;hl="+t.$attr("lang"),n=t.$attr("target").$split("/",2),e=J.to_ary(n),E=null==e[0]?$t:e[0],A=null==e[1]?$t:e[1],(e=!1!==(n=A)&&n!==$t&&null!=n?n:A=t.$attr("list",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?(n=E.$split(",",2),e=J.to_ary(n),E=null==e[0]?$t:e[0],R=null==e[1]?$t:e[1],S=(e=!1!==(n=R)&&n!==$t&&null!=n?n:R=t.$attr("playlist",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e?!1!==h&&h!==$t&&null!=h?"&amp;playlist="+E:$t:"&amp;playlist="+R):S="&amp;list="+A,"<div"+r+i+">"+s+'\n<div class="content">\n<iframe'+l+a+' src="'+_+"//www.youtube.com/embed/"+E+"?rel="+g+b+m+p+h+y+S+v+x+k+O+'" frameborder="0"'+w+"></iframe>\n</div>\n</div>"):(M=(e=(T=t.$attr("poster",$t,!1))["$nil_or_empty?"]())===$t||null==e||e.$$is_boolean&&1!=e?' poster="'+t.$media_uri(T)+'"':$t,I=(e=(T=t.$attr("preload",$t,!1))["$nil_or_empty?"]())===$t||null==e||e.$$is_boolean&&1!=e?' preload="'+T+'"':$t,C=t.$attr("start",$t,!1),N=t.$attr("end",$t,!1),j=(e=!1!==(n=C)&&n!==$t&&null!=n?n:N)===$t||null==e||e.$$is_boolean&&1!=e?$t:"#t="+C+(!1!==N&&N!==$t&&null!=N?",":$t)+N,"<div"+r+i+">"+s+'\n<div class="content">\n<video src="'+t.$media_uri(t.$attr("target"))+j+'"'+l+a+M+((e=t["$option?"]("autoplay"))===$t||null==e||e.$$is_boolean&&1!=e?$t:c.$append_boolean_attribute("autoplay",$))+((e=t["$option?"]("nocontrols"))===$t||null==e||e.$$is_boolean&&1!=e?c.$append_boolean_attribute("controls",$):$t)+((e=t["$option?"]("loop"))===$t||null==e||e.$$is_boolean&&1!=e?$t:c.$append_boolean_attribute("loop",$))+I+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")},T.$$arity=1),J.defn(K,"$inline_anchor",I=function(t){var e,n,$,r=this,o=$t,i=$t,s=$t,l=$t,a=$t;return $=t.$target(),o=t.$type(),"xref"["$==="](o)?(i=!1!==(e=t.$attributes()["$[]"]("refid"))&&e!==$t&&null!=e?e:$,s=!1!==(e=!1!==(n=t.$text())&&n!==$t&&null!=n?n:t.$document().$references()["$[]"]("ids")["$[]"](i))&&e!==$t&&null!=e?e:"["+i+"]",'<a href="'+$+'">'+s+"</a>"):"ref"["$==="](o)?'<a id="'+$+'"></a>':"link"["$==="](o)?(l=[],(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e||l["$<<"](' id="'+t.$id()+'"'),(e=a=t.$role())===$t||null==e||e.$$is_boolean&&1!=e||l["$<<"](' class="'+a+'"'),(e=t["$attr?"]("title",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e||l["$<<"](' title="'+t.$attr("title")+'"'),(e=t["$attr?"]("window",$t,!1))===$t||null==e||e.$$is_boolean&&1!=e||l["$<<"](' target="'+t.$attr("window")+'"'),'<a href="'+$+'"'+l.$join()+">"+t.$text()+"</a>"):"bibref"["$==="](o)?'<a id="'+$+'"></a>['+$+"]":r.$warn("asciidoctor: WARNING: unknown anchor type: "+t.$type().$inspect())},I.$$arity=1),J.defn(K,"$inline_break",C=function(t){return t.$text()+"<br"+this.void_element_slash+">"},C.$$arity=1),J.defn(K,"$inline_button",N=function(t){return'<b class="button">'+t.$text()+"</b>"},N.$$arity=1),J.defn(K,"$inline_callout",j=function(t){var e;return(e=t.$document()["$attr?"]("icons","font"))===$t||null==e||e.$$is_boolean&&1!=e?(e=t.$document()["$attr?"]("icons"))===$t||null==e||e.$$is_boolean&&1!=e?'<b class="conum">('+t.$text()+")</b>":'<img src="'+t.$icon_uri("callouts/"+t.$text())+'" alt="'+t.$text()+'"'+this.void_element_slash+">":'<i class="conum" data-value="'+t.$text()+'"></i><b>('+t.$text()+")</b>"},j.$$arity=1),J.defn(K,"$inline_footnote",L=function(t){var e,n;return(e=n=t.$attr("index"))===$t||null==e||e.$$is_boolean&&1!=e?t.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+t.$text()+"]</sup>":$t:t.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>":'<sup class="footnote"'+((e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?$t:' id="_footnote_'+t.$id()+'"')+'>[<a id="_footnoteref_'+n+'" class="footnote" href="#_footnote_'+n+'" title="View footnote.">'+n+"</a>]</sup>"},L.$$arity=1),J.defn(K,"$inline_image",z=function($){var t,e,r,n,o,i,s,l,a=this,c=$t,u=$t,_=$t,d=$t,f=$t,p=$t,h=$t,g=$t,b=$t,m=$t,y=$t;return(t=(e=(c=$.$type())["$=="]("icon"))?$.$document()["$attr?"]("icons","font"):(c=$.$type())["$=="]("icon"))===$t||null==t||t.$$is_boolean&&1!=t?(t=(e=c["$=="]("icon"))?$.$document()["$attr?"]("icons")["$!"]():c["$=="]("icon"))===$t||null==t||t.$$is_boolean&&1!=t?(f=$.$target(),p=ot(["width","height","title"],"map",[],(n=function(t){var e;return n.$$s,null==t&&(t=$t),(e=$["$attr?"](t))===$t||null==e||e.$$is_boolean&&1!=e?$t:" "+t+'="'+$.$attr(t)+'"'},n.$$s=a,n.$$arity=1,n)).$join(),e=!1!==(o=!1!==(i=c["$!="]("icon"))&&i!==$t&&null!=i?!1!==(s=$["$attr?"]("format","svg",!1))&&s!==$t&&null!=s?s:f["$include?"](".svg"):i)&&o!==$t&&null!=o?et($.$document().$safe(),J.const_get([J.const_get(V,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):o,(t=!1!==e&&e!==$t&&null!=e?!1!==(o=h=$["$option?"]("inline"))&&o!==$t&&null!=o?o:g=$["$option?"]("interactive"):e)===$t||null==t||t.$$is_boolean&&1!=t||(!1!==h&&h!==$t&&null!=h?d=!1!==(t=a.$read_svg_contents($,f))&&t!==$t&&null!=t?t:'<span class="alt">'+$.$attr("alt")+"</span>":!1!==g&&g!==$t&&null!=g&&(b=(t=$["$attr?"]("fallback"))===$t||null==t||t.$$is_boolean&&1!=t?'<span class="alt">'+$.$attr("alt")+"</span>":'<img src="'+$.$image_uri($.$attr("fallback"))+'" alt="'+$.$attr("alt")+'"'+p+a.void_element_slash+">",d='<object type="image/svg+xml" data="'+$.$image_uri(f)+'"'+p+">"+b+"</object>")),!1!==(t=d)&&t!==$t&&null!=t||(d='<img src="'+(c["$=="]("icon")?$.$icon_uri(f):$.$image_uri(f))+'" alt="'+$.$attr("alt")+'"'+p+a.void_element_slash+">")):d="["+$.$attr("alt")+"]":(u="fa fa-"+$.$target(),ot(it(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],((r=function(t,e){var n;return r.$$s,null==t&&(t=$t),null==e&&(e=$t),(n=$["$attr?"](t))===$t||null==n||n.$$is_boolean&&1!=n?$t:u=u+" "+e+$.$attr(t)}).$$s=a,r.$$arity=2,r)),_=(t=$["$attr?"]("title"))===$t||null==t||t.$$is_boolean&&1!=t?$t:' title="'+$.$attr("title")+'"',d='<i class="'+u+'"'+_+"></i>"),(t=$["$attr?"]("link"))===$t||null==t||t.$$is_boolean&&1!=t||(m=(t=$["$attr?"]("window"))===$t||null==t||t.$$is_boolean&&1!=t?$t:' target="'+$.$attr("window")+'"',d='<a class="image" href="'+$.$attr("link")+'"'+m+">"+d+"</a>"),u=(t=y=$.$role())===$t||null==t||t.$$is_boolean&&1!=t?c:c+" "+y,l=(t=$["$attr?"]("float"))===$t||null==t||t.$$is_boolean&&1!=t?$t:' style="float: '+$.$attr("float")+'"','<span class="'+u+'"'+l+">"+d+"</span>"},z.$$arity=1),J.defn(K,"$inline_indexterm",P=function(t){return t.$type()["$=="]("visible")?t.$text():""},P.$$arity=1),J.defn(K,"$inline_kbd",D=function(t){var e,n=$t;return(n=t.$attr("keys")).$size()["$=="](1)?"<kbd>"+n["$[]"](0)+"</kbd>":'<span class="keyseq">'+ot(n,"map",[],(e=function(t){return e.$$s,null==t&&(t=$t),"<kbd>"+t+"</kbd>+"},e.$$s=this,e.$$arity=1,e)).$join().$chop()+"</span>"},D.$$arity=1),J.defn(K,"$inline_menu",B=function(t){var e,n,$,r,o=$t;return $=t.$attr("menu"),(e=(r=t.$attr("submenus"))["$empty?"]()["$!"]())===$t||null==e||e.$$is_boolean&&1!=e?(e=o=t.$attr("menuitem"))===$t||null==e||e.$$is_boolean&&1!=e?'<span class="menu">'+$+"</span>":'<span class="menuseq"><span class="menu">'+$+'</span>&#160;&#9656; <span class="menuitem">'+o+"</span></span>":'<span class="menuseq"><span class="menu">'+$+"</span>&#160;&#9656; "+ot(r,"map",[],(n=function(t){return n.$$s,null==t&&(t=$t),'<span class="submenu">'+t+"</span>&#160;&#9656; "},n.$$s=this,n.$$arity=1,n)).$join().$chop()+' <span class="menuitem">'+t.$attr("menuitem")+"</span></span>"},B.$$arity=1),J.defn(K,"$inline_quoted",q=function(t){var e,n,$,r,o=$t,i=$t;return n=J.const_get(V,"QUOTE_TAGS",!0,!0)["$[]"](t.$type()),o=null==(e=J.to_ary(n))[0]?$t:e[0],$=null==e[1]?$t:e[1],r=null==e[2]?$t:e[2],i=(e=t.$role())===$t||null==e||e.$$is_boolean&&1!=e?""+o+t.$text()+$:!1!==r&&r!==$t&&null!=r?o.$chop()+' class="'+t.$role()+'">'+t.$text()+$:'<span class="'+t.$role()+'">'+o+t.$text()+$+"</span>",(e=t.$id())===$t||null==e||e.$$is_boolean&&1!=e?i:'<a id="'+t.$id()+'"></a>'+i},q.$$arity=1),J.defn(K,"$append_boolean_attribute",U=function(t,e){return!1!==e&&e!==$t&&null!=e?" "+t+'="'+t+'"':" "+t},U.$$arity=2),J.defn(K,"$read_svg_contents",F=function(n,t){var e,$,r=$t,o=$t,i=$t;return(e=r=n.$read_contents(t,it(["start","normalize","label"],{start:n.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===$t||null==e||e.$$is_boolean&&1!=e||(((e=r["$start_with?"]("<svg"))===$t||null==e||e.$$is_boolean&&1!=e)&&(r=r.$sub(J.const_get(V,"SvgPreambleRx",!0,!0),"")),o=i=$t,ot(["width","height"],"each",[],(($=function(t){var e;return $.$$s,null==t&&(t=$t),(e=n["$attr?"](t))===$t||null==e||e.$$is_boolean&&1!=e?$t:(!1!==i&&i!==$t&&null!=i||(i=(o=r.$match(J.const_get(V,"SvgStartTagRx",!0,!0))["$[]"](0)).$gsub(J.const_get(V,"DimensionAttributeRx",!0,!0),"")),i=i.$chop()+" "+t+'="'+n.$attr(t)+'px">')}).$$s=this,$.$$arity=1,$)),!1!==i&&i!==$t&&null!=i&&(r=""+i+r["$[]"](J.Range.$new(o.$length(),-1,!1)))),r},F.$$arity=2)}(J.const_get(r,"Converter",!0,!0),J.const_get([J.const_get(r,"Converter",!0,!0).$$scope],"BuiltIn",!0,!0),r)},Opal.modules["asciidoctor/extensions"]=function(U){function F(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}function G(t,e){return"number"==typeof t&&"number"==typeof e?t+e:t["$+"](e)}function H(t,e){return"number"==typeof t&&"number"==typeof e?t<e:t["$<"](e)}U.top;var t,e,n,$,r,l,o,i,s,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P,D,B,q,Y,K,W,X,V,J,Z,Q=U,tt=[U],et=U.nil,nt=(U.breaker,U.slice,U.module),$t=U.klass,rt=U.hash2,ot=U.send,it=U.hash;return U.add_stubs(["$[]=","$config","$-","$nil_or_empty?","$name","$grep","$constants","$include","$const_get","$extend","$attr_reader","$merge","$class","$update","$raise","$document","$delete","$new","$[]","$fetch","$attr?","$title=","$nil?","$generate_id","$title","$attributes","$id=","$create_block","$===","$has_more_lines?","$next_block","$dup","$<<","$each","$define_method","$unshift","$shift","$send","$call","$attr_accessor","$option","$to_set","$flatten","$resolve_regexp","$==","$method","$register","$+","$values","$groups","$arity","$instance_exec","$to_proc","$activate","$add_document_processor","$!","$any?","$select","$add_syntax_processor","$to_sym","$include?","$private","$tr","$to_s","$join","$map","$split","$instance_variable_get","$instance_variable_set","$resolve_args","$freeze","$process_block_given?","$source_location","$class_for_name","$<","$update_config","$push","$as_symbol","$name=","$pop","$>","$size","$-@","$next_auto_id","$generate_name","$empty?","$const_defined?"]),t=Q.base,e=tt,(V=nt(t,"Asciidoctor")).$$proto,J=V.$$scope,Z=e.slice().concat(J),a=J.base,c=Z,(K=nt(a,"Extensions")).$$proto,W=K.$$scope,X=c.slice().concat(W),function(t,e,n){function $(){}var r,o,i,s,l,a,c,u,_,d,f,p,h,g,b=$=$t(t,null,"Processor",$),m=b.$$proto,y=b.$$scope,v=n.slice().concat(y);m.config=et,d=U.get_singleton_class(b),f=v,d.$$proto,d.$$scope,f.slice().concat(d),U.defn(d,"$config",p=function(){var t;return null==this.config&&(this.config=et),!1!==(t=this.config)&&t!==et&&null!=t?t:this.config=rt([],{})},p.$$arity=0),U.defn(d,"$option",h=function(t,e){var n;return n=[t,e],ot(this.$config(),"[]=",U.to_a(n)),n[F(n.length,1)]},h.$$arity=2),U.defn(d,"$use_dsl",g=function(){var t;return(t=this.$name()["$nil_or_empty?"]())===et||null==t||t.$$is_boolean&&1!=t?(t=this.$constants().$grep("DSL"))===et||null==t||t.$$is_boolean&&1!=t?et:this.$extend(this.$const_get("DSL")):(t=this.$constants().$grep("DSL"))===et||null==t||t.$$is_boolean&&1!=t?et:this.$include(this.$const_get("DSL"))},g.$$arity=0),U.alias(d,"extend_dsl","use_dsl"),U.alias(d,"include_dsl","use_dsl"),b.$attr_reader("config"),U.defn(b,"$initialize",r=function(t){return null==t&&(t=rt([],{})),this.config=this.$class().$config().$merge(t)},r.$$arity=-1),U.defn(b,"$update_config",o=function(t){return this.config.$update(t)},o.$$arity=1),U.defn(b,"$process",i=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Processor subclass must implement #process method")},i.$$arity=-1),U.defn(b,"$create_section",s=function(t,e,n,$){var r,o,i=et,s=et,l=et,a=et;return null==$&&($=rt([],{})),i=t.$document(),s=n.$delete("id"),l=U.const_get(v,"Section",!0,!0).$new(t,$["$[]"]("level"),$.$fetch("numbered",i["$attr?"]("sectnums")),rt(["attributes"],{attributes:n}).$merge($)),a=[e],ot(l,"title=",U.to_a(a)),a[F(a.length,1)],a=[(a=["id",!1!==(r=s)&&r!==et&&null!=r?r:(o=s["$nil?"]())===et||null==o||o.$$is_boolean&&1!=o?et:U.const_get(v,"Section",!0,!0).$generate_id(l.$title(),i)],ot(l.$attributes(),"[]=",U.to_a(a)),a[F(a.length,1)])],ot(l,"id=",U.to_a(a)),a[F(a.length,1)],l},s.$$arity=-4),U.defn(b,"$create_block",l=function(t,e,n,$,r){return null==r&&(r=rt([],{})),U.const_get(v,"Block",!0,!0).$new(t,e,rt(["source","attributes"],{source:n,attributes:$}).$merge(r))},l.$$arity=-5),U.defn(b,"$create_image_block",a=function(t,e,n){return null==n&&(n=rt([],{})),this.$create_block(t,"image",et,e,n)},a.$$arity=-3),U.defn(b,"$create_inline",c=function(t,e,n,$){return null==$&&($=rt([],{})),U.const_get(v,"Inline",!0,!0).$new(t,e,n,$)},c.$$arity=-4),U.defn(b,"$parse_content",u=function(t,e,n){var $,r,o=et,i=et;for(null==n&&(n=et),o=($=U.const_get(v,"Reader",!0,!0)["$==="](e))===et||null==$||$.$$is_boolean&&1!=$?U.const_get(v,"Reader",!0,!0).$new(e):e;(r=o["$has_more_lines?"]())!==et&&null!=r&&(!r.$$is_boolean||1==r);)!1!==(i=U.const_get(v,"Parser",!0,!0).$next_block(o,t,!1!==n&&n!==et&&null!=n?n.$dup():rt([],{})))&&i!==et&&null!=i&&t["$<<"](i);return t},u.$$arity=-3),ot([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],((_=function(t,i,s){var l,e=_.$$s||this;return null==t&&(t=et),null==i&&(i=et),null==s&&(s=et),ot(e,"define_method",[t],((l=function(t){var e,n=l.$$s||this,$=arguments.length,r=$-0;r<0&&(r=0),e=new Array(r);for(var o=0;o<$;o++)e[o-0]=arguments[o];return e.$unshift(e.$shift(),s),ot(n,"send",[i].concat(U.to_a(e)))}).$$s=e,l.$$arity=-1,l))}).$$s=b,_.$$arity=3,_))}(W.base,0,X),n=W.base,$=X,(i=nt(n,"ProcessorDsl")).$$proto,s=i.$$scope,$.slice().concat(s),U.defn(i,"$option",r=function(t,e){var n;return n=[t,e],ot(this.$config(),"[]=",U.to_a(n)),n[F(n.length,1)]},r.$$arity=2),U.defn(i,"$process",l=function(t){var e,n,$=l.$$p,r=$||et;null==this.process_block&&(this.process_block=et);var o=arguments.length,i=o-0;i<0&&(i=0),n=new Array(i);for(var s=0;s<o;s++)n[s-0]=arguments[s];return $&&(l.$$p=null),r!==et?this.process_block=r:(e=this.process_block)===et||null==e||e.$$is_boolean&&1!=e?this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0)):ot(this.process_block,"call",U.to_a(n))},l.$$arity=-1),U.defn(i,"$process_block_given?",o=function(){var t;return null!=(t=this.process_block)&&t!==et?"instance-variable":et},o.$$arity=0),function(t,e,n){function $(){}var r,o=$=$t(t,e,"Preprocessor",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),U.defn(o,"$process",r=function(t,e){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},r.$$arity=2)}(W.base,U.const_get(X,"Processor",!0,!0),X),U.casgn(U.const_get(X,"Preprocessor",!0,!0),"DSL",U.const_get(X,"ProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o=$=$t(t,e,"Treeprocessor",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),U.defn(o,"$process",r=function(t){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Treeprocessor subclass must implement #process method")},r.$$arity=1)}(W.base,U.const_get(X,"Processor",!0,!0),X),U.casgn(U.const_get(X,"Treeprocessor",!0,!0),"DSL",U.const_get(X,"ProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o=$=$t(t,e,"Postprocessor",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),U.defn(o,"$process",r=function(t,e){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},r.$$arity=2)}(W.base,U.const_get(X,"Processor",!0,!0),X),U.casgn(U.const_get(X,"Postprocessor",!0,!0),"DSL",U.const_get(X,"ProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o,i=$=$t(t,e,"IncludeProcessor",$),s=(i.$$proto,i.$$scope);n.slice().concat(s),U.defn(i,"$process",r=function(t,e,n,$){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},r.$$arity=4),U.defn(i,"$handles?",o=function(t){return!0},o.$$arity=1)}(W.base,U.const_get(X,"Processor",!0,!0),X),U.casgn(U.const_get(X,"IncludeProcessor",!0,!0),"DSL",U.const_get(X,"ProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o,i=$=$t(t,e,"DocinfoProcessor",$),s=i.$$proto,l=i.$$scope;n.slice().concat(l),s.config=et,i.$attr_accessor("location"),U.defn(i,"$initialize",r=function(t){var e,n,$=r.$$p;return null==t&&(t=rt([],{})),$&&(r.$$p=null),ot(this,U.find_super_dispatcher(this,"initialize",r,!1),[t],null),!1!==(n=(e=this.config)["$[]"]("location"))&&n!==et&&null!=n?n:e["$[]="]("location","head")},r.$$arity=-1),U.defn(i,"$process",o=function(t){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},o.$$arity=1)}(W.base,U.const_get(X,"Processor",!0,!0),X),u=W.base,_=X,(f=nt(u,"DocinfoProcessorDsl")).$$proto,p=f.$$scope,h=_.slice().concat(p),f.$include(U.const_get(h,"ProcessorDsl",!0,!0)),U.defn(f,"$at_location",d=function(t){return this.$option("location",t)},d.$$arity=1),U.casgn(U.const_get(X,"DocinfoProcessor",!0,!0),"DSL",U.const_get(X,"DocinfoProcessorDsl",!0,!0)),function(t,e,n){function $(){}var a,r,o=$=$t(t,e,"BlockProcessor",$),i=o.$$proto,s=o.$$scope;n.slice().concat(s),i.config=et,o.$attr_accessor("name"),U.defn(o,"$initialize",a=function(t,e){var n,$,r,o,i=this,s=a.$$p,l=et;return null==t&&(t=et),null==e&&(e=rt([],{})),s&&(a.$$p=null),ot(i,U.find_super_dispatcher(i,"initialize",a,!1),[e],null),i.name=!1!==(n=t)&&n!==et&&null!=n?n:i.config["$[]"]("name"),o=i.config["$[]"]("contexts"),U.const_get([U.Object.$$scope],"NilClass",!0,!0)["$==="](o)?!(n="contexts")!==(r=($=i.config)["$[]"](n))&&r!==et&&null!=r||$["$[]="](n,["open","paragraph"].$to_set()):(l=U.const_get([U.Object.$$scope],"Symbol",!0,!0)["$==="](o)?["contexts",[i.config["$[]"]("contexts")].$to_set()]:["contexts",i.config["$[]"]("contexts").$to_set()],ot(i.config,"[]=",U.to_a(l)),l[F(l.length,1)]),!(n="content_model")!==(r=($=i.config)["$[]"](n))&&r!==et&&null!=r?r:$["$[]="](n,"compound")},a.$$arity=-1),U.defn(o,"$process",r=function(t,e,n){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},r.$$arity=3)}(W.base,U.const_get(X,"Processor",!0,!0),X),g=W.base,b=X,(k=nt(g,"BlockProcessorDsl")).$$proto,O=k.$$scope,E=b.slice().concat(O),k.$include(U.const_get(E,"ProcessorDsl",!0,!0)),U.defn(k,"$named",m=function(t){var e;return(e=U.const_get(E,"Processor",!0,!0)["$==="](this))===et||null==e||e.$$is_boolean&&1!=e?this.$option("name",t):this.name=t},m.$$arity=1),U.alias(k,"match_name","named"),U.alias(k,"bind_to","named"),U.defn(k,"$contexts",y=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$option("contexts",e.$flatten())},y.$$arity=-1),U.alias(k,"on_contexts","contexts"),U.alias(k,"on_context","contexts"),U.defn(k,"$content_model",v=function(t){return this.$option("content_model",t)},v.$$arity=1),U.alias(k,"parse_content_as","content_model"),U.defn(k,"$positional_attributes",w=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$option("pos_attrs",e.$flatten())},w.$$arity=-1),U.alias(k,"pos_attrs","positional_attributes"),U.alias(k,"name_attributes","positional_attributes"),U.alias(k,"name_positional_attributes","positional_attributes"),U.defn(k,"$default_attrs",x=function(t){return this.$option("default_attrs",t)},x.$$arity=1),U.alias(k,"seed_attributes_with","default_attrs"),U.casgn(U.const_get(X,"BlockProcessor",!0,!0),"DSL",U.const_get(X,"BlockProcessorDsl",!0,!0)),function(t,e,n){function $(){}var i,r,o=$=$t(t,e,"MacroProcessor",$),s=o.$$proto,l=o.$$scope;n.slice().concat(l),s.config=et,o.$attr_accessor("name"),U.defn(o,"$initialize",i=function(t,e){var n,$,r,o=i.$$p;return null==t&&(t=et),null==e&&(e=rt([],{})),o&&(i.$$p=null),ot(this,U.find_super_dispatcher(this,"initialize",i,!1),[e],null),this.name=!1!==(n=t)&&n!==et&&null!=n?n:this.config["$[]"]("name"),!(n="content_model")!==(r=($=this.config)["$[]"](n))&&r!==et&&null!=r?r:$["$[]="](n,"attributes")},i.$$arity=-1),U.defn(o,"$process",r=function(t,e,n){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},r.$$arity=3)}(W.base,U.const_get(X,"Processor",!0,!0),X),A=W.base,S=X,(C=nt(A,"MacroProcessorDsl")).$$proto,N=C.$$scope,j=S.slice().concat(N),C.$include(U.const_get(j,"ProcessorDsl",!0,!0)),U.defn(C,"$named",R=function(t){var e;return(e=U.const_get(j,"Processor",!0,!0)["$==="](this))===et||null==e||e.$$is_boolean&&1!=e?this.$option("name",t):this.name=t},R.$$arity=1),U.alias(C,"match_name","named"),U.alias(C,"bind_to","named"),U.defn(C,"$content_model",M=function(t){return this.$option("content_model",t)},M.$$arity=1),U.alias(C,"parse_content_as","content_model"),U.defn(C,"$positional_attributes",T=function(t){var e,n=arguments.length,$=n-0;$<0&&($=0),e=new Array($);for(var r=0;r<n;r++)e[r-0]=arguments[r];return this.$option("pos_attrs",e.$flatten())},T.$$arity=-1),U.alias(C,"pos_attrs","positional_attributes"),U.alias(C,"name_attributes","positional_attributes"),U.alias(C,"name_positional_attributes","positional_attributes"),U.defn(C,"$default_attrs",I=function(t){return this.$option("default_attrs",t)},I.$$arity=1),U.alias(C,"seed_attributes_with","default_attrs"),function(t,e,n){function $(){}var r=$=$t(t,e,"BlockMacroProcessor",$),o=(r.$$proto,r.$$scope);n.slice().concat(o)}(W.base,U.const_get(X,"MacroProcessor",!0,!0),X),U.casgn(U.const_get(X,"BlockMacroProcessor",!0,!0),"DSL",U.const_get(X,"MacroProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o,i=$=$t(t,e,"InlineMacroProcessor",$),s=i.$$proto,l=i.$$scope;n.slice().concat(l),s.config=s.name=et,U.defn(i,"$regexp",r=function(){var t,e;return!1!==(e=(t=this.config)["$[]"]("regexp"))&&e!==et&&null!=e?e:t["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))},r.$$arity=0),U.defn(i,"$resolve_regexp",o=function(t,e){return e["$=="]("short")?new RegExp("\\\\?"+t+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+t+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},o.$$arity=2)}(W.base,U.const_get(X,"MacroProcessor",!0,!0),X),L=W.base,z=X,(B=nt(L,"InlineMacroProcessorDsl")).$$proto,q=B.$$scope,Y=z.slice().concat(q),B.$include(U.const_get(Y,"MacroProcessorDsl",!0,!0)),U.defn(B,"$using_format",P=function(t){return this.$option("format",t)},P.$$arity=1),U.defn(B,"$match",D=function(t){return this.$option("regexp",t)},D.$$arity=1),U.casgn(U.const_get(X,"InlineMacroProcessor",!0,!0),"DSL",U.const_get(X,"InlineMacroProcessorDsl",!0,!0)),function(t,e,n){function $(){}var r,o=$=$t(t,null,"Extension",$),i=(o.$$proto,o.$$scope);n.slice().concat(i),o.$attr_reader("kind"),o.$attr_reader("config"),o.$attr_reader("instance"),U.defn(o,"$initialize",r=function(t,e,n){return this.kind=t,this.instance=e,this.config=n},r.$$arity=3)}(W.base,0,X),function(t,e,n){function $(){}var o,r=$=$t(t,e,"ProcessorExtension",$),i=(r.$$proto,r.$$scope);n.slice().concat(i),r.$attr_reader("process_method"),U.defn(r,"$initialize",o=function(t,e,n){var $,r=o.$$p;return null==n&&(n=et),r&&(o.$$p=null),ot(this,U.find_super_dispatcher(this,"initialize",o,!1),[t,e,e.$config()],null),this.process_method=!1!==($=n)&&$!==et&&null!=$?$:e.$method("process")},o.$$arity=-3)}(W.base,U.const_get(X,"Extension",!0,!0),X),function(t,e,n){function $(){}var r,o=$=$t(t,null,"Group",$),i=(o.$$proto,o.$$scope),s=n.slice().concat(i);(function(t,e){t.$$proto,t.$$scope;var n,$=e.slice().concat(t);U.defn(t,"$register",n=function(t){return null==t&&(t=et),U.const_get($,"Extensions",!0,!0).$register(t,this)},n.$$arity=-1)})(U.get_singleton_class(o),s),U.defn(o,"$activate",r=function(t){return this.$raise(U.const_get([U.Object.$$scope],"NotImplementedError",!0,!0))},r.$$arity=1)}(W.base,0,X),function(t,e,n){function $(){}var r,o,s,i,l,a,c,u,_,d,f,p,h,g,b,m,y,v,w,x,k,O,E,A,S,R,M,T,I,C,N,j,L,z,P=$=$t(t,null,"Registry",$),D=P.$$proto,B=P.$$scope,q=n.slice().concat(B);D.groups=D.preprocessor_extensions=D.treeprocessor_extensions=D.postprocessor_extensions=D.include_processor_extensions=D.docinfo_processor_extensions=D.block_extensions=D.block_macro_extensions=D.inline_macro_extensions=et,P.$attr_reader("document"),P.$attr_reader("groups"),U.defn(P,"$initialize",r=function(t){var e=this;return null==t&&(t=rt([],{})),e.groups=t,e.preprocessor_extensions=e.treeprocessor_extensions=e.postprocessor_extensions=e.include_processor_extensions=e.docinfo_processor_extensions=et,e.block_extensions=e.block_macro_extensions=e.inline_macro_extensions=et,e.document=et},r.$$arity=-1),U.defn(P,"$activate",o=function(t){var $;return this.document=t,ot(G(U.const_get(q,"Extensions",!0,!0).$groups().$values(),this.groups.$values()),"each",[],(($=function(t){var e=$.$$s||this,n=et;return null==t&&(t=et),n=t,U.const_get([U.Object.$$scope],"Proc",!0,!0)["$==="](n)?(n=t.$arity(),(0)["$==="](n)||(-1)["$==="](n)?ot(e,"instance_exec",[],t.$to_proc()):1["$==="](n)?t.$call(e):et):U.const_get([U.Object.$$scope],"Class",!0,!0)["$==="](n)?t.$new().$activate(e):t.$activate(e)}).$$s=this,$.$$arity=1,$)),this},o.$$arity=1),U.defn(P,"$preprocessor",s=function(t){var e,n=s.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(s.$$p=null),ot(this,"add_document_processor",["preprocessor",e],$.$to_proc())},s.$$arity=-1),U.defn(P,"$preprocessors?",i=function(){return this.preprocessor_extensions["$!"]()["$!"]()},i.$$arity=0),U.defn(P,"$preprocessors",l=function(){return this.preprocessor_extensions},l.$$arity=0),U.defn(P,"$treeprocessor",a=function(t){var e,n=a.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(a.$$p=null),ot(this,"add_document_processor",["treeprocessor",e],$.$to_proc())},a.$$arity=-1),U.defn(P,"$treeprocessors?",c=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},c.$$arity=0),U.defn(P,"$treeprocessors",u=function(){return this.treeprocessor_extensions},u.$$arity=0),U.defn(P,"$postprocessor",_=function(t){var e,n=_.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(_.$$p=null),ot(this,"add_document_processor",["postprocessor",e],$.$to_proc())},_.$$arity=-1),U.defn(P,"$postprocessors?",d=function(){return this.postprocessor_extensions["$!"]()["$!"]()},d.$$arity=0),U.defn(P,"$postprocessors",f=function(){return this.postprocessor_extensions},f.$$arity=0),U.defn(P,"$include_processor",p=function(t){var e,n=p.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(p.$$p=null),ot(this,"add_document_processor",["include_processor",e],$.$to_proc())},p.$$arity=-1),U.defn(P,"$include_processors?",h=function(){return this.include_processor_extensions["$!"]()["$!"]()},h.$$arity=0),U.defn(P,"$include_processors",g=function(){return this.include_processor_extensions},g.$$arity=0),U.defn(P,"$docinfo_processor",b=function(t){var e,n=b.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(b.$$p=null),ot(this,"add_document_processor",["docinfo_processor",e],$.$to_proc())},b.$$arity=-1),U.defn(P,"$docinfo_processors?",m=function(e){var t,n;return null==e&&(e=et),!((t=this.docinfo_processor_extensions)===et||null==t||t.$$is_boolean&&1!=t)&&(!1===e||e===et||null==e||ot(this.docinfo_processor_extensions,"any?",[],((n=function(t){return n.$$s,null==t&&(t=et),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,n.$$arity=1,n)))},m.$$arity=-1),U.defn(P,"$docinfo_processors",y=function(e){var t,n;return null==e&&(e=et),(t=this.docinfo_processor_extensions)===et||null==t||t.$$is_boolean&&1!=t?et:!1!==e&&e!==et&&null!=e?ot(this.docinfo_processor_extensions,"select",[],((n=function(t){return n.$$s,null==t&&(t=et),t.$config()["$[]"]("location")["$=="](e)}).$$s=this,n.$$arity=1,n)):this.docinfo_processor_extensions},y.$$arity=-1),U.defn(P,"$block",v=function(t){var e,n=v.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(v.$$p=null),ot(this,"add_syntax_processor",["block",e],$.$to_proc())},v.$$arity=-1),U.defn(P,"$blocks?",w=function(){return this.block_extensions["$!"]()["$!"]()},w.$$arity=0),U.defn(P,"$registered_for_block?",x=function(t,e){var n,$=et;return!((n=$=this.block_extensions["$[]"](t.$to_sym()))===et||null==n||n.$$is_boolean&&1!=n)&&!((n=$.$config()["$[]"]("contexts")["$include?"](e))===et||null==n||n.$$is_boolean&&1!=n)&&$},x.$$arity=2),U.defn(P,"$find_block_extension",k=function(t){return this.block_extensions["$[]"](t.$to_sym())},k.$$arity=1),U.defn(P,"$block_macro",O=function(t){var e,n=O.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(O.$$p=null),ot(this,"add_syntax_processor",["block_macro",e],$.$to_proc())},O.$$arity=-1),U.defn(P,"$block_macros?",E=function(){return this.block_macro_extensions["$!"]()["$!"]()},E.$$arity=0),U.defn(P,"$registered_for_block_macro?",A=function(t){var e,n;return!((e=n=this.block_macro_extensions["$[]"](t.$to_sym()))===et||null==e||e.$$is_boolean&&1!=e)&&n},A.$$arity=1),U.defn(P,"$find_block_macro_extension",S=function(t){return this.block_macro_extensions["$[]"](t.$to_sym())},S.$$arity=1),U.defn(P,"$inline_macro",R=function(t){var e,n=R.$$p,$=n||et,r=arguments.length,o=r-0;o<0&&(o=0),e=new Array(o);for(var i=0;i<r;i++)e[i-0]=arguments[i];return n&&(R.$$p=null),ot(this,"add_syntax_processor",["inline_macro",e],$.$to_proc())},R.$$arity=-1),U.defn(P,"$inline_macros?",M=function(){return this.inline_macro_extensions["$!"]()["$!"]()},M.$$arity=0),U.defn(P,"$registered_for_inline_macro?",T=function(t){var e,n;return!((e=n=this.inline_macro_extensions["$[]"](t.$to_sym()))===et||null==e||e.$$is_boolean&&1!=e)&&n},T.$$arity=1),U.defn(P,"$find_inline_macro_extension",I=function(t){return this.inline_macro_extensions["$[]"](t.$to_sym())},I.$$arity=1),U.defn(P,"$inline_macros",C=function(){return this.inline_macro_extensions.$values()},C.$$arity=0),P.$private(),U.defn(P,"$add_document_processor",N=function(t,e){var n,$,r,o,i=this,s=N.$$p,l=s||et,a=et,c=et,u=et,_=et,d=et,f=et,p=et,h=et;return s&&(N.$$p=null),a=t.$to_s().$tr("_"," "),o=ot(a.$split(),"map",[],"capitalize".$to_proc()).$join().$to_sym(),c=U.const_get(q,"Extensions",!0,!0).$const_get(o),u=(n=U.const_get([U.Object.$$scope],"AsciidoctorJ",!0,!1)?"constant":et)===et||null==n||n.$$is_boolean&&1!=n?et:U.const_get([U.const_get([U.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(o),_=!1!==(n=i.$instance_variable_get(("@"+t+"_extensions").$to_sym()))&&n!==et&&null!=n?n:i.$instance_variable_set(("@"+t+"_extensions").$to_sym(),[]),(d=l!==et?(f=i.$resolve_args(e,1),p=c.$new(f),(n=c.$constants().$grep("DSL"))===et||null==n||n.$$is_boolean&&1!=n||p.$extend(c.$const_get("DSL")),ot(p,"instance_exec",[],l.$to_proc()),p.$freeze(),((n=p["$process_block_given?"]())===et||null==n||n.$$is_boolean&&1!=n)&&i.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"No block specified to process "+a+" extension at "+l.$source_location()),U.const_get(q,"ProcessorExtension",!0,!0).$new(t,p)):($=i.$resolve_args(e,2),n=U.to_ary($),p=null==n[0]?et:n[0],f=null==n[1]?et:n[1],(n=!1!==($=U.const_get([U.Object.$$scope],"Class",!0,!0)["$==="](p))&&$!==et&&null!=$?$:!1!==(r=U.const_get([U.Object.$$scope],"String",!0,!0)["$==="](p))&&r!==et&&null!=r?p=U.const_get(q,"Extensions",!0,!0).$class_for_name(p):r)===et||null==n||n.$$is_boolean&&1!=n?(n=!1!==($=c["$==="](p))&&$!==et&&null!=$?$:(r=!1!==u&&u!==et&&null!=u)?u["$==="](p):u)===et||null==n||n.$$is_boolean&&1!=n?i.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Invalid arguments specified for registering "+a+" extension: "+e):(p.$update_config(f),p.$freeze(),U.const_get(q,"ProcessorExtension",!0,!0).$new(t,p)):(((n=!1!==($=H(p,c))&&$!==et&&null!=$?$:(r=!1!==u&&u!==et&&null!=u)?H(p,u):u)===et||null==n||n.$$is_boolean&&1!=n)&&i.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Invalid type for "+a+" extension: "+p),(h=p.$new(f)).$freeze(),U.const_get(q,"ProcessorExtension",!0,!0).$new(t,h)))).$config()["$[]"]("position")["$=="](">>")?_.$unshift(d):_["$<<"](d)},N.$$arity=2),U.defn(P,"$add_syntax_processor",j=function(t,e){var n,$,r,o,i,s=this,l=j.$$p,a=l||et,c=et,u=et,_=et,d=et,f=et,p=et,h=et,g=et;return l&&(j.$$p=null),c=t.$to_s().$tr("_"," "),o=ot(c.$split(),"map",[],"capitalize".$to_proc()).$push("Processor").$join().$to_sym(),u=U.const_get(q,"Extensions",!0,!0).$const_get(o),_=(n=U.const_get([U.Object.$$scope],"AsciidoctorJ",!0,!1)?"constant":et)===et||null==n||n.$$is_boolean&&1!=n?et:U.const_get([U.const_get([U.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(o),i=!1!==(n=s.$instance_variable_get(("@"+t+"_extensions").$to_sym()))&&n!==et&&null!=n?n:s.$instance_variable_set(("@"+t+"_extensions").$to_sym(),rt([],{})),a!==et?($=s.$resolve_args(e,2),n=U.to_ary($),d=null==n[0]?et:n[0],f=null==n[1]?et:n[1],p=u.$new(s.$as_symbol(d),f),(n=u.$constants().$grep("DSL"))===et||null==n||n.$$is_boolean&&1!=n||p.$extend(u.$const_get("DSL")),a.$arity()["$=="](1)?U.yield1(a,p):ot(p,"instance_exec",[],a.$to_proc()),((n=d=s.$as_symbol(p.$name()))===et||null==n||n.$$is_boolean&&1!=n)&&s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+c+" extension at "+a.$source_location()),((n=p["$process_block_given?"]())===et||null==n||n.$$is_boolean&&1!=n)&&s.$raise(U.const_get([U.Object.$$scope],"NoMethodError",!0,!0),"No block specified to process "+c+" extension at "+a.$source_location()),p.$freeze(),h=[d,U.const_get(q,"ProcessorExtension",!0,!0).$new(t,p)],ot(i,"[]=",U.to_a(h)),h[F(h.length,1)]):($=s.$resolve_args(e,3),n=U.to_ary($),p=null==n[0]?et:n[0],d=null==n[1]?et:n[1],f=null==n[2]?et:n[2],(n=!1!==($=U.const_get([U.Object.$$scope],"Class",!0,!0)["$==="](p))&&$!==et&&null!=$?$:!1!==(r=U.const_get([U.Object.$$scope],"String",!0,!0)["$==="](p))&&r!==et&&null!=r?p=U.const_get(q,"Extensions",!0,!0).$class_for_name(p):r)===et||null==n||n.$$is_boolean&&1!=n?(n=!1!==($=u["$==="](p))&&$!==et&&null!=$?$:(r=!1!==_&&_!==et&&null!=_)?_["$==="](p):_)===et||null==n||n.$$is_boolean&&1!=n?s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Invalid arguments specified for registering "+c+" extension: "+e):(p.$update_config(f),((n=d=!1!==d&&d!==et&&null!=d?(h=[s.$as_symbol(d)],ot(p,"name=",U.to_a(h)),h[F(h.length,1)]):s.$as_symbol(p.$name()))===et||null==n||n.$$is_boolean&&1!=n)&&s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+c+" extension: "+p),p.$freeze(),h=[d,U.const_get(q,"ProcessorExtension",!0,!0).$new(t,p)],ot(i,"[]=",U.to_a(h)),h[F(h.length,1)]):(((n=!1!==($=H(p,u))&&$!==et&&null!=$?$:(r=!1!==_&&_!==et&&null!=_)?H(p,_):_)===et||null==n||n.$$is_boolean&&1!=n)&&s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Class specified for "+c+" extension does not inherit from "+u+": "+p),g=p.$new(s.$as_symbol(d),f),((n=d=s.$as_symbol(g.$name()))===et||null==n||n.$$is_boolean&&1!=n)&&s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"No name specified for "+c+" extension: "+p),p.$freeze(),h=[d,U.const_get(q,"ProcessorExtension",!0,!0).$new(t,g)],ot(i,"[]=",U.to_a(h)),h[F(h.length,1)]))},j.$$arity=2),U.defn(P,"$resolve_args",L=function(t,e){var n,$,r,o,i=et;return $=(n=U.const_get([U.Object.$$scope],"Hash",!0,!0)["$==="](t["$[]"](-1)))===et||null==n||n.$$is_boolean&&1!=n?rt([],{}):t.$pop(),e["$=="](1)?$:(r=i=F(F(e,1),t.$size()),o=0,(n="number"==typeof r&&"number"==typeof o?o<r:r["$>"](o))===et||null==n||n.$$is_boolean&&1!=n?(n=H(i,0))===et||null==n||n.$$is_boolean&&1!=n||t.$pop(i["$-@"]()):t=G(t,U.const_get([U.Object.$$scope],"Array",!0,!0).$new(i)),t["$<<"]($),t)},L.$$arity=2),U.defn(P,"$as_symbol",z=function(t){return!1!==t&&t!==et&&null!=t?t.$to_sym():et},z.$$arity=1)}(W.base,0,X),void function(t,e){t.$$proto,t.$$scope;var n,$,r,o,p,i,s,l,a=e.slice().concat(t);U.defn(t,"$generate_name",n=function(){return"extgrp"+this.$next_auto_id()},n.$$arity=0),U.defn(t,"$next_auto_id",$=function(){var t;return null==this.auto_id&&(this.auto_id=et),!1!==(t=this.auto_id)&&t!==et&&null!=t||(this.auto_id=-1),this.auto_id=G(this.auto_id,1)},$.$$arity=0),U.defn(t,"$groups",r=function(){var t;return null==this.groups&&(this.groups=et),!1!==(t=this.groups)&&t!==et&&null!=t?t:this.groups=rt([],{})},r.$$arity=0),U.defn(t,"$build_registry",o=function(t){var e,n=o.$$p,$=n||et;return null==t&&(t=et),n&&(o.$$p=null),$!==et?(!1!==(e=t)&&e!==et&&null!=e||(t=this.$generate_name()),U.const_get(a,"Registry",!0,!0).$new(it(t,$))):U.const_get(a,"Registry",!0,!0).$new()},o.$$arity=-1),U.defn(t,"$register",p=function(t){var e,n,$,r,o,i,s=this,l=p.$$p,a=l||et,c=et,u=et,_=arguments.length,d=_-0;d<0&&(d=0),n=new Array(d);for(var f=0;f<_;f++)n[f-0]=arguments[f];return l&&(p.$$p=null),$=n.$size(),r=a!==et?a:(e=(c=n.$pop())["$!"]())===et||null==e||e.$$is_boolean&&1!=e?(u=c,U.const_get([U.Object.$$scope],"Class",!0,!0)["$==="](u)?c:U.const_get([U.Object.$$scope],"String",!0,!0)["$==="](u)?s.$class_for_name(c):U.const_get([U.Object.$$scope],"Symbol",!0,!0)["$==="](u)?s.$class_for_name(c.$to_s()):c):s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Extension group to register not specified"),o=!1!==(e=n.$pop())&&e!==et&&null!=e?e:s.$generate_name(),((e=n["$empty?"]())===et||null==e||e.$$is_boolean&&1!=e)&&s.$raise(U.const_get([U.Object.$$scope],"ArgumentError",!0,!0),"Wrong number of arguments ("+$+" for 1..2)"),i=[o,r],ot(s.$groups(),"[]=",U.to_a(i)),i[F(i.length,1)]},p.$$arity=-1),U.defn(t,"$unregister_all",i=function(){return this.groups=rt([],{})},i.$$arity=0),U.defn(t,"$resolve_class",s=function(t){var e;return(e=U.const_get([U.Object.$$scope],"Class",!0,!0)["$==="](t))===et||null==e||e.$$is_boolean&&1!=e?this.$class_for_name(t.$to_s()):t},s.$$arity=1),U.defn(t,"$class_for_name",l=function($){var r,o=et;return o=U.const_get([U.Object.$$scope],"Object",!0,!0),ot($.$split("::"),"each",[],((r=function(t){var e,n=r.$$s||this;return null==t&&(t=et),(e=t["$empty?"]())===et||null==e||e.$$is_boolean&&1!=e?(e=o["$const_defined?"](t))===et||null==e||e.$$is_boolean&&1!=e?n.$raise(U.const_get([U.Object.$$scope],"NameError",!0,!0),"Could not resolve class for name: "+$):o=o.$const_get(t):et}).$$s=this,r.$$arity=1,r)),o},l.$$arity=1)}(U.get_singleton_class(K),X)},Opal.modules["asciidoctor/js/postscript"]=function(t){var e=t.top;t.nil,t.breaker,t.slice;return t.add_stubs(["$require"]),e.$require("asciidoctor/converter"),e.$require("asciidoctor/converter/composite"),e.$require("asciidoctor/converter/html5"),e.$require("asciidoctor/extensions")},function(D){function B(t,e){return"number"==typeof t&&"number"==typeof e?e<=t:t["$>="](e)}function q(t,e){return"number"==typeof t&&"number"==typeof e?t-e:t["$-"](e)}var t,e=D.top,n=D,$=[D],U=D.nil,r=(D.breaker,D.slice,D.gvars),y=D.module,F=D.hash2,G=D.send,v=D.hash;null==r[":"]&&(r[":"]=U),D.add_stubs(["$==","$>=","$require","$unshift","$dirname","$each","$constants","$const_get","$downcase","$to_s","$[]=","$-","$upcase","$[]","$values","$new","$attr_reader","$instance_variable_set","$send","$<<","$define","$expand_path","$join","$home","$pwd","$!","$!=","$default_external","$to_set","$map","$keys","$*","$to_a","$dup","$insert","$start","$===","$inject","$split","$gsub","$respond_to?","$raise","$ancestors","$class","$path","$utc","$at","$Integer","$mtime","$readlines","$basename","$extname","$index","$strftime","$year","$rewind","$lines","$each_line","$record","$parse","$exception","$message","$set_backtrace","$backtrace","$stack_trace","$stack_trace=","$open","$load","$delete","$key?","$attributes","$outfilesuffix","$safe","$normalize_system_path","$directory?","$mkdir_p","$convert","$write","$<","$attr?","$attr","$uriish?","$include?","$write_primary_stylesheet","$instance","$empty?","$nil?","$read_asset","$write_coderay_stylesheet","$write_pygments_stylesheet"]),((t=D.const_get([n],"RUBY_ENGINE",!0,!1)?"constant":U)===U||null==t||t.$$is_boolean&&1!=t)&&D.cdecl(n,"RUBY_ENGINE","unknown"),D.cdecl(n,"RUBY_ENGINE_OPAL",D.const_get($,"RUBY_ENGINE",!0,!0)["$=="]("opal")),D.cdecl(n,"RUBY_ENGINE_JRUBY",D.const_get($,"RUBY_ENGINE",!0,!0)["$=="]("jruby")),D.cdecl(n,"RUBY_MIN_VERSION_1_9",B(D.const_get($,"RUBY_VERSION",!0,!0),"1.9")),D.cdecl(n,"RUBY_MIN_VERSION_2",B(D.const_get($,"RUBY_VERSION",!0,!0),"2")),e.$require("set"),D.const_get($,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.$require("asciidoctor/js"),r[":"].$unshift(D.const_get($,"File",!0,!0).$dirname("asciidoctor")),function(t,e){var n,$,r,o,i,s,l,a,c,u,_,d,f=y(t,"Asciidoctor"),p=(f.$$proto,f.$$scope),h=e.slice().concat(p),g=U,b=U,m=U;D.cdecl(p,"RUBY_ENGINE",D.const_get([D.Object.$$scope],"RUBY_ENGINE",!0,!0)),function(t,e){var $,n,r,o,i,s=y(t,"SafeMode"),l=(s.$$proto,s.$$scope);e.slice().concat(l);D.cdecl(l,"UNSAFE",0),D.cdecl(l,"SAFE",1),D.cdecl(l,"SERVER",10),D.cdecl(l,"SECURE",20),i=F([],{}),G(s.$constants(),"each",[],(($=function(t){var e,n=$.$$s||this;return null==t&&(t=U),e=[n.$const_get(t),t.$to_s().$downcase()],G(i,"[]=",D.to_a(e)),e[q(e.length,1)]}).$$s=s,$.$$arity=1,$)),s.names_by_value=i,D.defs(s,"$value_for_name",n=function(t){return this.$const_get(t.$upcase())},n.$$arity=1),D.defs(s,"$name_for_value",r=function(t){return null==this.names_by_value&&(this.names_by_value=U),this.names_by_value["$[]"](t)},r.$$arity=1),D.defs(s,"$names",o=function(){return null==this.names_by_value&&(this.names_by_value=U),this.names_by_value.$values()},o.$$arity=0)}(p.base,h),i=p.base,s=h,(a=y(i,"Compliance")).$$proto,c=a.$$scope,u=s.slice().concat(c),a.keys=D.const_get([D.Object.$$scope],"Set",!0,!0).$new(),r=D.get_singleton_class(a),o=u,r.$$proto,r.$$scope,o.slice().concat(r),r.$attr_reader("keys"),D.defs(a,"$define",l=function(t,e){return null==this.keys&&(this.keys=U),this.$instance_variable_set("@"+t,e),(n=D.get_singleton_class(this),$=u,n.$$proto,n.$$scope,$.slice().concat(n),n).$send("attr_accessor",t),this.keys["$<<"](t),U;var n,$},l.$$arity=2),a.$define("block_terminates_paragraph",!0),a.$define("strict_verbatim_paragraphs",!0),a.$define("underline_style_section_titles",!0),a.$define("unwrap_standalone_preamble",!0),a.$define("attribute_missing","skip"),a.$define("attribute_undefined","drop-line"),a.$define("shorthand_property_syntax",!0),a.$define("unique_id_start_index",2),a.$define("markdown_syntax",!0),D.cdecl(p,"ROOT_PATH",D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path("asciidoctor")))),D.cdecl(p,"LIB_PATH",D.const_get([D.Object.$$scope],"File",!0,!0).$join(D.const_get(h,"ROOT_PATH",!0,!0),"lib")),D.cdecl(p,"DATA_PATH",D.const_get([D.Object.$$scope],"File",!0,!0).$join(D.const_get(h,"ROOT_PATH",!0,!0),"data"));try{D.cdecl(p,"USER_HOME",D.const_get([D.Object.$$scope],"Dir",!0,!0).$home())}catch(t){if(!D.rescue(t,[D.const_get(h,"StandardError",!0,!0)]))throw t;try{D.cdecl(p,"USER_HOME",!1!==(n=D.const_get([D.Object.$$scope],"ENV",!0,!0)["$[]"]("HOME"))&&n!==U&&null!=n?n:D.const_get([D.Object.$$scope],"Dir",!0,!0).$pwd())}finally{D.pop_exception()}}D.cdecl(p,"COERCE_ENCODING",!1!==(n=D.const_get([D.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())&&n!==U&&null!=n?D.const_get([D.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0):n),D.cdecl(p,"FORCE_ENCODING",!1!==(n=D.const_get(h,"COERCE_ENCODING",!0,!0))&&n!==U&&null!=n?D.const_get([D.Object.$$scope],"Encoding",!0,!0).$default_external()["$!="](D.const_get([D.const_get([D.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)):n),D.cdecl(p,"BOM_BYTES_UTF_8",[239,187,191]),D.cdecl(p,"BOM_BYTES_UTF_16LE",[255,254]),D.cdecl(p,"BOM_BYTES_UTF_16BE",[254,255]),D.cdecl(p,"FORCE_UNICODE_LINE_LENGTH",D.const_get([D.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0)["$!"]()),D.cdecl(p,"EOL","\n"),D.cdecl(p,"NULL","\0"),D.cdecl(p,"TAB","\t"),D.cdecl(p,"DEFAULT_DOCTYPE","article"),D.cdecl(p,"DEFAULT_BACKEND","html5"),D.cdecl(p,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),D.cdecl(p,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),D.cdecl(p,"BACKEND_ALIASES",F(["html","docbook"],{html:"html5",docbook:"docbook5"})),D.cdecl(p,"DEFAULT_PAGE_WIDTHS",F(["docbook"],{docbook:425})),D.cdecl(p,"DEFAULT_EXTENSIONS",F(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),D.cdecl(p,"ASCIIDOC_EXTENSIONS",F([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),D.cdecl(p,"SETEXT_SECTION_LEVELS",F(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),D.cdecl(p,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),D.cdecl(p,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),D.cdecl(p,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),D.cdecl(p,"DELIMITED_BLOCKS",F(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],",===":["table",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],":===":["table",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],"!===":["table",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],"////":["comment",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()],"```":["fenced_code",D.const_get([D.Object.$$scope],"Set",!0,!0).$new()]})),D.cdecl(p,"DELIMITED_BLOCK_LEADERS",G(D.const_get(h,"DELIMITED_BLOCKS",!0,!0).$keys(),"map",[],($=function(t){$.$$s;return null==t&&(t=U),t["$[]"](0,2)},$.$$s=f,$.$$arity=1,$)).$to_set()),D.cdecl(p,"LAYOUT_BREAK_LINES",F(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),D.cdecl(p,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),D.cdecl(p,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),D.cdecl(p,"ORDERED_LIST_KEYWORDS",F(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),D.cdecl(p,"LIST_CONTINUATION","+"),D.cdecl(p,"LINE_BREAK"," +"),D.cdecl(p,"LINE_CONTINUATION"," \\"),D.cdecl(p,"LINE_CONTINUATION_LEGACY"," +"),D.cdecl(p,"BLOCK_MATH_DELIMITERS",F(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),D.cdecl(p,"INLINE_MATH_DELIMITERS",F(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),D.cdecl(p,"FLEXIBLE_ATTRIBUTES",["sectnums"]),D.const_get(h,"RUBY_ENGINE",!0,!0)["$=="]("opal"),D.cdecl(p,"AuthorInfoLineRx",new RegExp("^("+D.const_get(h,"CG_WORD",!0,!0)+"["+D.const_get(h,"CC_WORD",!0,!0)+"\\-'.]*)(?: +("+D.const_get(h,"CG_WORD",!0,!0)+"["+D.const_get(h,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +("+D.const_get(h,"CG_WORD",!0,!0)+"["+D.const_get(h,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +<([^>]+)>)?$")),D.cdecl(p,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),D.cdecl(p,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),D.cdecl(p,"ManpageNamePurposeRx",new RegExp("^(.*?)"+D.const_get(h,"CG_BLANK",!0,!0)+"+-"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*)$")),D.cdecl(p,"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),D.cdecl(p,"EvalExpressionRx",new RegExp("^(\\S.*?)"+D.const_get(h,"CG_BLANK",!0,!0)+"*(==|!=|<=|>=|<|>)"+D.const_get(h,"CG_BLANK",!0,!0)+"*(\\S.*)$")),D.cdecl(p,"IncludeDirectiveRx",/^(\\)?include::([^\[]+)\[(.*?)\]$/),D.cdecl(p,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),D.cdecl(p,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$")),D.cdecl(p,"InvalidAttributeNameCharsRx",/[^\w\-]/),D.cdecl(p,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),D.cdecl(p,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),D.cdecl(p,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+D.const_get(h,"CC_ALPHA",!0,!0)+":_]["+D.const_get(h,"CC_WORD",!0,!0)+":.-]*)(?:,"+D.const_get(h,"CG_BLANK",!0,!0)+"*(\\S.*))?)\\]\\]$")),D.cdecl(p,"BlockAttributeListRx",new RegExp("^\\[(|"+D.const_get(h,"CG_BLANK",!0,!0)+"*["+D.const_get(h,"CC_WORD",!0,!0)+"\\{,.#\"'%].*)\\]$")),D.cdecl(p,"BlockAttributeLineRx",new RegExp("^\\[(|"+D.const_get(h,"CG_BLANK",!0,!0)+"*["+D.const_get(h,"CC_WORD",!0,!0)+"\\{,.#\"'%].*|\\[(?:|["+D.const_get(h,"CC_ALPHA",!0,!0)+":_]["+D.const_get(h,"CC_WORD",!0,!0)+":.-]*(?:,"+D.const_get(h,"CG_BLANK",!0,!0)+"*\\S.*)?)\\])\\]$")),D.cdecl(p,"BlockTitleRx",/^\.([^\s.].*)$/),D.cdecl(p,"AdmonitionParagraphRx",new RegExp("^("+(_=D.const_get(h,"ADMONITION_STYLES",!0,!0).$to_a(),d="|","number"==typeof _&&"number"==typeof d?_*d:_["$*"](d))+"):"+D.const_get(h,"CG_BLANK",!0,!0))),D.cdecl(p,"LiteralParagraphRx",new RegExp("^("+D.const_get(h,"CG_BLANK",!0,!0)+"+.*)$")),D.cdecl(p,"CommentBlockRx",/^\/{4,}$/),D.cdecl(p,"CommentLineRx",/^\/\/(?=[^\/]|$)/),D.cdecl(p,"AtxSectionRx",new RegExp("^(={1,6}|\\#{1,6})"+D.const_get(h,"CG_BLANK",!0,!0)+"+(\\S.*?)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+\\1)?$")),D.cdecl(p,"SetextSectionTitleRx",new RegExp("^((?=.*"+D.const_get(h,"CG_WORD",!0,!0)+"+.*)[^.].*?)$")),D.cdecl(p,"InlineSectionAnchorRx",new RegExp("^(.*?)"+D.const_get(h,"CG_BLANK",!0,!0)+"+(\\\\)?\\[\\[(["+D.const_get(h,"CC_ALPHA",!0,!0)+":_]["+D.const_get(h,"CC_WORD",!0,!0)+":.-]*)(?:,"+D.const_get(h,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]$")),D.cdecl(p,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+D.const_get(h,"CC_WORD",!0,!0)+"]+?")),D.cdecl(p,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),D.cdecl(p,"AnyListRx",new RegExp("^(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+D.const_get(h,"CG_BLANK",!0,!0)+"|"+D.const_get(h,"CG_BLANK",!0,!0)+"*.*?(?::{2,4}|;;)(?:$|"+D.const_get(h,"CG_BLANK",!0,!0)+")|<?\\d+>"+D.const_get(h,"CG_BLANK",!0,!0)+")")),D.cdecl(p,"UnorderedListRx",new RegExp("^"+D.const_get(h,"CG_BLANK",!0,!0)+"*(-|\\*{1,5}|\\u2022{1,5})"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*)$")),D.cdecl(p,"OrderedListRx",new RegExp("^"+D.const_get(h,"CG_BLANK",!0,!0)+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*)$")),D.cdecl(p,"OrderedListMarkerRxMap",F(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),D.cdecl(p,"DescriptionListRx",new RegExp("^(?!//)"+D.const_get(h,"CG_BLANK",!0,!0)+"*(.*?)(:{2,4}|;;)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$")),D.cdecl(p,"DescriptionListSiblingRx",F(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+D.const_get(h,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$"),":::":new RegExp("^(?!//)"+D.const_get(h,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(:::)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$"),"::::":new RegExp("^(?!//)"+D.const_get(h,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::::)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$"),";;":new RegExp("^(?!//)"+D.const_get(h,"CG_BLANK",!0,!0)+"*(.*)(;;)(?:"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*))?$")})),D.cdecl(p,"CalloutListRx",new RegExp("^<?(\\d+)>"+D.const_get(h,"CG_BLANK",!0,!0)+"+(.*)$")),D.cdecl(p,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),D.cdecl(p,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),D.cdecl(p,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+D.const_get(h,"CC_EOL",!0,!0)+")")),D.cdecl(p,"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+D.const_get(h,"CC_EOL",!0,!0)+")")),D.cdecl(p,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+D.const_get(h,"CC_EOL",!0,!0)+")"),D.cdecl(p,"ListRxMap",F(["ulist","olist","dlist","colist"],{ulist:D.const_get(h,"UnorderedListRx",!0,!0),olist:D.const_get(h,"OrderedListRx",!0,!0),dlist:D.const_get(h,"DescriptionListRx",!0,!0),colist:D.const_get(h,"CalloutListRx",!0,!0)})),D.cdecl(p,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),D.cdecl(p,"CellSpecStartRx",new RegExp("^"+D.const_get(h,"CG_BLANK",!0,!0)+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),D.cdecl(p,"CellSpecEndRx",new RegExp(D.const_get(h,"CG_BLANK",!0,!0)+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),D.cdecl(p,"GenericBlockMacroRx",new RegExp("^("+D.const_get(h,"CG_WORD",!0,!0)+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),D.cdecl(p,"MediaBlockMacroRx",/^(image|video|audio)::(.+?)\[((?:\\\]|[^\]])*?)\]$/),D.cdecl(p,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),D.cdecl(p,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+D.const_get(h,"CC_ALPHA",!0,!0)+":_]["+D.const_get(h,"CC_WORD",!0,!0)+":.-]*)(?:,"+D.const_get(h,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),D.cdecl(p,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+D.const_get(h,"CC_WORD",!0,!0)+":]["+D.const_get(h,"CC_WORD",!0,!0)+":.-]*?)\\]\\]\\]")),D.cdecl(p,"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+D.const_get(h,"CG_WORD",!0,!0)+"["+D.const_get(h,"CC_WORD",!0,!0)+".%+-]*@"+D.const_get(h,"CG_ALNUM",!0,!0)+"["+D.const_get(h,"CC_ALNUM",!0,!0)+".-]*\\."+D.const_get(h,"CG_ALPHA",!0,!0)+"{2,4}\\b")),D.cdecl(p,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+D.const_get(h,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),D.cdecl(p,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),D.cdecl(p,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+D.const_get(h,"CC_ALL",!0,!0)+"*?[^\\\\])\\]|\\(\\(("+D.const_get(h,"CC_ALL",!0,!0)+"+?)\\)\\)(?!\\)))","m")),D.cdecl(p,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),D.cdecl(p,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+D.const_get(h,"CG_BLANK",!0,!0)+"*[^\\1])")),D.cdecl(p,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),D.cdecl(p,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),D.cdecl(p,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+D.const_get(h,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m")),D.cdecl(p,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+D.const_get(h,"CG_WORD",!0,!0)+"|"+D.const_get(h,"CG_WORD",!0,!0)+".*?\\S)\\["+D.const_get(h,"CG_BLANK",!0,!0)+"*(.+?)?\\]")),D.cdecl(p,"MenuInlineRx",new RegExp('\\\\?"('+D.const_get(h,"CG_WORD",!0,!0)+'[^"]*?'+D.const_get(h,"CG_BLANK",!0,!0)+"*&gt;"+D.const_get(h,"CG_BLANK",!0,!0)+'*[^" \\t][^"]*)"')),D.cdecl(p,"PassInlineRx",v(!1,["+","`",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)\\4)(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")],!0,["`",U,new RegExp("(^|[^`"+D.const_get(h,"CC_WORD",!0,!0)+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)\\4)(?![`"+D.const_get(h,"CC_WORD",!0,!0)+"])","m")])),D.cdecl(p,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\$\\$)("+D.const_get(h,"CC_ALL",!0,!0)+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+D.const_get(h,"CC_ALL",!0,!0)+"*?[^\\\\])\\])","m")),D.cdecl(p,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+D.const_get(h,"CC_WORD",!0,!0)+'":./]'+D.const_get(h,"CC_ALL",!0,!0)+"*?)&gt;&gt;|xref:(["+D.const_get(h,"CC_WORD",!0,!0)+'":./]'+D.const_get(h,"CC_ALL",!0,!0)+"*?)\\[("+D.const_get(h,"CC_ALL",!0,!0)+"*?)\\])","m")),D.const_get(h,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&D.cdecl(p,"LineBreakRx",/^(.*) \+$/m),D.cdecl(p,"LayoutBreakLineRx",/^('|<){3,}$/),D.cdecl(p,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-*_])( *)\1\2\1$/),D.cdecl(p,"BlankLineRx",/\n{2,}/),D.cdecl(p,"DataDelimiterRx",/[,;]/),D.cdecl(p,"DoubleQuotedMultiRx",new RegExp('^("|)('+D.const_get(h,"CC_ALL",!0,!0)+"*)\\1$","m")),D.cdecl(p,"TrailingDigitsRx",/\d+$/),D.cdecl(p,"EscapedSpaceRx",new RegExp("\\\\("+D.const_get(h,"CG_BLANK",!0,!0)+")")),D.cdecl(p,"SpaceDelimiterRx",new RegExp("([^\\\\])"+D.const_get(h,"CG_BLANK",!0,!0)+"+")),D.cdecl(p,"SubModifierSniffRx",/[+-]/),D.const_get(h,"RUBY_ENGINE",!0,!0)["$=="]("opal"),D.cdecl(p,"UriSniffRx",new RegExp("^"+D.const_get(h,"CG_ALPHA",!0,!0)+"["+D.const_get(h,"CC_ALNUM",!0,!0)+".+-]+:/{0,2}")),D.cdecl(p,"UriTerminatorRx",/[);:]$/),D.cdecl(p,"XmlSanitizeRx",/<[^>]+>/),D.cdecl(p,"INTRINSIC_ATTRIBUTES",F(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),b=(g=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+D.const_get(h,"CC_ALL",!0,!0)+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)\\*(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")],["double","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+D.const_get(h,"CC_ALL",!0,!0)+'*?\\S)`"(?!'+D.const_get(h,"CG_WORD",!0,!0)+")","m")],["single","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)`'(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+D.const_get(h,"CC_ALL",!0,!0)+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)`(?!["+D.const_get(h,"CC_WORD",!0,!0)+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+D.const_get(h,"CC_ALL",!0,!0)+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)_(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+D.const_get(h,"CC_ALL",!0,!0)+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)#(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]]).$dup(),m=[2,["double","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)''(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")]],G(b,"[]=",D.to_a(m)),m[q(m.length,1)],m=[3,["single","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)'(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")]],G(b,"[]=",D.to_a(m)),m[q(m.length,1)],m=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+D.const_get(h,"CC_ALL",!0,!0)+"+?)\\+\\+","m")]],G(b,"[]=",D.to_a(m)),m[q(m.length,1)],m=[5,["monospaced","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)\\+(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")]],G(b,"[]=",D.to_a(m)),m[q(m.length,1)],b.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+D.const_get(h,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+D.const_get(h,"CC_ALL",!0,!0)+"*?\\S)'(?!"+D.const_get(h,"CG_WORD",!0,!0)+")","m")]),D.cdecl(p,"QUOTE_SUBS",v(!1,g,!0,b)),b=g=U,D.cdecl(p,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+D.const_get(h,"CG_WORD",!0,!0)+")\\\\?--(?="+D.const_get(h,"CG_WORD",!0,!0)+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+D.const_get(h,"CG_ALNUM",!0,!0)+")\\\\?'(?="+D.const_get(h,"CG_ALPHA",!0,!0)+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]),function(t,e){t.$$proto,t.$$scope;var n,$,r,o,P=e.slice().concat(t);D.defn(t,"$load",n=function(t,e){var n,$,r,i,s,o,l=this,a=U,c=U,u=U,_=U,d=U,f=U,p=U,h=U,g=U,b=U,m=U,y=U,v=U,w=U,x=U;null==e&&(e=F([],{}));try{if(e=e.$dup(),(n=a=e["$[]"]("timings"))===U||null==n||n.$$is_boolean&&1!=n||a.$start("read"),u=["attributes",(n=(_=e["$[]"]("attributes"))["$!"]())===U||null==n||n.$$is_boolean&&1!=n?(n=!1!==($=D.const_get([D.Object.$$scope],"Hash",!0,!0)["$==="](_))&&$!==U&&null!=$?$:!1!==(r=D.const_get([D.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0))&&r!==U&&null!=r?D.const_get([D.const_get([D.const_get([D.Object.$$scope],"Java",!0,!0).$$scope],"JavaUtil",!0,!0).$$scope],"Map",!0,!0)["$==="](_):r)===U||null==n||n.$$is_boolean&&1!=n?(n=D.const_get([D.Object.$$scope],"Array",!0,!0)["$==="](_))===U||null==n||n.$$is_boolean&&1!=n?(n=D.const_get([D.Object.$$scope],"String",!0,!0)["$==="](_))===U||null==n||n.$$is_boolean&&1!=n?($=_["$respond_to?"]("keys"),(n=!1!==$&&$!==U&&null!=$?_["$respond_to?"]("[]"):$)===U||null==n||n.$$is_boolean&&1!=n?l.$raise(D.const_get([D.Object.$$scope],"ArgumentError",!0,!0),"illegal type for attributes option: "+_.$class().$ancestors()):(f=_,_=F([],{}),G(f.$keys(),"each",[],((o=function(t){return o.$$s,null==t&&(t=U),u=[t,f["$[]"](t)],G(_,"[]=",D.to_a(u)),u[q(u.length,1)]}).$$s=l,o.$$arity=1,o)),_)):(d="\\1",_=_.$gsub(D.const_get(P,"SpaceDelimiterRx",!0,!0),""+d+D.const_get(P,"NULL",!0,!0)).$gsub(D.const_get(P,"EscapedSpaceRx",!0,!0),d),G(_.$split(D.const_get(P,"NULL",!0,!0)),"inject",[F([],{})],((s=function(t,e){var n,$,r,o;return s.$$s,null==t&&(t=U),null==e&&(e=U),$=e.$split("=",2),r=null==(n=D.to_ary($))[0]?U:n[0],o=null==n[1]?U:n[1],u=[r,!1!==(n=o)&&n!==U&&null!=n?n:""],G(t,"[]=",D.to_a(u)),u[q(u.length,1)],t}).$$s=l,s.$$arity=2,s))):G(_,"inject",[F([],{})],((i=function(t,e){var n,$,r,o;return i.$$s,null==t&&(t=U),null==e&&(e=U),$=e.$split("=",2),r=null==(n=D.to_ary($))[0]?U:n[0],o=null==n[1]?U:n[1],u=[r,!1!==(n=o)&&n!==U&&null!=n?n:""],G(t,"[]=",D.to_a(u)),u[q(u.length,1)],t}).$$s=l,i.$$arity=2,i)):_.$dup():F([],{})],G(e,"[]=",D.to_a(u)),c=u[q(u.length,1)],p=U,(n=D.const_get([D.Object.$$scope],"File",!0,!0)["$==="](t))===U||null==n||n.$$is_boolean&&1!=n)if((n=t["$respond_to?"]("readlines"))===U||null==n||n.$$is_boolean&&1!=n)(n=D.const_get([D.Object.$$scope],"String",!0,!0)["$==="](t))===U||null==n||n.$$is_boolean&&1!=n?(n=D.const_get([D.Object.$$scope],"Array",!0,!0)["$==="](t))===U||null==n||n.$$is_boolean&&1!=n?l.$raise(D.const_get([D.Object.$$scope],"ArgumentError",!0,!0),"unsupported input type: "+t.$class()):p=t.$dup():p=(n=D.const_get([D.Object.$$scope],"RUBY_MIN_VERSION_2",!0,!0))===U||null==n||n.$$is_boolean&&1!=n?t.$each_line().$to_a():t.$lines();else{try{t.$rewind()}catch(t){if(!D.rescue(t,[D.const_get(P,"StandardError",!0,!0)]))throw t;D.pop_exception()}p=t.$readlines()}else h=D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(t.$path()),g=(n=D.const_get([D.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===U||null==n||n.$$is_boolean&&1!=n?t.$mtime():D.const_get([D.Object.$$scope],"Time",!0,!0).$at(l.$Integer(D.const_get([D.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))).$utc(),p=t.$readlines(),u=["docfile",h],G(c,"[]=",D.to_a(u)),u[q(u.length,1)],u=["docdir",D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(h)],G(c,"[]=",D.to_a(u)),u[q(u.length,1)],u=["docname",D.const_get(P,"Helpers",!0,!0).$basename(h,(u=["docfilesuffix",D.const_get([D.Object.$$scope],"File",!0,!0).$extname(h)],G(c,"[]=",D.to_a(u)),u[q(u.length,1)]))],G(c,"[]=",D.to_a(u)),u[q(u.length,1)],(n=b=c["$[]"]("docdate"))===U||null==n||n.$$is_boolean&&1!=n?(u=["docdate",g.$strftime("%Y-%m-%d")],G(c,"[]=",D.to_a(u)),b=u[q(u.length,1)],!(n="docyear")!==(r=($=c)["$[]"](n))&&r!==U&&null!=r||$["$[]="](n,g.$year().$to_s())):!(n="docyear")!==(r=($=c)["$[]"](n))&&r!==U&&null!=r||$["$[]="](n,b.$index("-")["$=="](4)?b["$[]"](0,4):U),m=!(n="doctime")!==(r=($=c)["$[]"](n))&&r!==U&&null!=r?r:$["$[]="](n,g.$strftime("%H:%M:%S %Z")),u=["docdatetime",b+" "+m],G(c,"[]=",D.to_a(u)),u[q(u.length,1)];return!1!==a&&a!==U&&null!=a&&(a.$record("read"),a.$start("parse")),y=e["$[]"]("parse")["$=="](!1)?D.const_get(P,"Document",!0,!0).$new(p,e):D.const_get(P,"Document",!0,!0).$new(p,e).$parse(),!1!==a&&a!==U&&null!=a&&a.$record("parse"),y}catch(t){if(!D.rescue(t,[D.const_get(P,"StandardError",!0,!0)]))throw t;v=t;try{try{w="asciidoctor: FAILED: "+(!1!==(n=c["$[]"]("docfile"))&&n!==U&&null!=n?n:"<stdin>")+": Failed to load AsciiDoc document",(n=v["$respond_to?"]("exception"))===U||null==n||n.$$is_boolean&&1!=n?(x=v.$class().$new(w,v),u=[v.$stack_trace()],G(x,"stack_trace=",D.to_a(u)),u[q(u.length,1)]):(x=v.$exception(w+" - "+v.$message())).$set_backtrace(v.$backtrace())}catch(t){if(!D.rescue(t,[D.const_get(P,"StandardError",!0,!0)]))throw t;try{x=v}finally{D.pop_exception()}}return l.$raise(x)}finally{D.pop_exception()}}},n.$$arity=-2),D.defn(t,"$load_file",$=function(t,n){var $;return null==n&&(n=F([],{})),G(D.const_get([D.Object.$$scope],"File",!0,!0),"open",[t],(($=function(t){var e=$.$$s||this;return null==t&&(t=U),e.$load(t,n)}).$$s=this,$.$$arity=1,$))},$.$$arity=-2),D.defn(t,"$convert",r=function(t,e){var n,$,r,o,i,s,l,a,c,u,_,d,f,p=U,h=U,g=U,b=U,m=U,y=U,v=U,w=U,x=U,k=U,O=U,E=U,A=U,S=U,R=U,M=U,T=U,I=U,C=U,N=U,j=U,L=U,z=U;if(null==e&&(e=F([],{})),(e=e.$dup()).$delete("parse"),p=e.$delete("to_file"),h=e.$delete("to_dir"),a=!1!==(n=e.$delete("mkdirs"))&&n!==U&&null!=n&&n,g=e["$[]"]("timings"),(!0)["$==="](c=p)||U["$==="](c))b=!1!==(n=h["$!"]())&&n!==U&&null!=n?D.const_get([D.Object.$$scope],"File",!0,!0)["$==="](t):n,m=!1,y=h,p=U;else if((!1)["$==="](c))y=m=b=!1,p=U;else{if("/dev/null"["$==="](c))return this.$load(t,e);b=!1,y=!!((n=m=p["$respond_to?"]("write"))===U||null==n||n.$$is_boolean&&1!=n)&&p}return((n=e["$key?"]("header_footer"))===U||null==n||n.$$is_boolean&&1!=n)&&((n=!1!==($=b)&&$!==U&&null!=$?$:y)===U||null==n||n.$$is_boolean&&1!=n||(v=["header_footer",!0],G(e,"[]=",D.to_a(v)),v[q(v.length,1)])),!1!==b&&b!==U&&null!=b?(w=D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(t.$path()),v=["to_dir",x=D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(w)],G(e,"[]=",D.to_a(v)),v[q(v.length,1)]):!1!==y&&y!==U&&null!=y?!1!==h&&h!==U&&null!=h?(v=!1!==p&&p!==U&&null!=p?["to_dir",D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(D.const_get([D.Object.$$scope],"File",!0,!0).$join(h,p,".."))]:["to_dir",D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(h)],G(e,"[]=",D.to_a(v)),v[q(v.length,1)]):!1!==p&&p!==U&&null!=p&&(v=["to_dir",D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(p,"..")],G(e,"[]=",D.to_a(v)),v[q(v.length,1)]):(v=["to_dir",U],G(e,"[]=",D.to_a(v)),v[q(v.length,1)]),k=this.$load(t,e),!1!==b&&b!==U&&null!=b?(O=D.const_get([D.Object.$$scope],"File",!0,!0).$join(x,""+k.$attributes()["$[]"]("docname")+k.$outfilesuffix()))["$=="](w)&&this.$raise(D.const_get([D.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+O):!1!==y&&y!==U&&null!=y?(E=(n=e["$key?"]("base_dir"))===U||null==n||n.$$is_boolean&&1!=n?D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(D.const_get([D.Object.$$scope],"Dir",!0,!0).$pwd()):D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(e["$[]"]("base_dir")),A=(n=B(k.$safe(),D.const_get([D.const_get(P,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===U||null==n||n.$$is_boolean&&1!=n?U:E,!1!==h&&h!==U&&null!=h?(x=k.$normalize_system_path(h,E,A,F(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==p&&p!==U&&null!=p?(O=k.$normalize_system_path(p,x,U,F(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(O)):O=D.const_get([D.Object.$$scope],"File",!0,!0).$join(x,""+k.$attributes()["$[]"]("docname")+k.$outfilesuffix())):!1!==p&&p!==U&&null!=p&&(O=k.$normalize_system_path(p,E,A,F(["target_name","recover"],{target_name:"to_dir",recover:!1})),x=D.const_get([D.Object.$$scope],"File",!0,!0).$dirname(O)),$=D.const_get([D.Object.$$scope],"File",!0,!0)["$==="](t),(n=!1!==$&&$!==U&&null!=$?O["$=="](D.const_get([D.Object.$$scope],"File",!0,!0).$expand_path(t.$path())):$)===U||null==n||n.$$is_boolean&&1!=n||this.$raise(D.const_get([D.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+O),((n=D.const_get([D.Object.$$scope],"File",!0,!0)["$directory?"](x))===U||null==n||n.$$is_boolean&&1!=n)&&(!1!==a&&a!==U&&null!=a?D.const_get(P,"Helpers",!0,!0).$mkdir_p(x):this.$raise(D.const_get([D.Object.$$scope],"IOError",!0,!0),"target directory does not exist: "+h))):(O=p,x=U),!1!==g&&g!==U&&null!=g&&g.$start("convert"),u=(n=($=!1!==O&&O!==U&&null!=O)?m["$!"]():O)===U||null==n||n.$$is_boolean&&1!=n?F([],{}):F(["outfile","outdir"],{outfile:O,outdir:x}),_=k.$convert(u),!1!==g&&g!==U&&null!=g&&g.$record("convert"),!1!==O&&O!==U&&null!=O?(!1!==g&&g!==U&&null!=g&&g.$start("write"),k.$write(_,O),!1!==g&&g!==U&&null!=g&&g.$record("write"),r=!1!==(o=!1!==(i=!1!==(s=m["$!"]())&&s!==U&&null!=s?(d=k.$safe(),f=D.const_get([D.const_get(P,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0),"number"==typeof d&&"number"==typeof f?d<f:d["$<"](f)):s)&&i!==U&&null!=i?k["$attr?"]("linkcss"):i)&&o!==U&&null!=o?k["$attr?"]("copycss"):o,$=!1!==r&&r!==U&&null!=r?k["$attr?"]("basebackend-html"):r,(n=!1!==$&&$!==U&&null!=$?(r=S=k.$attr("stylesdir"),!1!==r&&r!==U&&null!=r?D.const_get(P,"Helpers",!0,!0)["$uriish?"](S):r)["$!"]():$)===U||null==n||n.$$is_boolean&&1!=n||(M=R=!1,(n=T=k.$attr("stylesheet"))===U||null==n||n.$$is_boolean&&1!=n||((n=D.const_get(P,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](T))===U||null==n||n.$$is_boolean&&1!=n?(n=D.const_get(P,"Helpers",!0,!0)["$uriish?"](T)["$!"]())===U||null==n||n.$$is_boolean&&1!=n||(M=!0):R=!0),I=!1!==(n=k["$attr?"]("source-highlighter","coderay"))&&n!==U&&null!=n?k.$attr("coderay-css","class")["$=="]("class"):n,C=!1!==(n=k["$attr?"]("source-highlighter","pygments"))&&n!==U&&null!=n?k.$attr("pygments-css","class")["$=="]("class"):n,(n=!1!==($=!1!==(r=!1!==(o=R)&&o!==U&&null!=o?o:M)&&r!==U&&null!=r?r:I)&&$!==U&&null!=$?$:C)===U||null==n||n.$$is_boolean&&1!=n||(N=k.$normalize_system_path(S,x,(n=B(k.$safe(),D.const_get([D.const_get(P,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===U||null==n||n.$$is_boolean&&1!=n?U:x),!1!==a&&a!==U&&null!=a&&D.const_get(P,"Helpers",!0,!0).$mkdir_p(N),!1!==R&&R!==U&&null!=R?D.const_get(P,"Stylesheets",!0,!0).$instance().$write_primary_stylesheet(N):!1!==M&&M!==U&&null!=M&&(j=(n=(j=k.$attr("copycss"))["$empty?"]())===U||null==n||n.$$is_boolean&&1!=n?k.$normalize_system_path(j):k.$normalize_system_path(T),L=k.$normalize_system_path(T,N,(n=B(k.$safe(),D.const_get([D.const_get(P,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===U||null==n||n.$$is_boolean&&1!=n?U:x),((n=!1!==($=j["$=="](L))&&$!==U&&null!=$?$:(z=k.$read_asset(j))["$nil?"]())===U||null==n||n.$$is_boolean&&1!=n)&&G(D.const_get([D.Object.$$scope],"File",!0,!0),"open",[L,"w"],((l=function(t){l.$$s;return null==t&&(t=U),t.$write(z)}).$$s=this,l.$$arity=1,l))),!1!==I&&I!==U&&null!=I?D.const_get(P,"Stylesheets",!0,!0).$instance().$write_coderay_stylesheet(N):!1!==C&&C!==U&&null!=C&&D.const_get(P,"Stylesheets",!0,!0).$instance().$write_pygments_stylesheet(N,k.$attr("pygments-style")))),k):_},r.$$arity=-2),D.alias(t,"render","convert"),D.defn(t,"$convert_file",o=function(t,n){var $;return null==n&&(n=F([],{})),G(D.const_get([D.Object.$$scope],"File",!0,!0),"open",[t],(($=function(t){var e=$.$$s||this;return null==t&&(t=U),e.$convert(t,n)}).$$s=this,$.$$arity=1,$))},o.$$arity=-2),D.alias(t,"render_file","convert_file")}(D.get_singleton_class(f),h),D.const_get(h,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(f.$require("asciidoctor/version"),f.$require("asciidoctor/timings"))}(n.base,$),e.$require("asciidoctor/core_ext"),e.$require("asciidoctor/helpers"),e.$require("asciidoctor/substitutors"),e.$require("asciidoctor/abstract_node"),e.$require("asciidoctor/abstract_block"),e.$require("asciidoctor/attribute_list"),e.$require("asciidoctor/block"),e.$require("asciidoctor/callouts"),e.$require("asciidoctor/converter"),e.$require("asciidoctor/document"),e.$require("asciidoctor/inline"),e.$require("asciidoctor/list"),e.$require("asciidoctor/parser"),e.$require("asciidoctor/path_resolver"),e.$require("asciidoctor/reader"),e.$require("asciidoctor/section"),e.$require("asciidoctor/stylesheets"),e.$require("asciidoctor/table"),D.const_get($,"RUBY_ENGINE",!0,!0)["$=="]("opal")&&e.$require("asciidoctor/js/postscript")}(Opal);var o=function(t){return t&&!t.smap?Opal.hash(t):t},$=function(t){if(t=o(t)){var e=t["$[]"]("attributes");e&&"object"==typeof e&&"Object"===e.constructor.name&&(t=t.$dup())["$[]="]("attributes",o(e))}return t};Opal.Asciidoctor.$$class.$$proto.convert=function(t,e){"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8"));var n=this.$convert(t,$(e));return n===Opal.nil?"":n},Opal.Asciidoctor.$$class.$$proto.convertFile=function(t,e){return this.$convert_file(t,$(e))},Opal.Asciidoctor.$$class.$$proto.load=function(t,e){return"object"==typeof t&&"Buffer"===t.constructor.name&&(t=t.toString("utf8")),this.$load(t,$(e))},Opal.Asciidoctor.$$class.$$proto.loadFile=function(t,e){return this.$load_file(t,$(e))},Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){var t=this.title;return t===Opal.nil?"":t},Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style},Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption},Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level},Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=function(){return this.blocks},Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(t,e){return void 0===e&&"function"==typeof t?Opal.send(this,"find_by",null,t):"function"==typeof e?Opal.send(this,"find_by",[o(t)],e):this.$find_by(o(t))},Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()},Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){for(var t,e={},n=this.attributes,$=0,r=n.$$keys,o=n.$$smap,i=r.length;$<i;$++)e[t=r[$]]=o[t];return e},Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(t,e,n){var $=this.$attr(t,e,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(t,e,n){var $=this["$attr?"](t,e,n);if($!==Opal.nil)return $},Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(t,e,n){return void 0===n&&(n=!0),this.$set_attribute(t,e,n)},Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()},Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(t){return this["$role?"](t)},Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()},Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(t){return this["$has_role?"](t)},Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()},Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(t){return this.$add_role(t)},Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(t){return this.$remove_role(t)},Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()},Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()},Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var t=this.context;return t&&"function"==typeof t.$to_s?t.$to_s():t},Opal.Asciidoctor.AbstractNode.$$proto.getId=function(){return this.id},Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(t){return this["$option?"](t)},Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(t){return this.$set_option(t)},Opal.Asciidoctor.AbstractNode.$$proto.getIconUri=function(t){return this.$icon_uri(t)},Opal.Asciidoctor.AbstractNode.$$proto.getMediaUri=function(t,e){return this.$media_uri(t,e)},Opal.Asciidoctor.AbstractNode.$$proto.getImageUri=function(t,e){return this.$image_uri(t,e)},Opal.Asciidoctor.AbstractNode.$$proto.getConverter=function(){return this.$converter()},Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(t,e){return this.$read_contents(t,o(e))},Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(t,e){return this.$read_asset(t,o(e))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(t,e,n){return this.$normalize_web_path(t,e,n)},Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(t,e,n,$){return this.$normalize_system_path(t,e,n,o($))},Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=function(t,e,n){return this.$normalize_asset_path(t,e,n)},Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header},Opal.Asciidoctor.Document.$$proto.setAttribute=function(t,e){return this.$set_attribute(t,e)},Opal.Asciidoctor.Document.$$proto.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},Opal.Asciidoctor.Document.$$proto.convert=function(t){var e=this.$convert(o(t));return e===Opal.nil?"":e},Opal.Asciidoctor.Document.$$proto.write=function(t,e){return this.$write(t,e)},Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()},Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()},Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()},Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()},Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()},Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()},Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()},Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()},Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()},Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()},Opal.Asciidoctor.Document.$$proto.isBasebackend=function(t){return this["$basebackend?"](t)},Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()},Opal.Asciidoctor.Document.$$proto.setTitle=function(t){return this["$title="](t)},Opal.Asciidoctor.Document.$$proto.getDoctitle=Opal.Asciidoctor.Document.$$proto.getDocumentTitle=function(t){return this.$doctitle(o(t))},Opal.Asciidoctor.Document.$$proto.getRevdate=Opal.Asciidoctor.Document.$$proto.getRevisionDate=function(){return this.$revdate()},Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()},Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()},Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()},Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()},Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(t){return this.$delete_attribute(t)},Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},Opal.Asciidoctor.Document.$$proto.parse=function(t){return this.$parse(t)},Opal.Asciidoctor.Document.$$proto.getDocinfo=function(t,e){return this.$docinfo(t,e)},Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},Opal.Asciidoctor.Document.$$proto.counterIncrement=function(t,e){return this.$counter_increment(t,e)},Opal.Asciidoctor.Document.$$proto.counter=function(t,e){return this.$counter(t,e)},Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe},Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode},Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap},Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references},Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters},Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts},Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir},Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options},Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix},Opal.Asciidoctor.Document.$$proto.getParentDocument=function(){return this.$parent_document},Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader},Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter},Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions},Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main},Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined},Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle},Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var t=this["$sanitized?"]();return t!==Opal.nil&&t},Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()},Opal.Asciidoctor.Inline.$$proto.convert=function(){return this.$convert()};var n=function(t){return t.$$arity=t.length,t},t=Opal.Asciidoctor.$$scope.Extensions;return t.register=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"register",null,n(t)):Opal.send(this,"register",[t],n(e))},t.Registry.$$proto.block=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"block",null,n(t)):Opal.send(this,"block",[t],n(e))},t.Registry.$$proto.inlineMacro=function(t,e){return"function"==typeof t&&void 0===e?Opal.send(this,"inline_macro",null,n(t)):Opal.send(this,"inline_macro",[t],n(e))},t.Processor.$$proto.process=function(t){return Opal.send(this,"process",null,n(t))},t.Processor.$$proto.createBlock=function(t,e,n,$,r){return this.$create_block(t,e,n,o($),o(r))},t.Processor.$$proto.createInline=function(t,e,n,$){return this.$create_inline(t,e,n,o($))},t.Processor.$$proto.parseContent=function(t,e,n){return this.$parse_content(t,e,n)},t.BlockProcessor.$$proto.named=function(t){return this.$named(t)},t.BlockProcessor.$$proto.onContext=function(t){return this.$on_context(t)},Opal.Asciidoctor});
